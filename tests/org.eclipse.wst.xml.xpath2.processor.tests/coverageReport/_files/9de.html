<HTML><HEAD><META CONTENT="text/html; charset=UTF-8" HTTP-EQUIV="Content-Type"/><TITLE>EMMA Coverage Report</TITLE><STYLE TYPE="text/css"> TABLE,TD,TH {border-style:solid; border-color:black;} TD,TH {background:white;margin:0;line-height:100%;padding-left:0.5em;padding-right:0.5em;} TD {border-width:0 1px 0 0;} TH {border-width:1px 1px 1px 0;} TR TD.h {color:red;} TABLE {border-spacing:0; border-collapse:collapse;border-width:0 0 1px 1px;} P,H1,H2,H3,TH {font-family:verdana,arial,sans-serif;font-size:10pt;} TD {font-family:courier,monospace;font-size:10pt;} TABLE.hdft {border-spacing:0;border-collapse:collapse;border-style:none;} TABLE.hdft TH,TABLE.hdft TD {border-style:none;line-height:normal;} TABLE.hdft TH.tl,TABLE.hdft TD.tl {background:#6699CC;color:white;} TABLE.hdft TD.nv {background:#6633DD;color:white;} .nv A:link {color:white;} .nv A:visited {color:white;} .nv A:active {color:yellow;} TABLE.hdft A:link {color:white;} TABLE.hdft A:visited {color:white;} TABLE.hdft A:active {color:yellow;} .in {color:#356085;} TABLE.s TD {padding-left:0.25em;padding-right:0.25em;} TABLE.s TD.l {padding-left:0.25em;padding-right:0.25em;text-align:right;background:#F0F0F0;} TABLE.s TR.z TD {background:#FF9999;} TABLE.s TR.p TD {background:#FFFF88;} TABLE.s TR.c TD {background:#CCFFCC;} A:link {color:#0000EE;text-decoration:none;} A:visited {color:#0000EE;text-decoration:none;} A:hover {color:#0000EE;text-decoration:underline;} TABLE.cn {border-width:0 0 1px 0;} TABLE.s {border-width:1px 0 1px 1px;} TD.h {color:red;border-width:0 1px 0 0;} TD.f {border-width:0 1px 0 1px;} TD.hf {color:red;border-width:0 1px 0 1px;} TH.f {border-width:1px 1px 1px 1px;} TR.cis TD {background:#F0F0F0;} TR.cis TD {border-width:1px 1px 1px 0;} TR.cis TD.h {color:red;border-width:1px 1px 1px 0;} TR.cis TD.f {border-width:1px 1px 1px 1px;} TR.cis TD.hf {color:red;border-width:1px 1px 1px 1px;} TD.b {border-style:none;background:transparent;line-height:50%;}  TD.bt {border-width:1px 0 0 0;background:transparent;line-height:50%;} TR.o TD {background:#F0F0F0;}TABLE.it {border-style:none;}TABLE.it TD,TABLE.it TH {border-style:none;}</STYLE></HEAD><BODY><TABLE CLASS="hdft" CELLSPACING="0" WIDTH="100%"><TR><TH CLASS="tl"><A HREF="http://www.eclemma.org/">EMMA</A> Coverage Report (generated Tue Jun 09 19:59:05 GMT 2009)</TH></TR><TR><TD CLASS="nv">[<A HREF="../xslUnitTestCoverage.html">all classes</A>][<A HREF="108.html">org.eclipse.wst.jsdt.core.tests.dom</A>]</TD></TR></TABLE><H2>COVERAGE SUMMARY FOR SOURCE FILE [<SPAN CLASS="in">ASTConverterJavadocTest.java</SPAN>]</H2><TABLE CELLSPACING="0" WIDTH="100%"><TR><TH>name</TH><TH>class, %</TH><TH>method, %</TH><TH>block, %</TH><TH>line, %</TH></TR><TR><TD>ASTConverterJavadocTest.java</TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/137)</TD><TD CLASS="h">0%   (0/9362)</TD><TD CLASS="h">0%   (0/1688)</TD></TR></TABLE><H3>COVERAGE BREAKDOWN BY CLASS AND METHOD</H3><TABLE CLASS="cn" CELLSPACING="0" WIDTH="100%"><TR><TH CLASS="f">name</TH><TH>class, %</TH><TH>method, %</TH><TH>block, %</TH><TH>line, %</TH></TR><TR><TD CLASS="b"> </TD><TD CLASS="b"> </TD><TD CLASS="b"> </TD><TD CLASS="b"> </TD><TD CLASS="b"> </TD></TR><TR CLASS="cis"><TD CLASS="f">class <A HREF="#0">ASTConverterJavadocTest</A></TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/137)</TD><TD CLASS="h">0%   (0/9362)</TD><TD CLASS="h">0%   (0/1688)</TD></TR><TR><TD CLASS="f"><A HREF="#0">&lt;static initializer&gt;</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/14)</TD><TD CLASS="h">0%   (0/6)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#2">ASTConverterJavadocTest (String): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/6)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR><TD CLASS="f"><A HREF="#3">ASTConverterJavadocTest (String, String, String): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/55)</TD><TD CLASS="h">0%   (0/17)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#4">addFailure (String): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/6)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR><TD CLASS="f"><A HREF="#5">allTags (JSdoc): int</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/37)</TD><TD CLASS="h">0%   (0/12)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#6">assumeEquals (String, Object, Object): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/38)</TD><TD CLASS="h">0%   (0/7)</TD></TR><TR><TD CLASS="f"><A HREF="#7">assumeEquals (String, int, int): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/27)</TD><TD CLASS="h">0%   (0/4)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#8">assumeNotNull (String, Object): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/12)</TD><TD CLASS="h">0%   (0/4)</TD></TR><TR><TD CLASS="f"><A HREF="#9">assumeNull (String, Object): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/12)</TD><TD CLASS="h">0%   (0/4)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#a">assumeTrue (String, boolean): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/12)</TD><TD CLASS="h">0%   (0/4)</TD></TR><TR><TD CLASS="f"><A HREF="#b">buildSuite (TestSuite, String): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/82)</TD><TD CLASS="h">0%   (0/10)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#c">copyDirectory (File, File): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/49)</TD><TD CLASS="h">0%   (0/12)</TD></TR><TR><TD CLASS="f"><A HREF="#d">getName (): String</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/23)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#e">getNextChar (char [], int): char</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/110)</TD><TD CLASS="h">0%   (0/16)</TD></TR><TR><TD CLASS="f"><A HREF="#f">getUnicodeSource (char []): char []</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/203)</TD><TD CLASS="h">0%   (0/28)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#10">getUnixSource (char []): char []</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/53)</TD><TD CLASS="h">0%   (0/13)</TD></TR><TR><TD CLASS="f"><A HREF="#11">runConversion (char [], String, IJavaScriptProject): ASTNode</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/21)</TD><TD CLASS="h">0%   (0/6)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#12">runConversion (char [], String, IJavaScriptProject, Map): ASTNode</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/29)</TD><TD CLASS="h">0%   (0/8)</TD></TR><TR><TD CLASS="f"><A HREF="#13">setSourceComment (char []): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/405)</TD><TD CLASS="h">0%   (0/98)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#14">setUp (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/27)</TD><TD CLASS="h">0%   (0/7)</TD></TR><TR><TD CLASS="f"><A HREF="#15">suite (): Test</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/46)</TD><TD CLASS="h">0%   (0/7)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#16">tearDown (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/103)</TD><TD CLASS="h">0%   (0/17)</TD></TR><TR><TD CLASS="f"><A HREF="#17">tearDownSuite (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/95)</TD><TD CLASS="h">0%   (0/13)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#18">test000 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR><TD CLASS="f"><A HREF="#19">test001 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#1a">test002 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR><TD CLASS="f"><A HREF="#1b">test003 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#1c">test004 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR><TD CLASS="f"><A HREF="#1d">test005 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#1e">test006 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR><TD CLASS="f"><A HREF="#1f">test007 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#20">test008 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR><TD CLASS="f"><A HREF="#21">test009 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#22">test010 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR><TD CLASS="f"><A HREF="#23">test011 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/24)</TD><TD CLASS="h">0%   (0/5)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#24">test012 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR><TD CLASS="f"><A HREF="#25">test013 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#26">test014 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR><TD CLASS="f"><A HREF="#27">test015 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#28">test100 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/23)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR><TD CLASS="f"><A HREF="#29">test101 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/23)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#2a">test102 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/23)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR><TD CLASS="f"><A HREF="#2b">test103 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/23)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#2c">test104 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/23)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR><TD CLASS="f"><A HREF="#2d">test105 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/23)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#2e">test106 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/23)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR><TD CLASS="f"><A HREF="#2f">test107 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/23)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#30">test108 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/23)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR><TD CLASS="f"><A HREF="#31">testBug100041 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/162)</TD><TD CLASS="h">0%   (0/25)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#32">testBug100041b (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/114)</TD><TD CLASS="h">0%   (0/19)</TD></TR><TR><TD CLASS="f"><A HREF="#33">testBug100041c (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/288)</TD><TD CLASS="h">0%   (0/46)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#34">testBug103304 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/100)</TD><TD CLASS="h">0%   (0/20)</TD></TR><TR><TD CLASS="f"><A HREF="#35">testBug106581 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/97)</TD><TD CLASS="h">0%   (0/18)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#36">testBug108622 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/110)</TD><TD CLASS="h">0%   (0/23)</TD></TR><TR><TD CLASS="f"><A HREF="#37">testBug113108a (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/100)</TD><TD CLASS="h">0%   (0/20)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#38">testBug113108b (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/100)</TD><TD CLASS="h">0%   (0/20)</TD></TR><TR><TD CLASS="f"><A HREF="#39">testBug113108c (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/100)</TD><TD CLASS="h">0%   (0/20)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#3a">testBug125676 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/34)</TD><TD CLASS="h">0%   (0/10)</TD></TR><TR><TD CLASS="f"><A HREF="#3b">testBug125903 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/86)</TD><TD CLASS="h">0%   (0/19)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#3c">testBug130752 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/47)</TD><TD CLASS="h">0%   (0/11)</TD></TR><TR><TD CLASS="f"><A HREF="#3d">testBug130752b (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/47)</TD><TD CLASS="h">0%   (0/11)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#3e">testBug130752c (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/47)</TD><TD CLASS="h">0%   (0/11)</TD></TR><TR><TD CLASS="f"><A HREF="#3f">testBug48489 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#40">testBug50898 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/15)</TD><TD CLASS="h">0%   (0/4)</TD></TR><TR><TD CLASS="f"><A HREF="#41">testBug51226 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/193)</TD><TD CLASS="h">0%   (0/20)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#42">testBug51241 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR><TD CLASS="f"><A HREF="#43">testBug51363 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/164)</TD><TD CLASS="h">0%   (0/18)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#44">testBug51476 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR><TD CLASS="f"><A HREF="#45">testBug51478 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#46">testBug51508 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR><TD CLASS="f"><A HREF="#47">testBug51600 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#48">testBug51617 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/80)</TD><TD CLASS="h">0%   (0/15)</TD></TR><TR><TD CLASS="f"><A HREF="#49">testBug51650 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#4a">testBug51660 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/372)</TD><TD CLASS="h">0%   (0/82)</TD></TR><TR><TD CLASS="f"><A HREF="#4b">testBug51770 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#4c">testBug51911 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR><TD CLASS="f"><A HREF="#4d">testBug52908 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#4e">testBug52908a (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR><TD CLASS="f"><A HREF="#4f">testBug52908unicode (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#50">testBug53075 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/72)</TD><TD CLASS="h">0%   (0/14)</TD></TR><TR><TD CLASS="f"><A HREF="#51">testBug53276 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#52">testBug53757 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR><TD CLASS="f"><A HREF="#53">testBug54424 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/104)</TD><TD CLASS="h">0%   (0/21)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#54">testBug54776 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/162)</TD><TD CLASS="h">0%   (0/25)</TD></TR><TR><TD CLASS="f"><A HREF="#55">testBug55221a (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/209)</TD><TD CLASS="h">0%   (0/29)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#56">testBug55221b (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/209)</TD><TD CLASS="h">0%   (0/29)</TD></TR><TR><TD CLASS="f"><A HREF="#57">testBug55221c (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/244)</TD><TD CLASS="h">0%   (0/33)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#58">testBug55221d (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/163)</TD><TD CLASS="h">0%   (0/22)</TD></TR><TR><TD CLASS="f"><A HREF="#59">testBug55223a (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/174)</TD><TD CLASS="h">0%   (0/31)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#5a">testBug55223b (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/140)</TD><TD CLASS="h">0%   (0/20)</TD></TR><TR><TD CLASS="f"><A HREF="#5b">testBug63044 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#5c">testBug65174 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR><TD CLASS="f"><A HREF="#5d">testBug65253 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#5e">testBug65288 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR><TD CLASS="f"><A HREF="#5f">testBug68017 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#60">testBug68025 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR><TD CLASS="f"><A HREF="#61">testBug68726 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#62">testBug69272 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR><TD CLASS="f"><A HREF="#63">testBug69275 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#64">testBug69302 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR><TD CLASS="f"><A HREF="#65">testBug70892_JLS2 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/13)</TD><TD CLASS="h">0%   (0/5)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#66">testBug70892_JLS3 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/13)</TD><TD CLASS="h">0%   (0/5)</TD></TR><TR><TD CLASS="f"><A HREF="#67">testBug73348 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#68">testBug77644 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/4)</TD><TD CLASS="h">0%   (0/2)</TD></TR><TR><TD CLASS="f"><A HREF="#69">testBug79809 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/18)</TD><TD CLASS="h">0%   (0/6)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#6a">testBug79809b (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/18)</TD><TD CLASS="h">0%   (0/6)</TD></TR><TR><TD CLASS="f"><A HREF="#6b">testBug79904 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/18)</TD><TD CLASS="h">0%   (0/6)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#6c">testBug80221 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/18)</TD><TD CLASS="h">0%   (0/6)</TD></TR><TR><TD CLASS="f"><A HREF="#6d">testBug80257 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/208)</TD><TD CLASS="h">0%   (0/31)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#6e">testBug83804 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/30)</TD><TD CLASS="h">0%   (0/6)</TD></TR><TR><TD CLASS="f"><A HREF="#6f">testBug83804a (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/30)</TD><TD CLASS="h">0%   (0/6)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#70">testBug84049 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/98)</TD><TD CLASS="h">0%   (0/21)</TD></TR><TR><TD CLASS="f"><A HREF="#71">testBug87845 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/162)</TD><TD CLASS="h">0%   (0/29)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#72">testBug93880_14a (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/43)</TD><TD CLASS="h">0%   (0/10)</TD></TR><TR><TD CLASS="f"><A HREF="#73">testBug93880_14b (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/43)</TD><TD CLASS="h">0%   (0/10)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#74">testBug93880_14c (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/43)</TD><TD CLASS="h">0%   (0/10)</TD></TR><TR><TD CLASS="f"><A HREF="#75">testBug93880_14d (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/46)</TD><TD CLASS="h">0%   (0/11)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#76">testBug93880_14e (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/57)</TD><TD CLASS="h">0%   (0/12)</TD></TR><TR><TD CLASS="f"><A HREF="#77">testBug93880_15a (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/52)</TD><TD CLASS="h">0%   (0/11)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#78">testBug93880_15b (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/52)</TD><TD CLASS="h">0%   (0/11)</TD></TR><TR><TD CLASS="f"><A HREF="#79">testBug93880_15c (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/52)</TD><TD CLASS="h">0%   (0/11)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#7a">testBug93880_15d (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/55)</TD><TD CLASS="h">0%   (0/12)</TD></TR><TR><TD CLASS="f"><A HREF="#7b">testBug93880_15e (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/61)</TD><TD CLASS="h">0%   (0/13)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#7c">testBug99507 (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/20)</TD><TD CLASS="h">0%   (0/5)</TD></TR><TR><TD CLASS="f"><A HREF="#7d">testBug99507b (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/17)</TD><TD CLASS="h">0%   (0/6)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#7e">verifyBindings (JSdoc): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/30)</TD><TD CLASS="h">0%   (0/7)</TD></TR><TR><TD CLASS="f"><A HREF="#7f">verifyBindings (TagElement): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/301)</TD><TD CLASS="h">0%   (0/56)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#80">verifyComments (IJavaScriptUnit): JavaScriptUnit</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/103)</TD><TD CLASS="h">0%   (0/19)</TD></TR><TR><TD CLASS="f"><A HREF="#81">verifyComments (String): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/27)</TD><TD CLASS="h">0%   (0/4)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#82">verifyComments (String, char []): JavaScriptUnit</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/6)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR><TD CLASS="f"><A HREF="#83">verifyComments (String, char [], Map): JavaScriptUnit</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/280)</TD><TD CLASS="h">0%   (0/49)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#84">verifyMapper (String, int, int []): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/281)</TD><TD CLASS="h">0%   (0/40)</TD></TR><TR><TD CLASS="f"><A HREF="#85">verifyNameBindings (Name): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/167)</TD><TD CLASS="h">0%   (0/24)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#86">verifyNamePositions (int, Name, char []): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/87)</TD><TD CLASS="h">0%   (0/12)</TD></TR><TR><TD CLASS="f"><A HREF="#87">verifyPositions (JSdoc, char []): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/180)</TD><TD CLASS="h">0%   (0/21)</TD></TR><TR CLASS="o"><TD CLASS="f"><A HREF="#88">verifyPositions (TagElement, char []): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/1108)</TD><TD CLASS="h">0%   (0/160)</TD></TR><TR><TD CLASS="f"><A HREF="#89">verifyWorkingCopiesComments (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/32)</TD><TD CLASS="h">0%   (0/6)</TD></TR></TABLE><P></P><TABLE CLASS="s" CELLSPACING="0" WIDTH="100%"><TR><TD CLASS="l">1</TD><TD>/*******************************************************************************</TD></TR><TR><TD CLASS="l">2</TD><TD> * Copyright (c) 2000, 2008 IBM Corporation and others.</TD></TR><TR><TD CLASS="l">3</TD><TD> * All rights reserved. This program and the accompanying materials</TD></TR><TR><TD CLASS="l">4</TD><TD> * are made available under the terms of the Eclipse Public License v1.0</TD></TR><TR><TD CLASS="l">5</TD><TD> * which accompanies this distribution, and is available at</TD></TR><TR><TD CLASS="l">6</TD><TD> * http://www.eclipse.org/legal/epl-v10.html</TD></TR><TR><TD CLASS="l">7</TD><TD> *</TD></TR><TR><TD CLASS="l">8</TD><TD> * Contributors:</TD></TR><TR><TD CLASS="l">9</TD><TD> *     IBM Corporation - initial API and implementation</TD></TR><TR><TD CLASS="l">10</TD><TD> *******************************************************************************/</TD></TR><TR><TD CLASS="l">11</TD><TD>package org.eclipse.wst.jsdt.core.tests.dom;</TD></TR><TR><TD CLASS="l">12</TD><TD> </TD></TR><TR><TD CLASS="l">13</TD><TD>import java.io.File;</TD></TR><TR><TD CLASS="l">14</TD><TD>import java.io.IOException;</TD></TR><TR><TD CLASS="l">15</TD><TD>import java.lang.reflect.Method;</TD></TR><TR><TD CLASS="l">16</TD><TD>import java.text.NumberFormat;</TD></TR><TR><TD CLASS="l">17</TD><TD>import java.util.ArrayList;</TD></TR><TR><TD CLASS="l">18</TD><TD>import java.util.Iterator;</TD></TR><TR><TD CLASS="l">19</TD><TD>import java.util.List;</TD></TR><TR><TD CLASS="l">20</TD><TD>import java.util.Map;</TD></TR><TR><TD CLASS="l">21</TD><TD> </TD></TR><TR><TD CLASS="l">22</TD><TD>import junit.framework.Test;</TD></TR><TR><TD CLASS="l">23</TD><TD>import junit.framework.TestSuite;</TD></TR><TR><TD CLASS="l">24</TD><TD> </TD></TR><TR><TD CLASS="l">25</TD><TD>import org.eclipse.core.runtime.CoreException;</TD></TR><TR><TD CLASS="l">26</TD><TD>import org.eclipse.wst.jsdt.core.IJavaScriptProject;</TD></TR><TR><TD CLASS="l">27</TD><TD>import org.eclipse.wst.jsdt.core.IJavaScriptUnit;</TD></TR><TR><TD CLASS="l">28</TD><TD>import org.eclipse.wst.jsdt.core.JavaScriptCore;</TD></TR><TR><TD CLASS="l">29</TD><TD>import org.eclipse.wst.jsdt.core.JavaScriptModelException;</TD></TR><TR><TD CLASS="l">30</TD><TD>import org.eclipse.wst.jsdt.core.compiler.IProblem;</TD></TR><TR><TD CLASS="l">31</TD><TD>import org.eclipse.wst.jsdt.core.dom.AST;</TD></TR><TR><TD CLASS="l">32</TD><TD>import org.eclipse.wst.jsdt.core.dom.ASTNode;</TD></TR><TR><TD CLASS="l">33</TD><TD>import org.eclipse.wst.jsdt.core.dom.ASTParser;</TD></TR><TR><TD CLASS="l">34</TD><TD>import org.eclipse.wst.jsdt.core.dom.ArrayType;</TD></TR><TR><TD CLASS="l">35</TD><TD>import org.eclipse.wst.jsdt.core.dom.Block;</TD></TR><TR><TD CLASS="l">36</TD><TD>import org.eclipse.wst.jsdt.core.dom.Comment;</TD></TR><TR><TD CLASS="l">37</TD><TD>import org.eclipse.wst.jsdt.core.dom.Expression;</TD></TR><TR><TD CLASS="l">38</TD><TD>import org.eclipse.wst.jsdt.core.dom.ExpressionStatement;</TD></TR><TR><TD CLASS="l">39</TD><TD>import org.eclipse.wst.jsdt.core.dom.FieldDeclaration;</TD></TR><TR><TD CLASS="l">40</TD><TD>import org.eclipse.wst.jsdt.core.dom.FunctionDeclaration;</TD></TR><TR><TD CLASS="l">41</TD><TD>import org.eclipse.wst.jsdt.core.dom.FunctionInvocation;</TD></TR><TR><TD CLASS="l">42</TD><TD>import org.eclipse.wst.jsdt.core.dom.FunctionRef;</TD></TR><TR><TD CLASS="l">43</TD><TD>import org.eclipse.wst.jsdt.core.dom.FunctionRefParameter;</TD></TR><TR><TD CLASS="l">44</TD><TD>import org.eclipse.wst.jsdt.core.dom.IBinding;</TD></TR><TR><TD CLASS="l">45</TD><TD>import org.eclipse.wst.jsdt.core.dom.ITypeBinding;</TD></TR><TR><TD CLASS="l">46</TD><TD>import org.eclipse.wst.jsdt.core.dom.IfStatement;</TD></TR><TR><TD CLASS="l">47</TD><TD>import org.eclipse.wst.jsdt.core.dom.JSdoc;</TD></TR><TR><TD CLASS="l">48</TD><TD>import org.eclipse.wst.jsdt.core.dom.JavaScriptUnit;</TD></TR><TR><TD CLASS="l">49</TD><TD>import org.eclipse.wst.jsdt.core.dom.MemberRef;</TD></TR><TR><TD CLASS="l">50</TD><TD>import org.eclipse.wst.jsdt.core.dom.Name;</TD></TR><TR><TD CLASS="l">51</TD><TD>import org.eclipse.wst.jsdt.core.dom.PackageDeclaration;</TD></TR><TR><TD CLASS="l">52</TD><TD>import org.eclipse.wst.jsdt.core.dom.PrimitiveType;</TD></TR><TR><TD CLASS="l">53</TD><TD>import org.eclipse.wst.jsdt.core.dom.QualifiedName;</TD></TR><TR><TD CLASS="l">54</TD><TD>import org.eclipse.wst.jsdt.core.dom.ReturnStatement;</TD></TR><TR><TD CLASS="l">55</TD><TD>import org.eclipse.wst.jsdt.core.dom.SimpleName;</TD></TR><TR><TD CLASS="l">56</TD><TD>import org.eclipse.wst.jsdt.core.dom.SimpleType;</TD></TR><TR><TD CLASS="l">57</TD><TD>import org.eclipse.wst.jsdt.core.dom.Statement;</TD></TR><TR><TD CLASS="l">58</TD><TD>import org.eclipse.wst.jsdt.core.dom.TagElement;</TD></TR><TR><TD CLASS="l">59</TD><TD>import org.eclipse.wst.jsdt.core.dom.TextElement;</TD></TR><TR><TD CLASS="l">60</TD><TD>import org.eclipse.wst.jsdt.core.dom.Type;</TD></TR><TR><TD CLASS="l">61</TD><TD>import org.eclipse.wst.jsdt.core.dom.TypeDeclaration;</TD></TR><TR><TD CLASS="l">62</TD><TD>import org.eclipse.wst.jsdt.core.dom.TypeDeclarationStatement;</TD></TR><TR><TD CLASS="l">63</TD><TD>import org.eclipse.wst.jsdt.core.dom.VariableDeclarationFragment;</TD></TR><TR><TD CLASS="l">64</TD><TD>import org.eclipse.wst.jsdt.core.dom.VariableDeclarationStatement;</TD></TR><TR><TD CLASS="l">65</TD><TD>import org.eclipse.wst.jsdt.internal.compiler.parser.ScannerHelper;</TD></TR><TR><TD CLASS="l"><A NAME="0">66</A></TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">67</TD><TD>public class ASTConverterJavadocTest extends ConverterTestSetup {</TD></TR><TR><TD CLASS="l">68</TD><TD> </TD></TR><TR><TD CLASS="l">69</TD><TD>        // Flag to know whether Converter directory should be copied from org.eclipse.wst.jsdt.core.tests.model project</TD></TR><TR CLASS="z"><TD CLASS="l">70</TD><TD>        static protected boolean COPY_DIR = true;</TD></TR><TR><TD CLASS="l">71</TD><TD> </TD></TR><TR><TD CLASS="l">72</TD><TD>        // Test counters</TD></TR><TR CLASS="z"><TD CLASS="l">73</TD><TD>        protected static int[] TEST_COUNTERS = { 0, 0, 0, 0 };</TD></TR><TR><TD CLASS="l">74</TD><TD>        // Unicode tests</TD></TR><TR CLASS="z"><TD CLASS="l">75</TD><TD>        protected static boolean UNICODE = false;</TD></TR><TR><TD CLASS="l">76</TD><TD>        // Unix tests</TD></TR><TR><TD CLASS="l">77</TD><TD>        final boolean unix;</TD></TR><TR CLASS="z"><TD CLASS="l">78</TD><TD>        static final String UNIX_SUPPORT = System.getProperty(&#34;unix&#34;);</TD></TR><TR><TD CLASS="l">79</TD><TD>        // Doc Comment support</TD></TR><TR CLASS="z"><TD CLASS="l">80</TD><TD>        static final String DOC_COMMENT_SUPPORT = System.getProperty(&#34;doc.support&#34;);</TD></TR><TR><TD CLASS="l">81</TD><TD>        final String docCommentSupport;</TD></TR><TR><TD CLASS="l">82</TD><TD> </TD></TR><TR><TD CLASS="l">83</TD><TD>        // List of comments read from source of test</TD></TR><TR CLASS="z"><TD CLASS="l">84</TD><TD>        private final int LINE_COMMENT = 100;</TD></TR><TR CLASS="z"><TD CLASS="l">85</TD><TD>        private final int BLOCK_COMMENT =200;</TD></TR><TR CLASS="z"><TD CLASS="l">86</TD><TD>        private final int DOC_COMMENT = 300;</TD></TR><TR CLASS="z"><TD CLASS="l">87</TD><TD>        List comments = new ArrayList();</TD></TR><TR><TD CLASS="l">88</TD><TD>        private String chars;</TD></TR><TR><TD CLASS="l">89</TD><TD>        // List of tags contained in each comment read from test source.</TD></TR><TR CLASS="z"><TD CLASS="l">90</TD><TD>        List allTags = new ArrayList();</TD></TR><TR><TD CLASS="l">91</TD><TD>        // Current compilation unit</TD></TR><TR><TD CLASS="l">92</TD><TD>        protected IJavaScriptUnit sourceUnit;</TD></TR><TR><TD CLASS="l">93</TD><TD>        // Test package binding</TD></TR><TR CLASS="z"><TD CLASS="l">94</TD><TD>        protected boolean resolveBinding = true;</TD></TR><TR CLASS="z"><TD CLASS="l">95</TD><TD>        protected boolean packageBinding = true;</TD></TR><TR><TD CLASS="l">96</TD><TD>        // AST Level</TD></TR><TR><TD CLASS="l">97</TD><TD>        /** @deprecated using deprecated code */</TD></TR><TR CLASS="z"><TD CLASS="l">98</TD><TD>        protected int astLevel = AST.JLS2;</TD></TR><TR><TD CLASS="l">99</TD><TD>        protected int savedLevel;</TD></TR><TR><TD CLASS="l">100</TD><TD>        // Debug</TD></TR><TR CLASS="z"><TD CLASS="l">101</TD><TD>        protected String prefix = &#34;&#34;;</TD></TR><TR CLASS="z"><TD CLASS="l">102</TD><TD>        protected boolean debug = false;</TD></TR><TR><TD CLASS="l">103</TD><TD>        protected StringBuffer problems;</TD></TR><TR CLASS="z"><TD CLASS="l">104</TD><TD>        protected String compilerOption = JavaScriptCore.IGNORE;</TD></TR><TR><TD CLASS="l">105</TD><TD>        protected List failures;</TD></TR><TR CLASS="z"><TD CLASS="l">106</TD><TD>        protected boolean stopOnFailure = true;</TD></TR><TR><TD CLASS="l">107</TD><TD>        // Project</TD></TR><TR><TD CLASS="l">108</TD><TD>        protected IJavaScriptProject currentProject;</TD></TR><TR CLASS="z"><TD CLASS="l">109</TD><TD>        Map savedOptions = null;</TD></TR><TR><TD CLASS="l">110</TD><TD> </TD></TR><TR><TD CLASS="l">111</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="3">112</A></TD><TD>         * @param name</TD></TR><TR><TD CLASS="l">113</TD><TD>         * @param support</TD></TR><TR><TD CLASS="l">114</TD><TD>         */</TD></TR><TR><TD CLASS="l">115</TD><TD>        public ASTConverterJavadocTest(String name, String support, String unix) {</TD></TR><TR CLASS="z"><TD CLASS="l">116</TD><TD>                super(name);</TD></TR><TR CLASS="z"><TD CLASS="l">117</TD><TD>                this.docCommentSupport = support;</TD></TR><TR CLASS="z"><TD CLASS="l">118</TD><TD>                this.unix = &#34;true&#34;.equals(unix);</TD></TR><TR CLASS="z"><TD CLASS="l">119</TD><TD>        }</TD></TR><TR><TD CLASS="l"><A NAME="2">120</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">121</TD><TD>         * @param name</TD></TR><TR><TD CLASS="l">122</TD><TD>         */</TD></TR><TR><TD CLASS="l">123</TD><TD>        public ASTConverterJavadocTest(String name) {</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="15">124</A></TD><TD>                this(name, JavaScriptCore.ENABLED, UNIX_SUPPORT);</TD></TR><TR CLASS="z"><TD CLASS="l">125</TD><TD>        }</TD></TR><TR><TD CLASS="l">126</TD><TD> </TD></TR><TR><TD CLASS="l">127</TD><TD>        public static Test suite() {</TD></TR><TR CLASS="z"><TD CLASS="l">128</TD><TD>                TestSuite suite = new Suite(ASTConverterJavadocTest.class.getName());                </TD></TR><TR><TD CLASS="l">129</TD><TD>//                String param = System.getProperty(&#34;unicode&#34;);</TD></TR><TR><TD CLASS="l">130</TD><TD>//                if (&#34;true&#34;.equals(param)) {</TD></TR><TR><TD CLASS="l">131</TD><TD>//                        unicode = true;</TD></TR><TR><TD CLASS="l">132</TD><TD>//                }</TD></TR><TR><TD CLASS="l">133</TD><TD>//                String param = System.getProperty(&#34;unix&#34;);</TD></TR><TR><TD CLASS="l">134</TD><TD>//                if (&#34;true&#34;.equals(param)) {</TD></TR><TR><TD CLASS="l">135</TD><TD>//                        unix = true;</TD></TR><TR><TD CLASS="l">136</TD><TD>//                }</TD></TR><TR><TD CLASS="l">137</TD><TD>                if (true) {</TD></TR><TR CLASS="z"><TD CLASS="l">138</TD><TD>                        if (DOC_COMMENT_SUPPORT == null) {</TD></TR><TR CLASS="z"><TD CLASS="l">139</TD><TD>                                buildSuite(suite, JavaScriptCore.ENABLED);</TD></TR><TR CLASS="z"><TD CLASS="l">140</TD><TD>                                buildSuite(suite, JavaScriptCore.DISABLED);</TD></TR><TR><TD CLASS="l">141</TD><TD>                        } else {</TD></TR><TR CLASS="z"><TD CLASS="l">142</TD><TD>                                String support = DOC_COMMENT_SUPPORT==null ? JavaScriptCore.DISABLED : (DOC_COMMENT_SUPPORT.equals(JavaScriptCore.DISABLED)?JavaScriptCore.DISABLED:JavaScriptCore.ENABLED);</TD></TR><TR CLASS="z"><TD CLASS="l">143</TD><TD>                                buildSuite(suite, support);</TD></TR><TR><TD CLASS="l">144</TD><TD>                        }</TD></TR><TR CLASS="z"><TD CLASS="l">145</TD><TD>                        return suite;</TD></TR><TR><TD CLASS="l">146</TD><TD>                }</TD></TR><TR><TD CLASS="l">147</TD><TD> </TD></TR><TR><TD CLASS="l">148</TD><TD>                // Run test cases subset</TD></TR><TR><TD CLASS="l">149</TD><TD>                COPY_DIR = false;</TD></TR><TR><TD CLASS="l">150</TD><TD>                System.err.println(&#34;WARNING: only subset of tests will be executed!!!&#34;);</TD></TR><TR><TD CLASS="l">151</TD><TD>                suite.addTest(new ASTConverterJavadocTest(&#34;testBug165525&#34;));</TD></TR><TR><TD CLASS="l"><A NAME="b">152</A></TD><TD>                return suite;</TD></TR><TR><TD CLASS="l">153</TD><TD>        }</TD></TR><TR><TD CLASS="l">154</TD><TD> </TD></TR><TR><TD CLASS="l">155</TD><TD>        public static void buildSuite(TestSuite suite, String support) {</TD></TR><TR CLASS="z"><TD CLASS="l">156</TD><TD>                Class c = ASTConverterJavadocTest.class;</TD></TR><TR CLASS="z"><TD CLASS="l">157</TD><TD>                Method[] methods = c.getMethods();</TD></TR><TR CLASS="z"><TD CLASS="l">158</TD><TD>                for (int i = 0, max = methods.length; i &lt; max; i++) {</TD></TR><TR CLASS="z"><TD CLASS="l">159</TD><TD>                        if (methods[i].getName().startsWith(&#34;test&#34;)) { //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">160</TD><TD>                                suite.addTest(new ASTConverterJavadocTest(methods[i].getName(), support, UNIX_SUPPORT));</TD></TR><TR><TD CLASS="l">161</TD><TD>                        }</TD></TR><TR><TD CLASS="l">162</TD><TD>                }</TD></TR><TR><TD CLASS="l">163</TD><TD>                // when unix support not specified, also run using unix format</TD></TR><TR CLASS="z"><TD CLASS="l">164</TD><TD>                if (UNIX_SUPPORT == null &amp;&amp; JavaScriptCore.ENABLED.equals(support)) {</TD></TR><TR CLASS="z"><TD CLASS="l">165</TD><TD>                        for (int i = 0, max = methods.length; i &lt; max; i++) {</TD></TR><TR CLASS="z"><TD CLASS="l">166</TD><TD>                                if (methods[i].getName().startsWith(&#34;test&#34;)) { //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">167</TD><TD>                                        suite.addTest(new ASTConverterJavadocTest(methods[i].getName(), support, &#34;true&#34;));</TD></TR><TR><TD CLASS="l">168</TD><TD>                                }</TD></TR><TR><TD CLASS="l">169</TD><TD>                        }</TD></TR><TR><TD CLASS="l">170</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">171</TD><TD>        }</TD></TR><TR><TD CLASS="l">172</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="c">173</A></TD><TD>        /* (non-Javadoc)</TD></TR><TR><TD CLASS="l">174</TD><TD>         * @see org.eclipse.wst.jsdt.core.tests.model.AbstractJavaModelTests#copyDirectory(java.io.File, java.io.File)</TD></TR><TR><TD CLASS="l">175</TD><TD>         */</TD></TR><TR><TD CLASS="l">176</TD><TD>        protected void copyDirectory(File sourceDir, File targetDir) throws IOException {</TD></TR><TR CLASS="z"><TD CLASS="l">177</TD><TD>                if (COPY_DIR) {</TD></TR><TR CLASS="z"><TD CLASS="l">178</TD><TD>                        super.copyDirectory(sourceDir, targetDir);</TD></TR><TR><TD CLASS="l">179</TD><TD>                } else {</TD></TR><TR CLASS="z"><TD CLASS="l">180</TD><TD>                        targetDir.mkdirs();</TD></TR><TR CLASS="z"><TD CLASS="l">181</TD><TD>                        File sourceFile = new File(sourceDir, &#34;.project&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">182</TD><TD>                        File targetFile = new File(targetDir, &#34;.project&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">183</TD><TD>                        targetFile.createNewFile();</TD></TR><TR CLASS="z"><TD CLASS="l">184</TD><TD>                        copy(sourceFile, targetFile);</TD></TR><TR CLASS="z"><TD CLASS="l">185</TD><TD>                        sourceFile = new File(sourceDir, &#34;.classpath&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">186</TD><TD>                        targetFile = new File(targetDir, &#34;.classpath&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">187</TD><TD>                        targetFile.createNewFile();</TD></TR><TR CLASS="z"><TD CLASS="l">188</TD><TD>                        copy(sourceFile, targetFile);</TD></TR><TR><TD CLASS="l">189</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">190</TD><TD>        }</TD></TR><TR><TD CLASS="l"><A NAME="d">191</A></TD><TD>        /* (non-Javadoc)</TD></TR><TR><TD CLASS="l">192</TD><TD>         * @see junit.framework.TestCase#getName()</TD></TR><TR><TD CLASS="l">193</TD><TD>         */</TD></TR><TR><TD CLASS="l">194</TD><TD>        public String getName() {</TD></TR><TR CLASS="z"><TD CLASS="l">195</TD><TD>                String strUnix = unix ? &#34; - Unix&#34; : &#34;&#34;;</TD></TR><TR CLASS="z"><TD CLASS="l">196</TD><TD>                return &#34;Doc &#34;+docCommentSupport+strUnix+&#34; - &#34;+super.getName();</TD></TR><TR><TD CLASS="l">197</TD><TD>        }</TD></TR><TR><TD CLASS="l"><A NAME="14">198</A></TD><TD>        /* (non-Javadoc)</TD></TR><TR><TD CLASS="l">199</TD><TD>         * @see junit.framework.TestCase#setUp()</TD></TR><TR><TD CLASS="l">200</TD><TD>         */</TD></TR><TR><TD CLASS="l">201</TD><TD>        protected void setUp() throws Exception {</TD></TR><TR CLASS="z"><TD CLASS="l">202</TD><TD>                super.setUp();</TD></TR><TR CLASS="z"><TD CLASS="l">203</TD><TD>                TEST_COUNTERS[0]++;</TD></TR><TR CLASS="z"><TD CLASS="l">204</TD><TD>                failures = new ArrayList();</TD></TR><TR CLASS="z"><TD CLASS="l">205</TD><TD>                problems = new StringBuffer();</TD></TR><TR CLASS="z"><TD CLASS="l">206</TD><TD>                workingCopies = null;</TD></TR><TR CLASS="z"><TD CLASS="l">207</TD><TD>                savedLevel = astLevel;</TD></TR><TR CLASS="z"><TD CLASS="l">208</TD><TD>        }</TD></TR><TR><TD CLASS="l"><A NAME="16">209</A></TD><TD>        /* (non-Javadoc)</TD></TR><TR><TD CLASS="l">210</TD><TD>         * @see junit.framework.TestCase#tearDown()</TD></TR><TR><TD CLASS="l">211</TD><TD>         */</TD></TR><TR><TD CLASS="l">212</TD><TD>        protected void tearDown() throws Exception {</TD></TR><TR CLASS="z"><TD CLASS="l">213</TD><TD>                int size = failures.size();</TD></TR><TR CLASS="z"><TD CLASS="l">214</TD><TD>                String title = size+&#34; positions/bindings were incorrect in &#34;+getName();</TD></TR><TR CLASS="z"><TD CLASS="l">215</TD><TD>                if (size == 0) {</TD></TR><TR CLASS="z"><TD CLASS="l">216</TD><TD>                        TEST_COUNTERS[1]++;</TD></TR><TR CLASS="z"><TD CLASS="l">217</TD><TD>                } else if (problems.length() &gt; 0) {</TD></TR><TR CLASS="z"><TD CLASS="l">218</TD><TD>                        if (debug) {</TD></TR><TR CLASS="z"><TD CLASS="l">219</TD><TD>                                System.out.println(&#34;Compilation warnings/errors occured:&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">220</TD><TD>                                System.out.println(problems.toString());</TD></TR><TR><TD CLASS="l">221</TD><TD>                        }</TD></TR><TR CLASS="z"><TD CLASS="l">222</TD><TD>                        TEST_COUNTERS[2]++;</TD></TR><TR><TD CLASS="l">223</TD><TD>                } else {</TD></TR><TR CLASS="z"><TD CLASS="l">224</TD><TD>                        TEST_COUNTERS[3]++;</TD></TR><TR CLASS="z"><TD CLASS="l">225</TD><TD>                        System.out.println(title+&#34;:&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">226</TD><TD>                        for (int i=0; i&lt;size; i++) {</TD></TR><TR CLASS="z"><TD CLASS="l">227</TD><TD>                                System.out.println(&#34;        - &#34;+failures.get(i));</TD></TR><TR><TD CLASS="l">228</TD><TD>                        }</TD></TR><TR><TD CLASS="l">229</TD><TD>                }</TD></TR><TR><TD CLASS="l">230</TD><TD>//                if (!stopOnFailure) {</TD></TR><TR CLASS="z"><TD CLASS="l">231</TD><TD>                        assertTrue(title, size==0 || problems.length() &gt; 0);</TD></TR><TR><TD CLASS="l">232</TD><TD>//                }</TD></TR><TR CLASS="z"><TD CLASS="l">233</TD><TD>                super.tearDown();</TD></TR><TR><TD CLASS="l">234</TD><TD>                </TD></TR><TR><TD CLASS="l">235</TD><TD>                // Restore saved ast level</TD></TR><TR CLASS="z"><TD CLASS="l">236</TD><TD>                astLevel = savedLevel;</TD></TR><TR CLASS="z"><TD CLASS="l">237</TD><TD>        }</TD></TR><TR><TD CLASS="l">238</TD><TD> </TD></TR><TR><TD CLASS="l">239</TD><TD>        /* (non-Javadoc)</TD></TR><TR><TD CLASS="l"><A NAME="17">240</A></TD><TD>         * @see junit.framework.TestCase#tearDown()</TD></TR><TR><TD CLASS="l">241</TD><TD>         */</TD></TR><TR><TD CLASS="l">242</TD><TD>        public void tearDownSuite() throws Exception {</TD></TR><TR><TD CLASS="l">243</TD><TD>                // put default options on project</TD></TR><TR CLASS="z"><TD CLASS="l">244</TD><TD>                if (currentProject != null &amp;&amp; savedOptions != null) {</TD></TR><TR CLASS="z"><TD CLASS="l">245</TD><TD>                        currentProject.setOptions(savedOptions);</TD></TR><TR><TD CLASS="l">246</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">247</TD><TD>                super.tearDownSuite();</TD></TR><TR CLASS="z"><TD CLASS="l">248</TD><TD>                if (TEST_COUNTERS[0] != TEST_COUNTERS[1]) {</TD></TR><TR CLASS="z"><TD CLASS="l">249</TD><TD>                        NumberFormat intFormat = NumberFormat.getInstance();</TD></TR><TR CLASS="z"><TD CLASS="l">250</TD><TD>                        intFormat.setMinimumIntegerDigits(3);</TD></TR><TR CLASS="z"><TD CLASS="l">251</TD><TD>                        intFormat.setMaximumIntegerDigits(3);</TD></TR><TR CLASS="z"><TD CLASS="l">252</TD><TD>                        System.out.println(&#34;=====================================&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">253</TD><TD>                        System.out.println(intFormat.format(TEST_COUNTERS[0])+&#34; tests have been executed:&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">254</TD><TD>                        System.out.println(&#34;  - &#34;+intFormat.format(TEST_COUNTERS[1])+&#34; tests have been actually executed.&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">255</TD><TD>                        System.out.println(&#34;  - &#34;+intFormat.format(TEST_COUNTERS[2])+&#34; tests were skipped due to compilation errors.&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">256</TD><TD>                        System.out.println(&#34;  - &#34;+intFormat.format(TEST_COUNTERS[3])+&#34; tests failed.&#34;);</TD></TR><TR><TD CLASS="l"><A NAME="11">257</A></TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">258</TD><TD>        }</TD></TR><TR><TD CLASS="l">259</TD><TD> </TD></TR><TR><TD CLASS="l">260</TD><TD>        public ASTNode runConversion(char[] source, String unitName, IJavaScriptProject project) {</TD></TR><TR CLASS="z"><TD CLASS="l">261</TD><TD>                ASTParser parser = ASTParser.newParser(astLevel);</TD></TR><TR CLASS="z"><TD CLASS="l">262</TD><TD>                parser.setSource(source);</TD></TR><TR CLASS="z"><TD CLASS="l">263</TD><TD>                parser.setUnitName(unitName);</TD></TR><TR CLASS="z"><TD CLASS="l">264</TD><TD>                parser.setProject(project);</TD></TR><TR CLASS="z"><TD CLASS="l">265</TD><TD>                parser.setResolveBindings(resolveBinding);</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="12">266</A></TD><TD>                return parser.createAST(null);</TD></TR><TR><TD CLASS="l">267</TD><TD>        }</TD></TR><TR><TD CLASS="l">268</TD><TD> </TD></TR><TR><TD CLASS="l">269</TD><TD>        public ASTNode runConversion(char[] source, String unitName, IJavaScriptProject project, Map options) {</TD></TR><TR CLASS="z"><TD CLASS="l">270</TD><TD>                if (project == null) {</TD></TR><TR CLASS="z"><TD CLASS="l">271</TD><TD>                        ASTParser parser = ASTParser.newParser(astLevel);</TD></TR><TR CLASS="z"><TD CLASS="l">272</TD><TD>                        parser.setSource(source);</TD></TR><TR CLASS="z"><TD CLASS="l">273</TD><TD>                        parser.setUnitName(unitName);</TD></TR><TR CLASS="z"><TD CLASS="l">274</TD><TD>                        parser.setCompilerOptions(options);</TD></TR><TR CLASS="z"><TD CLASS="l">275</TD><TD>                        parser.setResolveBindings(resolveBinding);</TD></TR><TR CLASS="z"><TD CLASS="l">276</TD><TD>                        return parser.createAST(null);</TD></TR><TR><TD CLASS="l">277</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">278</TD><TD>                return runConversion(source, unitName, project);</TD></TR><TR><TD CLASS="l">279</TD><TD>        }</TD></TR><TR><TD CLASS="l">280</TD><TD> </TD></TR><TR><TD CLASS="l">281</TD><TD>// NOT USED</TD></TR><TR><TD CLASS="l">282</TD><TD>//        class ASTConverterJavadocFlattener extends ASTVisitor {</TD></TR><TR><TD CLASS="l">283</TD><TD>//</TD></TR><TR><TD CLASS="l">284</TD><TD>//                /**</TD></TR><TR><TD CLASS="l">285</TD><TD>//                 * The string buffer into which the serialized representation of the AST is</TD></TR><TR><TD CLASS="l">286</TD><TD>//                 * written.</TD></TR><TR><TD CLASS="l">287</TD><TD>//                 */</TD></TR><TR><TD CLASS="l">288</TD><TD>//                private StringBuffer buffer;</TD></TR><TR><TD CLASS="l">289</TD><TD>//                </TD></TR><TR><TD CLASS="l">290</TD><TD>//                private String comment;</TD></TR><TR><TD CLASS="l">291</TD><TD>//                </TD></TR><TR><TD CLASS="l">292</TD><TD>//                /**</TD></TR><TR><TD CLASS="l">293</TD><TD>//                 * Creates a new AST printer.</TD></TR><TR><TD CLASS="l">294</TD><TD>//                 */</TD></TR><TR><TD CLASS="l">295</TD><TD>//                ASTConverterJavadocFlattener(String comment) {</TD></TR><TR><TD CLASS="l">296</TD><TD>//                        buffer = new StringBuffer();</TD></TR><TR><TD CLASS="l">297</TD><TD>//                        comment = comment;</TD></TR><TR><TD CLASS="l">298</TD><TD>//                }</TD></TR><TR><TD CLASS="l">299</TD><TD>//                </TD></TR><TR><TD CLASS="l">300</TD><TD>//                /**</TD></TR><TR><TD CLASS="l">301</TD><TD>//                 * Returns the string accumulated in the visit.</TD></TR><TR><TD CLASS="l">302</TD><TD>//                 *</TD></TR><TR><TD CLASS="l">303</TD><TD>//                 * @return the serialized </TD></TR><TR><TD CLASS="l">304</TD><TD>//                 */</TD></TR><TR><TD CLASS="l">305</TD><TD>//                public String getResult() {</TD></TR><TR><TD CLASS="l">306</TD><TD>//                        return buffer.toString();</TD></TR><TR><TD CLASS="l">307</TD><TD>//                }</TD></TR><TR><TD CLASS="l">308</TD><TD>//                </TD></TR><TR><TD CLASS="l">309</TD><TD>//                /**</TD></TR><TR><TD CLASS="l">310</TD><TD>//                 * Resets this printer so that it can be used again.</TD></TR><TR><TD CLASS="l">311</TD><TD>//                 */</TD></TR><TR><TD CLASS="l">312</TD><TD>//                public void reset() {</TD></TR><TR><TD CLASS="l">313</TD><TD>//                        buffer.setLength(0);</TD></TR><TR><TD CLASS="l">314</TD><TD>//                }</TD></TR><TR><TD CLASS="l">315</TD><TD>//</TD></TR><TR><TD CLASS="l">316</TD><TD>//                /*</TD></TR><TR><TD CLASS="l">317</TD><TD>//                 * @see ASTVisitor#visit(ArrayType)</TD></TR><TR><TD CLASS="l">318</TD><TD>//                 */</TD></TR><TR><TD CLASS="l">319</TD><TD>//                public boolean visit(ArrayType node) {</TD></TR><TR><TD CLASS="l">320</TD><TD>//                        node.getComponentType().accept(this);</TD></TR><TR><TD CLASS="l">321</TD><TD>//                        buffer.append(&#34;[]&#34;);//$NON-NLS-1$</TD></TR><TR><TD CLASS="l">322</TD><TD>//                        return false;</TD></TR><TR><TD CLASS="l">323</TD><TD>//                }</TD></TR><TR><TD CLASS="l">324</TD><TD>//        </TD></TR><TR><TD CLASS="l">325</TD><TD>//                /*</TD></TR><TR><TD CLASS="l">326</TD><TD>//                 * @see ASTVisitor#visit(BlockComment)</TD></TR><TR><TD CLASS="l">327</TD><TD>//                 * @since 3.0</TD></TR><TR><TD CLASS="l">328</TD><TD>//                 */</TD></TR><TR><TD CLASS="l">329</TD><TD>//                public boolean visit(BlockComment node) {</TD></TR><TR><TD CLASS="l">330</TD><TD>//                        buffer.append(comment);</TD></TR><TR><TD CLASS="l">331</TD><TD>//                        return false;</TD></TR><TR><TD CLASS="l">332</TD><TD>//                }</TD></TR><TR><TD CLASS="l">333</TD><TD>//        </TD></TR><TR><TD CLASS="l">334</TD><TD>//                /*</TD></TR><TR><TD CLASS="l">335</TD><TD>//                 * @see ASTVisitor#visit(Javadoc)</TD></TR><TR><TD CLASS="l">336</TD><TD>//                 */</TD></TR><TR><TD CLASS="l">337</TD><TD>//                public boolean visit(Javadoc node) {</TD></TR><TR><TD CLASS="l">338</TD><TD>//                        </TD></TR><TR><TD CLASS="l">339</TD><TD>//                        // ignore deprecated node.getComment()</TD></TR><TR><TD CLASS="l">340</TD><TD>//                        buffer.append(&#34;/**&#34;);//$NON-NLS-1$</TD></TR><TR><TD CLASS="l">341</TD><TD>//                        ASTNode e = null;</TD></TR><TR><TD CLASS="l">342</TD><TD>//                        int start = 3;</TD></TR><TR><TD CLASS="l">343</TD><TD>//                        for (Iterator it = node.tags().iterator(); it.hasNext(); ) {</TD></TR><TR><TD CLASS="l">344</TD><TD>//                                e = (ASTNode) it.next();</TD></TR><TR><TD CLASS="l">345</TD><TD>//                                try {</TD></TR><TR><TD CLASS="l">346</TD><TD>//                                        buffer.append(comment.substring(start, e.getStartPosition()-node.getStartPosition()));</TD></TR><TR><TD CLASS="l">347</TD><TD>//                                        start = e.getStartPosition()-node.getStartPosition();</TD></TR><TR><TD CLASS="l">348</TD><TD>//                                } catch (IndexOutOfBoundsException ex) {</TD></TR><TR><TD CLASS="l">349</TD><TD>//                                        // do nothing</TD></TR><TR><TD CLASS="l">350</TD><TD>//                                }</TD></TR><TR><TD CLASS="l">351</TD><TD>//                                e.accept(this);</TD></TR><TR><TD CLASS="l">352</TD><TD>//                                start += e.getLength();</TD></TR><TR><TD CLASS="l">353</TD><TD>//                        }</TD></TR><TR><TD CLASS="l">354</TD><TD>//                        buffer.append(comment.substring(start, node.getLength()));</TD></TR><TR><TD CLASS="l">355</TD><TD>//                        return false;</TD></TR><TR><TD CLASS="l">356</TD><TD>//                }</TD></TR><TR><TD CLASS="l">357</TD><TD>//        </TD></TR><TR><TD CLASS="l">358</TD><TD>//                /*</TD></TR><TR><TD CLASS="l">359</TD><TD>//                 * @see ASTVisitor#visit(LineComment)</TD></TR><TR><TD CLASS="l">360</TD><TD>//                 * @since 3.0</TD></TR><TR><TD CLASS="l">361</TD><TD>//                 */</TD></TR><TR><TD CLASS="l">362</TD><TD>//                public boolean visit(LineComment node) {</TD></TR><TR><TD CLASS="l">363</TD><TD>//                        buffer.append(comment);</TD></TR><TR><TD CLASS="l">364</TD><TD>//                        return false;</TD></TR><TR><TD CLASS="l">365</TD><TD>//                }</TD></TR><TR><TD CLASS="l">366</TD><TD>//        </TD></TR><TR><TD CLASS="l">367</TD><TD>//                /*</TD></TR><TR><TD CLASS="l">368</TD><TD>//                 * @see ASTVisitor#visit(MemberRef)</TD></TR><TR><TD CLASS="l">369</TD><TD>//                 * @since 3.0</TD></TR><TR><TD CLASS="l">370</TD><TD>//                 */</TD></TR><TR><TD CLASS="l">371</TD><TD>//                public boolean visit(MemberRef node) {</TD></TR><TR><TD CLASS="l">372</TD><TD>//                        if (node.getQualifier() != null) {</TD></TR><TR><TD CLASS="l">373</TD><TD>//                                node.getQualifier().accept(this);</TD></TR><TR><TD CLASS="l">374</TD><TD>//                        }</TD></TR><TR><TD CLASS="l">375</TD><TD>//                        buffer.append(&#34;#&#34;);//$NON-NLS-1$</TD></TR><TR><TD CLASS="l">376</TD><TD>//                        node.getName().accept(this);</TD></TR><TR><TD CLASS="l">377</TD><TD>//                        return true;</TD></TR><TR><TD CLASS="l">378</TD><TD>//                }</TD></TR><TR><TD CLASS="l">379</TD><TD>//                </TD></TR><TR><TD CLASS="l">380</TD><TD>//                /*</TD></TR><TR><TD CLASS="l">381</TD><TD>//                 * @see ASTVisitor#visit(FunctionRef)</TD></TR><TR><TD CLASS="l">382</TD><TD>//                 * @since 3.0</TD></TR><TR><TD CLASS="l">383</TD><TD>//                 */</TD></TR><TR><TD CLASS="l">384</TD><TD>//                public boolean visit(FunctionRef node) {</TD></TR><TR><TD CLASS="l">385</TD><TD>//                        if (node.getQualifier() != null) {</TD></TR><TR><TD CLASS="l">386</TD><TD>//                                node.getQualifier().accept(this);</TD></TR><TR><TD CLASS="l">387</TD><TD>//                        }</TD></TR><TR><TD CLASS="l">388</TD><TD>//                        buffer.append(&#34;#&#34;);//$NON-NLS-1$</TD></TR><TR><TD CLASS="l">389</TD><TD>//                        node.getName().accept(this);</TD></TR><TR><TD CLASS="l">390</TD><TD>//                        buffer.append(&#34;(&#34;);//$NON-NLS-1$</TD></TR><TR><TD CLASS="l">391</TD><TD>//                        for (Iterator it = node.parameters().iterator(); it.hasNext(); ) {</TD></TR><TR><TD CLASS="l">392</TD><TD>//                                FunctionRefParameter e = (FunctionRefParameter) it.next();</TD></TR><TR><TD CLASS="l">393</TD><TD>//                                e.accept(this);</TD></TR><TR><TD CLASS="l">394</TD><TD>//                                if (it.hasNext()) {</TD></TR><TR><TD CLASS="l">395</TD><TD>//                                        buffer.append(&#34;,&#34;);//$NON-NLS-1$</TD></TR><TR><TD CLASS="l">396</TD><TD>//                                }</TD></TR><TR><TD CLASS="l">397</TD><TD>//                        }</TD></TR><TR><TD CLASS="l">398</TD><TD>//                        buffer.append(&#34;)&#34;);//$NON-NLS-1$</TD></TR><TR><TD CLASS="l">399</TD><TD>//                        return true;</TD></TR><TR><TD CLASS="l">400</TD><TD>//                }</TD></TR><TR><TD CLASS="l">401</TD><TD>//                </TD></TR><TR><TD CLASS="l">402</TD><TD>//                /*</TD></TR><TR><TD CLASS="l">403</TD><TD>//                 * @see ASTVisitor#visit(FunctionRefParameter)</TD></TR><TR><TD CLASS="l">404</TD><TD>//                 * @since 3.0</TD></TR><TR><TD CLASS="l">405</TD><TD>//                 */</TD></TR><TR><TD CLASS="l">406</TD><TD>//                public boolean visit(FunctionRefParameter node) {</TD></TR><TR><TD CLASS="l">407</TD><TD>//                        node.getType().accept(this);</TD></TR><TR><TD CLASS="l">408</TD><TD>//                        if (node.getName() != null) {</TD></TR><TR><TD CLASS="l">409</TD><TD>//                                buffer.append(&#34; &#34;);//$NON-NLS-1$</TD></TR><TR><TD CLASS="l">410</TD><TD>//                                node.getName().accept(this);</TD></TR><TR><TD CLASS="l">411</TD><TD>//                        }</TD></TR><TR><TD CLASS="l">412</TD><TD>//                        return true;</TD></TR><TR><TD CLASS="l">413</TD><TD>//                }</TD></TR><TR><TD CLASS="l">414</TD><TD>//</TD></TR><TR><TD CLASS="l">415</TD><TD>//                /*</TD></TR><TR><TD CLASS="l">416</TD><TD>//                 * @see ASTVisitor#visit(TagElement)</TD></TR><TR><TD CLASS="l">417</TD><TD>//                 * @since 3.0</TD></TR><TR><TD CLASS="l">418</TD><TD>//                 */</TD></TR><TR><TD CLASS="l">419</TD><TD>//                public boolean visit(TagElement node) {</TD></TR><TR><TD CLASS="l">420</TD><TD>//                        Javadoc javadoc = null;</TD></TR><TR><TD CLASS="l">421</TD><TD>//                        int start = 0;</TD></TR><TR><TD CLASS="l">422</TD><TD>//                        if (node.isNested()) {</TD></TR><TR><TD CLASS="l">423</TD><TD>//                                // nested tags are always enclosed in braces</TD></TR><TR><TD CLASS="l">424</TD><TD>//                                buffer.append(&#34;{&#34;);//$NON-NLS-1$</TD></TR><TR><TD CLASS="l">425</TD><TD>//                                javadoc = (Javadoc) node.getParent().getParent();</TD></TR><TR><TD CLASS="l">426</TD><TD>//                                start++;</TD></TR><TR><TD CLASS="l">427</TD><TD>//                        } else {</TD></TR><TR><TD CLASS="l">428</TD><TD>//                                javadoc = (Javadoc) node.getParent();</TD></TR><TR><TD CLASS="l">429</TD><TD>//                        }</TD></TR><TR><TD CLASS="l">430</TD><TD>//                        start += node.getStartPosition()-javadoc.getStartPosition();</TD></TR><TR><TD CLASS="l">431</TD><TD>//                        if (node.getTagName() != null) {</TD></TR><TR><TD CLASS="l">432</TD><TD>//                                buffer.append(node.getTagName());</TD></TR><TR><TD CLASS="l">433</TD><TD>//                                start += node.getTagName().length();</TD></TR><TR><TD CLASS="l">434</TD><TD>//                        }</TD></TR><TR><TD CLASS="l">435</TD><TD>//                        for (Iterator it = node.fragments().iterator(); it.hasNext(); ) {</TD></TR><TR><TD CLASS="l">436</TD><TD>//                                ASTNode e = (ASTNode) it.next();</TD></TR><TR><TD CLASS="l">437</TD><TD>//                                try {</TD></TR><TR><TD CLASS="l">438</TD><TD>//                                        buffer.append(comment.substring(start, e.getStartPosition()-javadoc.getStartPosition()));</TD></TR><TR><TD CLASS="l">439</TD><TD>//                                        start = e.getStartPosition()-javadoc.getStartPosition();</TD></TR><TR><TD CLASS="l">440</TD><TD>//                                } catch (IndexOutOfBoundsException ex) {</TD></TR><TR><TD CLASS="l">441</TD><TD>//                                        // do nothing</TD></TR><TR><TD CLASS="l">442</TD><TD>//                                }</TD></TR><TR><TD CLASS="l">443</TD><TD>//                                start += e.getLength();</TD></TR><TR><TD CLASS="l">444</TD><TD>//                                e.accept(this);</TD></TR><TR><TD CLASS="l">445</TD><TD>//                        }</TD></TR><TR><TD CLASS="l">446</TD><TD>//                        if (node.isNested()) {</TD></TR><TR><TD CLASS="l">447</TD><TD>//                                buffer.append(&#34;}&#34;);//$NON-NLS-1$</TD></TR><TR><TD CLASS="l">448</TD><TD>//                        }</TD></TR><TR><TD CLASS="l">449</TD><TD>//                        return true;</TD></TR><TR><TD CLASS="l">450</TD><TD>//                }</TD></TR><TR><TD CLASS="l">451</TD><TD>//                </TD></TR><TR><TD CLASS="l">452</TD><TD>//                /*</TD></TR><TR><TD CLASS="l">453</TD><TD>//                 * @see ASTVisitor#visit(TextElement)</TD></TR><TR><TD CLASS="l">454</TD><TD>//                 * @since 3.0</TD></TR><TR><TD CLASS="l">455</TD><TD>//                 */</TD></TR><TR><TD CLASS="l">456</TD><TD>//                public boolean visit(TextElement node) {</TD></TR><TR><TD CLASS="l">457</TD><TD>//                        buffer.append(node.getText());</TD></TR><TR><TD CLASS="l">458</TD><TD>//                        return false;</TD></TR><TR><TD CLASS="l">459</TD><TD>//                }</TD></TR><TR><TD CLASS="l">460</TD><TD>//</TD></TR><TR><TD CLASS="l">461</TD><TD>//                /*</TD></TR><TR><TD CLASS="l">462</TD><TD>//                 * @see ASTVisitor#visit(PrimitiveType)</TD></TR><TR><TD CLASS="l">463</TD><TD>//                 */</TD></TR><TR><TD CLASS="l">464</TD><TD>//                public boolean visit(PrimitiveType node) {</TD></TR><TR><TD CLASS="l">465</TD><TD>//                        buffer.append(node.getPrimitiveTypeCode().toString());</TD></TR><TR><TD CLASS="l">466</TD><TD>//                        return false;</TD></TR><TR><TD CLASS="l">467</TD><TD>//                }</TD></TR><TR><TD CLASS="l">468</TD><TD>//        </TD></TR><TR><TD CLASS="l">469</TD><TD>//                /*</TD></TR><TR><TD CLASS="l">470</TD><TD>//                 * @see ASTVisitor#visit(QualifiedName)</TD></TR><TR><TD CLASS="l">471</TD><TD>//                 */</TD></TR><TR><TD CLASS="l">472</TD><TD>//                public boolean visit(QualifiedName node) {</TD></TR><TR><TD CLASS="l">473</TD><TD>//                        node.getQualifier().accept(this);</TD></TR><TR><TD CLASS="l">474</TD><TD>//                        buffer.append(&#34;.&#34;);//$NON-NLS-1$</TD></TR><TR><TD CLASS="l">475</TD><TD>//                        node.getName().accept(this);</TD></TR><TR><TD CLASS="l">476</TD><TD>//                        return false;</TD></TR><TR><TD CLASS="l">477</TD><TD>//                }</TD></TR><TR><TD CLASS="l">478</TD><TD>//</TD></TR><TR><TD CLASS="l">479</TD><TD>//                /*</TD></TR><TR><TD CLASS="l">480</TD><TD>//                 * @see ASTVisitor#visit(SimpleName)</TD></TR><TR><TD CLASS="l">481</TD><TD>//                 */</TD></TR><TR><TD CLASS="l">482</TD><TD>//                public boolean visit(SimpleName node) {</TD></TR><TR><TD CLASS="l">483</TD><TD>//                        buffer.append(node.getIdentifier());</TD></TR><TR><TD CLASS="l">484</TD><TD>//                        return false;</TD></TR><TR><TD CLASS="l">485</TD><TD>//                }</TD></TR><TR><TD CLASS="l">486</TD><TD>//</TD></TR><TR><TD CLASS="l">487</TD><TD>//                /*</TD></TR><TR><TD CLASS="l">488</TD><TD>//                 * @see ASTVisitor#visit(SimpleName)</TD></TR><TR><TD CLASS="l">489</TD><TD>//                 */</TD></TR><TR><TD CLASS="l">490</TD><TD>//                public boolean visit(SimpleType node) {</TD></TR><TR><TD CLASS="l">491</TD><TD>//                        node.getName().accept(this);</TD></TR><TR><TD CLASS="l">492</TD><TD>//                        return false;</TD></TR><TR><TD CLASS="l">493</TD><TD>//                }</TD></TR><TR><TD CLASS="l"><A NAME="e">494</A></TD><TD>//        }</TD></TR><TR><TD CLASS="l">495</TD><TD> </TD></TR><TR><TD CLASS="l">496</TD><TD>        private char getNextChar(char[] source, int idx) {</TD></TR><TR><TD CLASS="l">497</TD><TD>                        // get next char</TD></TR><TR CLASS="z"><TD CLASS="l">498</TD><TD>                        char ch = source[idx];</TD></TR><TR CLASS="z"><TD CLASS="l">499</TD><TD>                        int charLength = 1;</TD></TR><TR CLASS="z"><TD CLASS="l">500</TD><TD>                        int pos = idx;</TD></TR><TR CLASS="z"><TD CLASS="l">501</TD><TD>                        chars = null;</TD></TR><TR CLASS="z"><TD CLASS="l">502</TD><TD>                        if (ch == '\\' &amp;&amp; source[idx+1] == 'u') {</TD></TR><TR><TD CLASS="l">503</TD><TD>                                //-------------unicode traitement ------------</TD></TR><TR><TD CLASS="l">504</TD><TD>                                int c1, c2, c3, c4;</TD></TR><TR CLASS="z"><TD CLASS="l">505</TD><TD>                                charLength++;</TD></TR><TR CLASS="z"><TD CLASS="l">506</TD><TD>                                while (source[idx+charLength] == 'u') charLength++;</TD></TR><TR CLASS="z"><TD CLASS="l">507</TD><TD>                                if (((c1 = ScannerHelper.getNumericValue(source[idx+charLength++])) &gt; 15</TD></TR><TR CLASS="z"><TD CLASS="l">508</TD><TD>                                        || c1 &lt; 0)</TD></TR><TR CLASS="z"><TD CLASS="l">509</TD><TD>                                        || ((c2 = ScannerHelper.getNumericValue(source[idx+charLength++])) &gt; 15 || c2 &lt; 0)</TD></TR><TR CLASS="z"><TD CLASS="l">510</TD><TD>                                        || ((c3 = ScannerHelper.getNumericValue(source[idx+charLength++])) &gt; 15 || c3 &lt; 0)</TD></TR><TR CLASS="z"><TD CLASS="l">511</TD><TD>                                        || ((c4 = ScannerHelper.getNumericValue(source[idx+charLength++])) &gt; 15 || c4 &lt; 0)) {</TD></TR><TR CLASS="z"><TD CLASS="l">512</TD><TD>                                        return ch;</TD></TR><TR><TD CLASS="l">513</TD><TD>                                }</TD></TR><TR CLASS="z"><TD CLASS="l">514</TD><TD>                                ch = (char) (((c1 * 16 + c2) * 16 + c3) * 16 + c4);</TD></TR><TR CLASS="z"><TD CLASS="l">515</TD><TD>                                chars = new String(source, pos, charLength);</TD></TR><TR><TD CLASS="l">516</TD><TD>                        }</TD></TR><TR CLASS="z"><TD CLASS="l">517</TD><TD>                        return ch;</TD></TR><TR><TD CLASS="l">518</TD><TD>        }</TD></TR><TR><TD CLASS="l">519</TD><TD>        /*</TD></TR><TR><TD CLASS="l">520</TD><TD>         * Convert Javadoc source to match Javadoc.toString().</TD></TR><TR><TD CLASS="l"><A NAME="13">521</A></TD><TD>         * Store converted comments and their corresponding tags respectively</TD></TR><TR><TD CLASS="l">522</TD><TD>         * in comments and allTags fields</TD></TR><TR><TD CLASS="l">523</TD><TD>         */</TD></TR><TR><TD CLASS="l">524</TD><TD>        protected void setSourceComment(char[] source) throws ArrayIndexOutOfBoundsException {</TD></TR><TR CLASS="z"><TD CLASS="l">525</TD><TD>                comments = new ArrayList();</TD></TR><TR CLASS="z"><TD CLASS="l">526</TD><TD>                allTags = new ArrayList();</TD></TR><TR CLASS="z"><TD CLASS="l">527</TD><TD>                StringBuffer buffer = null;</TD></TR><TR CLASS="z"><TD CLASS="l">528</TD><TD>                int comment = 0;</TD></TR><TR CLASS="z"><TD CLASS="l">529</TD><TD>                boolean end = false, lineStarted = false;</TD></TR><TR CLASS="z"><TD CLASS="l">530</TD><TD>                String tag = null;</TD></TR><TR CLASS="z"><TD CLASS="l">531</TD><TD>                List tags = new ArrayList();</TD></TR><TR CLASS="z"><TD CLASS="l">532</TD><TD>                int length = source.length;</TD></TR><TR CLASS="z"><TD CLASS="l">533</TD><TD>                char previousChar=0, currentChar=0;</TD></TR><TR CLASS="z"><TD CLASS="l">534</TD><TD>                for (int i=0; i&lt;length;) {</TD></TR><TR CLASS="z"><TD CLASS="l">535</TD><TD>                        previousChar = currentChar;</TD></TR><TR><TD CLASS="l">536</TD><TD>                        // get next char</TD></TR><TR CLASS="z"><TD CLASS="l">537</TD><TD>                        currentChar = getNextChar(source, i);</TD></TR><TR CLASS="z"><TD CLASS="l">538</TD><TD>                        i += (chars==null) ? 1 : chars.length();</TD></TR><TR><TD CLASS="l">539</TD><TD> </TD></TR><TR><TD CLASS="l">540</TD><TD>                        // </TD></TR><TR CLASS="z"><TD CLASS="l">541</TD><TD>                        switch (comment) {</TD></TR><TR><TD CLASS="l">542</TD><TD>                                case 0: </TD></TR><TR CLASS="z"><TD CLASS="l">543</TD><TD>                                        switch (currentChar) {</TD></TR><TR><TD CLASS="l">544</TD><TD>                                                case '/':</TD></TR><TR CLASS="z"><TD CLASS="l">545</TD><TD>                                                        comment = 1; // first char for comments...</TD></TR><TR CLASS="z"><TD CLASS="l">546</TD><TD>                                                        buffer = new StringBuffer();</TD></TR><TR CLASS="z"><TD CLASS="l">547</TD><TD>                                                        if (chars == null) buffer.append(currentChar);</TD></TR><TR CLASS="z"><TD CLASS="l">548</TD><TD>                                                        else buffer.append(chars);</TD></TR><TR CLASS="z"><TD CLASS="l">549</TD><TD>                                                        break;</TD></TR><TR><TD CLASS="l">550</TD><TD>                                                case '\'':</TD></TR><TR CLASS="z"><TD CLASS="l">551</TD><TD>                                                        while (i&lt;length) {</TD></TR><TR><TD CLASS="l">552</TD><TD>                                                                // get next char</TD></TR><TR CLASS="z"><TD CLASS="l">553</TD><TD>                                                                currentChar = getNextChar(source, i);</TD></TR><TR CLASS="z"><TD CLASS="l">554</TD><TD>                                                                i += (chars==null) ? 1 : chars.length();</TD></TR><TR CLASS="z"><TD CLASS="l">555</TD><TD>                                                                if (currentChar == '\\') {</TD></TR><TR><TD CLASS="l">556</TD><TD>                                                                        // get next char</TD></TR><TR CLASS="z"><TD CLASS="l">557</TD><TD>                                                                        currentChar = getNextChar(source, i);</TD></TR><TR CLASS="z"><TD CLASS="l">558</TD><TD>                                                                        i += (chars==null) ? 1 : chars.length();</TD></TR><TR><TD CLASS="l">559</TD><TD>                                                                } else {</TD></TR><TR CLASS="z"><TD CLASS="l">560</TD><TD>                                                                        if (currentChar == '\'') {</TD></TR><TR CLASS="z"><TD CLASS="l">561</TD><TD>                                                                                break;</TD></TR><TR><TD CLASS="l">562</TD><TD>                                                                        }</TD></TR><TR><TD CLASS="l">563</TD><TD>                                                                }</TD></TR><TR><TD CLASS="l">564</TD><TD>                                                        }</TD></TR><TR CLASS="z"><TD CLASS="l">565</TD><TD>                                                        break;</TD></TR><TR><TD CLASS="l">566</TD><TD>                                                case '&#34;':</TD></TR><TR CLASS="z"><TD CLASS="l">567</TD><TD>                                                        while (i&lt;length) {</TD></TR><TR><TD CLASS="l">568</TD><TD>                                                                // get next char</TD></TR><TR CLASS="z"><TD CLASS="l">569</TD><TD>                                                                currentChar = getNextChar(source, i);</TD></TR><TR CLASS="z"><TD CLASS="l">570</TD><TD>                                                                i += (chars==null) ? 1 : chars.length();</TD></TR><TR CLASS="z"><TD CLASS="l">571</TD><TD>                                                                if (currentChar == '\\') {</TD></TR><TR><TD CLASS="l">572</TD><TD>                                                                        // get next char</TD></TR><TR CLASS="z"><TD CLASS="l">573</TD><TD>                                                                        currentChar = getNextChar(source, i);</TD></TR><TR CLASS="z"><TD CLASS="l">574</TD><TD>                                                                        i += (chars==null) ? 1 : chars.length();</TD></TR><TR><TD CLASS="l">575</TD><TD>                                                                } else {</TD></TR><TR CLASS="z"><TD CLASS="l">576</TD><TD>                                                                        if (currentChar == '&#34;') {</TD></TR><TR><TD CLASS="l">577</TD><TD>                                                                                // get next char</TD></TR><TR CLASS="z"><TD CLASS="l">578</TD><TD>                                                                                currentChar = getNextChar(source, i);</TD></TR><TR CLASS="z"><TD CLASS="l">579</TD><TD>                                                                                if (currentChar == '&#34;') {</TD></TR><TR CLASS="z"><TD CLASS="l">580</TD><TD>                                                                                        i += (chars==null) ? 1 : chars.length();</TD></TR><TR><TD CLASS="l">581</TD><TD>                                                                                } else {</TD></TR><TR><TD CLASS="l">582</TD><TD>                                                                                        break;</TD></TR><TR><TD CLASS="l">583</TD><TD>                                                                                }</TD></TR><TR><TD CLASS="l">584</TD><TD>                                                                        }</TD></TR><TR><TD CLASS="l">585</TD><TD>                                                                }</TD></TR><TR><TD CLASS="l">586</TD><TD>                                                        }</TD></TR><TR><TD CLASS="l">587</TD><TD>                                                        break;</TD></TR><TR><TD CLASS="l">588</TD><TD>                                        }</TD></TR><TR CLASS="z"><TD CLASS="l">589</TD><TD>                                        break;</TD></TR><TR><TD CLASS="l">590</TD><TD>                                case 1: // first '/' has been found...</TD></TR><TR CLASS="z"><TD CLASS="l">591</TD><TD>                                        switch (currentChar) {</TD></TR><TR><TD CLASS="l">592</TD><TD>                                                case '/':</TD></TR><TR CLASS="z"><TD CLASS="l">593</TD><TD>                                                        if (chars == null) buffer.append(currentChar);</TD></TR><TR CLASS="z"><TD CLASS="l">594</TD><TD>                                                        else buffer.append(chars);</TD></TR><TR CLASS="z"><TD CLASS="l">595</TD><TD>                                                        comment = LINE_COMMENT;</TD></TR><TR CLASS="z"><TD CLASS="l">596</TD><TD>                                                        break;</TD></TR><TR><TD CLASS="l">597</TD><TD>                                                case '*':</TD></TR><TR CLASS="z"><TD CLASS="l">598</TD><TD>                                                        if (chars == null) buffer.append(currentChar);</TD></TR><TR CLASS="z"><TD CLASS="l">599</TD><TD>                                                        else buffer.append(chars);</TD></TR><TR CLASS="z"><TD CLASS="l">600</TD><TD>                                                        comment = 2; // next step</TD></TR><TR CLASS="z"><TD CLASS="l">601</TD><TD>                                                        break;</TD></TR><TR><TD CLASS="l">602</TD><TD>                                                default:</TD></TR><TR CLASS="z"><TD CLASS="l">603</TD><TD>                                                        comment = 0;</TD></TR><TR><TD CLASS="l">604</TD><TD>                                                        break;</TD></TR><TR><TD CLASS="l">605</TD><TD>                                        }</TD></TR><TR CLASS="z"><TD CLASS="l">606</TD><TD>                                        break;</TD></TR><TR><TD CLASS="l">607</TD><TD>                                case 2: // '/*' has been found...</TD></TR><TR CLASS="z"><TD CLASS="l">608</TD><TD>                                        if (currentChar == '*') {</TD></TR><TR CLASS="z"><TD CLASS="l">609</TD><TD>                                                comment = 3; // next step...</TD></TR><TR><TD CLASS="l">610</TD><TD>                                        } else {</TD></TR><TR CLASS="z"><TD CLASS="l">611</TD><TD>                                                comment = BLOCK_COMMENT;</TD></TR><TR><TD CLASS="l">612</TD><TD>                                        }</TD></TR><TR CLASS="z"><TD CLASS="l">613</TD><TD>                                        if (chars == null) buffer.append(currentChar);</TD></TR><TR CLASS="z"><TD CLASS="l">614</TD><TD>                                        else buffer.append(chars);</TD></TR><TR CLASS="z"><TD CLASS="l">615</TD><TD>                                        break;</TD></TR><TR><TD CLASS="l">616</TD><TD>                                case 3: // '/**' has bee found, verify that's not an empty block comment</TD></TR><TR CLASS="z"><TD CLASS="l">617</TD><TD>                                        if (currentChar == '/') { // empty block comment</TD></TR><TR CLASS="z"><TD CLASS="l">618</TD><TD>                                                if (chars == null) buffer.append(currentChar);</TD></TR><TR CLASS="z"><TD CLASS="l">619</TD><TD>                                                else buffer.append(chars);</TD></TR><TR CLASS="z"><TD CLASS="l">620</TD><TD>                                                comments.add(buffer.toString());</TD></TR><TR CLASS="z"><TD CLASS="l">621</TD><TD>                                                allTags.add(new ArrayList());</TD></TR><TR CLASS="z"><TD CLASS="l">622</TD><TD>                                                comment = 0;</TD></TR><TR CLASS="z"><TD CLASS="l">623</TD><TD>                                                break;</TD></TR><TR><TD CLASS="l">624</TD><TD>                                        }</TD></TR><TR><TD CLASS="l">625</TD><TD>                                        // do not break, directly go to next case...</TD></TR><TR CLASS="z"><TD CLASS="l">626</TD><TD>                                        comment = DOC_COMMENT;</TD></TR><TR><TD CLASS="l">627</TD><TD>                                case DOC_COMMENT:</TD></TR><TR CLASS="z"><TD CLASS="l">628</TD><TD>                                        if (tag != null) {</TD></TR><TR CLASS="z"><TD CLASS="l">629</TD><TD>                                                if (currentChar &gt;= 'a' &amp;&amp; currentChar &lt;= 'z') {</TD></TR><TR CLASS="z"><TD CLASS="l">630</TD><TD>                                                        tag += currentChar;</TD></TR><TR><TD CLASS="l">631</TD><TD>                                                } else {</TD></TR><TR CLASS="z"><TD CLASS="l">632</TD><TD>                                                        tags.add(tag);</TD></TR><TR CLASS="z"><TD CLASS="l">633</TD><TD>                                                        tag = null;</TD></TR><TR><TD CLASS="l">634</TD><TD>                                                }</TD></TR><TR><TD CLASS="l">635</TD><TD>                                        }</TD></TR><TR CLASS="z"><TD CLASS="l">636</TD><TD>                                        switch (currentChar) {</TD></TR><TR><TD CLASS="l">637</TD><TD>                                                case '@':</TD></TR><TR CLASS="z"><TD CLASS="l">638</TD><TD>                                                        if (!lineStarted || previousChar == '{') {</TD></TR><TR CLASS="z"><TD CLASS="l">639</TD><TD>                                                                tag = &#34;&#34;;</TD></TR><TR CLASS="z"><TD CLASS="l">640</TD><TD>                                                                lineStarted = true;</TD></TR><TR><TD CLASS="l">641</TD><TD>                                                        }</TD></TR><TR CLASS="z"><TD CLASS="l">642</TD><TD>                                                        break;</TD></TR><TR><TD CLASS="l">643</TD><TD>                                                case '\r':</TD></TR><TR><TD CLASS="l">644</TD><TD>                                                case '\n':</TD></TR><TR CLASS="z"><TD CLASS="l">645</TD><TD>                                                        lineStarted = false;</TD></TR><TR CLASS="z"><TD CLASS="l">646</TD><TD>                                                        break;</TD></TR><TR><TD CLASS="l">647</TD><TD>                                                case '*':</TD></TR><TR CLASS="z"><TD CLASS="l">648</TD><TD>                                                        break;</TD></TR><TR><TD CLASS="l">649</TD><TD>                                                default:</TD></TR><TR CLASS="z"><TD CLASS="l">650</TD><TD>                                                        if (!Character.isWhitespace(currentChar)) {</TD></TR><TR CLASS="z"><TD CLASS="l">651</TD><TD>                                                                lineStarted = true;</TD></TR><TR><TD CLASS="l">652</TD><TD>                                                        }</TD></TR><TR><TD CLASS="l">653</TD><TD>                                        }</TD></TR><TR><TD CLASS="l">654</TD><TD>                                case BLOCK_COMMENT:</TD></TR><TR CLASS="z"><TD CLASS="l">655</TD><TD>                                        if (chars == null) buffer.append(currentChar);</TD></TR><TR CLASS="z"><TD CLASS="l">656</TD><TD>                                        else buffer.append(chars);</TD></TR><TR CLASS="z"><TD CLASS="l">657</TD><TD>                                        if (end &amp;&amp; currentChar == '/') {</TD></TR><TR CLASS="z"><TD CLASS="l">658</TD><TD>                                                comment = 0;</TD></TR><TR CLASS="z"><TD CLASS="l">659</TD><TD>                                                lineStarted = false;</TD></TR><TR CLASS="z"><TD CLASS="l">660</TD><TD>                                                comments.add(buffer.toString());</TD></TR><TR CLASS="z"><TD CLASS="l">661</TD><TD>                                                allTags.add(tags);</TD></TR><TR CLASS="z"><TD CLASS="l">662</TD><TD>                                                tags = new ArrayList();</TD></TR><TR><TD CLASS="l">663</TD><TD>                                        }</TD></TR><TR CLASS="z"><TD CLASS="l">664</TD><TD>                                        end = currentChar == '*';</TD></TR><TR CLASS="z"><TD CLASS="l">665</TD><TD>                                        break;</TD></TR><TR><TD CLASS="l">666</TD><TD>                                case LINE_COMMENT:</TD></TR><TR CLASS="z"><TD CLASS="l">667</TD><TD>                                        if (currentChar == '\r' || currentChar == '\n') {</TD></TR><TR><TD CLASS="l">668</TD><TD>                                                /*</TD></TR><TR><TD CLASS="l">669</TD><TD>                                                if (currentChar == '\r' &amp;&amp; source[i+1] == '\n') {</TD></TR><TR><TD CLASS="l">670</TD><TD>                                                        buffer.append(source[++i]);</TD></TR><TR><TD CLASS="l">671</TD><TD>                                                }</TD></TR><TR><TD CLASS="l">672</TD><TD>                                                */</TD></TR><TR CLASS="z"><TD CLASS="l">673</TD><TD>                                                comment = 0;</TD></TR><TR CLASS="z"><TD CLASS="l">674</TD><TD>                                                comments.add(buffer.toString());</TD></TR><TR CLASS="z"><TD CLASS="l">675</TD><TD>                                                allTags.add(tags);</TD></TR><TR><TD CLASS="l">676</TD><TD>                                        } else {</TD></TR><TR CLASS="z"><TD CLASS="l">677</TD><TD>                                                if (chars == null) buffer.append(currentChar);</TD></TR><TR CLASS="z"><TD CLASS="l">678</TD><TD>                                                else buffer.append(chars);</TD></TR><TR><TD CLASS="l">679</TD><TD>                                        }</TD></TR><TR CLASS="z"><TD CLASS="l">680</TD><TD>                                        break;</TD></TR><TR><TD CLASS="l">681</TD><TD>                                default:</TD></TR><TR><TD CLASS="l">682</TD><TD>                                        // do nothing</TD></TR><TR><TD CLASS="l">683</TD><TD>                                        break;</TD></TR><TR><TD CLASS="l">684</TD><TD>                        }</TD></TR><TR><TD CLASS="l">685</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">686</TD><TD>        }</TD></TR><TR><TD CLASS="l">687</TD><TD> </TD></TR><TR><TD CLASS="l">688</TD><TD>        /*</TD></TR><TR><TD CLASS="l">689</TD><TD>         * Convert Javadoc source to match Javadoc.toString().</TD></TR><TR><TD CLASS="l"><A NAME="f">690</A></TD><TD>         * Store converted comments and their corresponding tags respectively</TD></TR><TR><TD CLASS="l">691</TD><TD>         * in comments and allTags fields</TD></TR><TR><TD CLASS="l">692</TD><TD>         */</TD></TR><TR><TD CLASS="l">693</TD><TD>        char[] getUnicodeSource(char[] source) {</TD></TR><TR CLASS="z"><TD CLASS="l">694</TD><TD>                int length = source.length;</TD></TR><TR CLASS="z"><TD CLASS="l">695</TD><TD>                int unicodeLength = length*6;</TD></TR><TR CLASS="z"><TD CLASS="l">696</TD><TD>                char[] unicodeSource = new char[unicodeLength];</TD></TR><TR CLASS="z"><TD CLASS="l">697</TD><TD>                int u=0;</TD></TR><TR CLASS="z"><TD CLASS="l">698</TD><TD>                for (int i=0; i&lt;length; i++) {</TD></TR><TR><TD CLASS="l">699</TD><TD>                        // get next char</TD></TR><TR CLASS="z"><TD CLASS="l">700</TD><TD>                        if (source[i] == '\\' &amp;&amp; source[i+1] == 'u') {</TD></TR><TR><TD CLASS="l">701</TD><TD>                                //-------------unicode traitement ------------</TD></TR><TR><TD CLASS="l">702</TD><TD>                                int c1, c2, c3, c4;</TD></TR><TR CLASS="z"><TD CLASS="l">703</TD><TD>                                unicodeSource[u++] = source[i];</TD></TR><TR CLASS="z"><TD CLASS="l">704</TD><TD>                                unicodeSource[u++] = source[++i];</TD></TR><TR CLASS="z"><TD CLASS="l">705</TD><TD>                                if (((c1 = ScannerHelper.getNumericValue(source[i+1])) &gt; 15</TD></TR><TR CLASS="z"><TD CLASS="l">706</TD><TD>                                        || c1 &lt; 0)</TD></TR><TR CLASS="z"><TD CLASS="l">707</TD><TD>                                        || ((c2 = ScannerHelper.getNumericValue(source[i+2])) &gt; 15 || c2 &lt; 0)</TD></TR><TR CLASS="z"><TD CLASS="l">708</TD><TD>                                        || ((c3 = ScannerHelper.getNumericValue(source[i+3])) &gt; 15 || c3 &lt; 0)</TD></TR><TR CLASS="z"><TD CLASS="l">709</TD><TD>                                        || ((c4 = ScannerHelper.getNumericValue(source[i+4])) &gt; 15 || c4 &lt; 0)) {</TD></TR><TR CLASS="z"><TD CLASS="l">710</TD><TD>                                        throw new RuntimeException(&#34;Invalid unicode in source at &#34;+i);</TD></TR><TR><TD CLASS="l">711</TD><TD>                                }</TD></TR><TR CLASS="z"><TD CLASS="l">712</TD><TD>                                for (int j=0; j&lt;4; j++) unicodeSource[u++] = source[++i];</TD></TR><TR><TD CLASS="l">713</TD><TD>                        } else {</TD></TR><TR CLASS="z"><TD CLASS="l">714</TD><TD>                                unicodeSource[u++] = '\\';</TD></TR><TR CLASS="z"><TD CLASS="l">715</TD><TD>                                unicodeSource[u++] = 'u';</TD></TR><TR CLASS="z"><TD CLASS="l">716</TD><TD>                                unicodeSource[u++] = '0';</TD></TR><TR CLASS="z"><TD CLASS="l">717</TD><TD>                                unicodeSource[u++] = '0';</TD></TR><TR CLASS="z"><TD CLASS="l">718</TD><TD>                                int val = source[i]/16;</TD></TR><TR CLASS="z"><TD CLASS="l">719</TD><TD>                                unicodeSource[u++] = (char) (val&lt;10 ? val+ 0x30 : val-10+0x61);</TD></TR><TR CLASS="z"><TD CLASS="l">720</TD><TD>                                val = source[i]%16;</TD></TR><TR CLASS="z"><TD CLASS="l">721</TD><TD>                                unicodeSource[u++] = (char) (val&lt;10 ? val+ 0x30 : val-10+0x61);</TD></TR><TR><TD CLASS="l">722</TD><TD>                        }</TD></TR><TR><TD CLASS="l">723</TD><TD>                }</TD></TR><TR><TD CLASS="l">724</TD><TD>                // Return one well sized array</TD></TR><TR CLASS="z"><TD CLASS="l">725</TD><TD>                if (u != unicodeLength) {</TD></TR><TR CLASS="z"><TD CLASS="l">726</TD><TD>                        char[] result = new char[u];</TD></TR><TR CLASS="z"><TD CLASS="l">727</TD><TD>                        System.arraycopy(unicodeSource, 0, result, 0, u);</TD></TR><TR CLASS="z"><TD CLASS="l">728</TD><TD>                        return result;</TD></TR><TR><TD CLASS="l">729</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">730</TD><TD>                return unicodeSource;</TD></TR><TR><TD CLASS="l">731</TD><TD>        }</TD></TR><TR><TD CLASS="l">732</TD><TD> </TD></TR><TR><TD CLASS="l">733</TD><TD>        /*</TD></TR><TR><TD CLASS="l">734</TD><TD>         * Convert Javadoc source to match Javadoc.toString().</TD></TR><TR><TD CLASS="l"><A NAME="10">735</A></TD><TD>         * Store converted comments and their corresponding tags respectively</TD></TR><TR><TD CLASS="l">736</TD><TD>         * in comments and allTags fields</TD></TR><TR><TD CLASS="l">737</TD><TD>         */</TD></TR><TR><TD CLASS="l">738</TD><TD>        char[] getUnixSource(char[] source) {</TD></TR><TR CLASS="z"><TD CLASS="l">739</TD><TD>                int length = source.length;</TD></TR><TR CLASS="z"><TD CLASS="l">740</TD><TD>                int unixLength = length;</TD></TR><TR CLASS="z"><TD CLASS="l">741</TD><TD>                char[] unixSource = new char[unixLength];</TD></TR><TR CLASS="z"><TD CLASS="l">742</TD><TD>                int u=0;</TD></TR><TR CLASS="z"><TD CLASS="l">743</TD><TD>                for (int i=0; i&lt;length; i++) {</TD></TR><TR><TD CLASS="l">744</TD><TD>                        // get next char</TD></TR><TR CLASS="z"><TD CLASS="l">745</TD><TD>                        if (source[i] == '\r' &amp;&amp; source[i+1] == '\n') {</TD></TR><TR CLASS="z"><TD CLASS="l">746</TD><TD>                                i++;</TD></TR><TR><TD CLASS="l">747</TD><TD>                        }</TD></TR><TR CLASS="z"><TD CLASS="l">748</TD><TD>                        unixSource[u++] = source[i];</TD></TR><TR><TD CLASS="l">749</TD><TD>                }</TD></TR><TR><TD CLASS="l">750</TD><TD>                // Return one well sized array</TD></TR><TR CLASS="z"><TD CLASS="l">751</TD><TD>                if (u != unixLength) {</TD></TR><TR CLASS="z"><TD CLASS="l">752</TD><TD>                        char[] result = new char[u];</TD></TR><TR CLASS="z"><TD CLASS="l">753</TD><TD>                        System.arraycopy(unixSource, 0, result, 0, u);</TD></TR><TR CLASS="z"><TD CLASS="l">754</TD><TD>                        return result;</TD></TR><TR><TD CLASS="l">755</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">756</TD><TD>                return unixSource;</TD></TR><TR><TD CLASS="l">757</TD><TD>        }</TD></TR><TR><TD CLASS="l">758</TD><TD>        </TD></TR><TR><TD CLASS="l"><A NAME="5">759</A></TD><TD>        /*</TD></TR><TR><TD CLASS="l">760</TD><TD>         * Return all tags number for a given Javadoc</TD></TR><TR><TD CLASS="l">761</TD><TD>         */</TD></TR><TR><TD CLASS="l">762</TD><TD>        int allTags(JSdoc docComment) {</TD></TR><TR CLASS="z"><TD CLASS="l">763</TD><TD>                int all = 0;</TD></TR><TR><TD CLASS="l">764</TD><TD>                // Count main tags</TD></TR><TR CLASS="z"><TD CLASS="l">765</TD><TD>                Iterator tags = docComment.tags().listIterator();</TD></TR><TR CLASS="z"><TD CLASS="l">766</TD><TD>                while (tags.hasNext()) {</TD></TR><TR CLASS="z"><TD CLASS="l">767</TD><TD>                        TagElement tagElement = (TagElement) tags.next();</TD></TR><TR CLASS="z"><TD CLASS="l">768</TD><TD>                        if (tagElement.getTagName() != null) {</TD></TR><TR CLASS="z"><TD CLASS="l">769</TD><TD>                                all++;</TD></TR><TR><TD CLASS="l">770</TD><TD>                        }</TD></TR><TR CLASS="z"><TD CLASS="l">771</TD><TD>                        Iterator fragments = tagElement.fragments().listIterator();</TD></TR><TR CLASS="z"><TD CLASS="l">772</TD><TD>                        while (fragments.hasNext()) {</TD></TR><TR CLASS="z"><TD CLASS="l">773</TD><TD>                                ASTNode node = (ASTNode) fragments.next();</TD></TR><TR CLASS="z"><TD CLASS="l">774</TD><TD>                                if (node.getNodeType() == ASTNode.TAG_ELEMENT) {</TD></TR><TR CLASS="z"><TD CLASS="l">775</TD><TD>                                        all++;</TD></TR><TR><TD CLASS="l">776</TD><TD>                                }</TD></TR><TR><TD CLASS="l">777</TD><TD>                        }</TD></TR><TR><TD CLASS="l">778</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">779</TD><TD>                return all;</TD></TR><TR><TD CLASS="l">780</TD><TD>        }</TD></TR><TR><TD CLASS="l">781</TD><TD> </TD></TR><TR><TD CLASS="l">782</TD><TD>        /*</TD></TR><TR><TD CLASS="l"><A NAME="4">783</A></TD><TD>         * Add a failure to the list. Use only one method as it easier to put breakpoint to</TD></TR><TR><TD CLASS="l">784</TD><TD>         * debug failure when it occurs...</TD></TR><TR><TD CLASS="l">785</TD><TD>         */</TD></TR><TR><TD CLASS="l">786</TD><TD>        private void addFailure(String msg) {</TD></TR><TR CLASS="z"><TD CLASS="l">787</TD><TD>                failures.add(msg);</TD></TR><TR CLASS="z"><TD CLASS="l">788</TD><TD>        }</TD></TR><TR><TD CLASS="l">789</TD><TD> </TD></TR><TR><TD CLASS="l">790</TD><TD>        /*</TD></TR><TR><TD CLASS="l">791</TD><TD>         * Put the failure message in list instead of throwing exception immediately.</TD></TR><TR><TD CLASS="l"><A NAME="a">792</A></TD><TD>         * This allow to store several failures per test...</TD></TR><TR><TD CLASS="l">793</TD><TD>         * @see tearDown method which finally throws the execption to signal that test fails.</TD></TR><TR><TD CLASS="l">794</TD><TD>         */</TD></TR><TR><TD CLASS="l">795</TD><TD>        protected void assumeTrue(String msg, boolean cond) {</TD></TR><TR CLASS="z"><TD CLASS="l">796</TD><TD>                if (!cond) {</TD></TR><TR CLASS="z"><TD CLASS="l">797</TD><TD>                        addFailure(msg);</TD></TR><TR CLASS="z"><TD CLASS="l">798</TD><TD>                        if (stopOnFailure) assertTrue(msg, cond);</TD></TR><TR><TD CLASS="l">799</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">800</TD><TD>        }</TD></TR><TR><TD CLASS="l">801</TD><TD> </TD></TR><TR><TD CLASS="l">802</TD><TD>        /*</TD></TR><TR><TD CLASS="l">803</TD><TD>         * Put the failure message in list instead of throwing exception immediately.</TD></TR><TR><TD CLASS="l"><A NAME="9">804</A></TD><TD>         * This allow to store several failures per test...</TD></TR><TR><TD CLASS="l">805</TD><TD>         * @see tearDown method which finally throws the execption to signal that test fails.</TD></TR><TR><TD CLASS="l">806</TD><TD>         */</TD></TR><TR><TD CLASS="l">807</TD><TD>        protected void assumeNull(String msg, Object obj) {</TD></TR><TR CLASS="z"><TD CLASS="l">808</TD><TD>                if (obj != null) {</TD></TR><TR CLASS="z"><TD CLASS="l">809</TD><TD>                        addFailure(msg);</TD></TR><TR CLASS="z"><TD CLASS="l">810</TD><TD>                        if (stopOnFailure) assertNull(msg, obj);</TD></TR><TR><TD CLASS="l">811</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">812</TD><TD>        }</TD></TR><TR><TD CLASS="l">813</TD><TD> </TD></TR><TR><TD CLASS="l">814</TD><TD>        /*</TD></TR><TR><TD CLASS="l">815</TD><TD>         * Put the failure message in list instead of throwing exception immediately.</TD></TR><TR><TD CLASS="l"><A NAME="8">816</A></TD><TD>         * This allow to store several failures per test...</TD></TR><TR><TD CLASS="l">817</TD><TD>         * @see tearDown method which finally throws the execption to signal that test fails.</TD></TR><TR><TD CLASS="l">818</TD><TD>         */</TD></TR><TR><TD CLASS="l">819</TD><TD>        protected void assumeNotNull(String msg, Object obj) {</TD></TR><TR CLASS="z"><TD CLASS="l">820</TD><TD>                if (obj == null) {</TD></TR><TR CLASS="z"><TD CLASS="l">821</TD><TD>                        addFailure(msg);</TD></TR><TR CLASS="z"><TD CLASS="l">822</TD><TD>                        if (stopOnFailure) assertNotNull(msg, obj);</TD></TR><TR><TD CLASS="l">823</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">824</TD><TD>        }</TD></TR><TR><TD CLASS="l">825</TD><TD> </TD></TR><TR><TD CLASS="l">826</TD><TD>        /*</TD></TR><TR><TD CLASS="l">827</TD><TD>         * Put the failure message in list instead of throwing exception immediately.</TD></TR><TR><TD CLASS="l"><A NAME="7">828</A></TD><TD>         * This allow to store several failures per test...</TD></TR><TR><TD CLASS="l">829</TD><TD>         * @see tearDown method which finally throws the execption to signal that test fails.</TD></TR><TR><TD CLASS="l">830</TD><TD>         */</TD></TR><TR><TD CLASS="l">831</TD><TD>        protected void assumeEquals(String msg, int expected, int actual) {</TD></TR><TR CLASS="z"><TD CLASS="l">832</TD><TD>                if (expected != actual) {</TD></TR><TR CLASS="z"><TD CLASS="l">833</TD><TD>                        addFailure(msg+&#34;, expected=&#34;+expected+&#34; actual=&#34;+actual);</TD></TR><TR CLASS="z"><TD CLASS="l">834</TD><TD>                        if (stopOnFailure) assertEquals(msg, expected, actual);</TD></TR><TR><TD CLASS="l">835</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">836</TD><TD>        }</TD></TR><TR><TD CLASS="l">837</TD><TD> </TD></TR><TR><TD CLASS="l">838</TD><TD>        /*</TD></TR><TR><TD CLASS="l">839</TD><TD>         * Put the failure message in list instead of throwing exception immediately.</TD></TR><TR><TD CLASS="l"><A NAME="6">840</A></TD><TD>         * This allow to store several failures per test...</TD></TR><TR><TD CLASS="l">841</TD><TD>         * @see tearDown method which finally throws the execption to signal that test fails.</TD></TR><TR><TD CLASS="l">842</TD><TD>         */</TD></TR><TR><TD CLASS="l">843</TD><TD>        protected void assumeEquals(String msg, Object expected, Object actual) {</TD></TR><TR CLASS="z"><TD CLASS="l">844</TD><TD>                if (expected == null &amp;&amp; actual == null)</TD></TR><TR CLASS="z"><TD CLASS="l">845</TD><TD>                        return;</TD></TR><TR CLASS="z"><TD CLASS="l">846</TD><TD>                if (expected != null &amp;&amp; expected.equals(actual))</TD></TR><TR CLASS="z"><TD CLASS="l">847</TD><TD>                        return;</TD></TR><TR CLASS="z"><TD CLASS="l">848</TD><TD>                addFailure(msg+&#34;, expected:&lt;&#34;+expected+&#34;&gt; actual:&lt;&#34;+actual+'&gt;');</TD></TR><TR CLASS="z"><TD CLASS="l">849</TD><TD>                if (stopOnFailure) assertEquals(msg, expected, actual);</TD></TR><TR CLASS="z"><TD CLASS="l">850</TD><TD>        }</TD></TR><TR><TD CLASS="l">851</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="87">852</A></TD><TD>        /*</TD></TR><TR><TD CLASS="l">853</TD><TD>         * Verify positions of tags in source</TD></TR><TR><TD CLASS="l">854</TD><TD>         */</TD></TR><TR><TD CLASS="l">855</TD><TD>        private void verifyPositions(JSdoc docComment, char[] source) {</TD></TR><TR CLASS="z"><TD CLASS="l">856</TD><TD>                boolean stop = stopOnFailure;</TD></TR><TR><TD CLASS="l">857</TD><TD>//                stopOnFailure = false;</TD></TR><TR><TD CLASS="l">858</TD><TD>                // Verify javadoc start and end position</TD></TR><TR CLASS="z"><TD CLASS="l">859</TD><TD>                int start = docComment.getStartPosition();</TD></TR><TR CLASS="z"><TD CLASS="l">860</TD><TD>                int end = start+docComment.getLength()-1;</TD></TR><TR CLASS="z"><TD CLASS="l">861</TD><TD>                assumeTrue(prefix+&#34;Misplaced javadoc start at &lt;&#34;+start+&#34;&gt;: &#34;+docComment, source[start++] == '/' &amp;&amp; source[start++] == '*' &amp;&amp; source[start++] == '*');</TD></TR><TR><TD CLASS="l">862</TD><TD>                // Get first meaningful character</TD></TR><TR CLASS="z"><TD CLASS="l">863</TD><TD>                int tagStart = start;</TD></TR><TR><TD CLASS="l">864</TD><TD>                // Verify tags</TD></TR><TR CLASS="z"><TD CLASS="l">865</TD><TD>                Iterator tags = docComment.tags().listIterator();</TD></TR><TR CLASS="z"><TD CLASS="l">866</TD><TD>                while (tags.hasNext()) {</TD></TR><TR CLASS="z"><TD CLASS="l">867</TD><TD>                        while (source[tagStart] == '*' || Character.isWhitespace(source[tagStart])) {</TD></TR><TR CLASS="z"><TD CLASS="l">868</TD><TD>                                tagStart++; // purge non-stored characters</TD></TR><TR><TD CLASS="l">869</TD><TD>                        }</TD></TR><TR CLASS="z"><TD CLASS="l">870</TD><TD>                        TagElement tagElement = (TagElement) tags.next();</TD></TR><TR CLASS="z"><TD CLASS="l">871</TD><TD>                        int teStart = tagElement.getStartPosition();</TD></TR><TR CLASS="z"><TD CLASS="l">872</TD><TD>                        assumeEquals(prefix+&#34;Wrong start position &lt;&#34;+teStart+&#34;&gt; for tag element: &#34;+tagElement, tagStart, teStart);</TD></TR><TR CLASS="z"><TD CLASS="l">873</TD><TD>                        verifyPositions(tagElement, source);</TD></TR><TR CLASS="z"><TD CLASS="l">874</TD><TD>                        tagStart += tagElement.getLength();</TD></TR><TR><TD CLASS="l">875</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">876</TD><TD>                while (source[tagStart] == '*' || Character.isWhitespace(source[tagStart])) {</TD></TR><TR CLASS="z"><TD CLASS="l">877</TD><TD>                        tagStart++; // purge non-stored characters</TD></TR><TR><TD CLASS="l">878</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">879</TD><TD>                assumeTrue(prefix+&#34;Misplaced javadoc end at &lt;&#34;+tagStart+'&gt;', source[tagStart-1] == '*' &amp;&amp; source[tagStart] == '/');</TD></TR><TR CLASS="z"><TD CLASS="l">880</TD><TD>                assumeEquals(prefix+&#34;Wrong javadoc length at &lt;&#34;+end+&#34;&gt;: &#34;, tagStart, end);</TD></TR><TR CLASS="z"><TD CLASS="l">881</TD><TD>                stopOnFailure = stop;</TD></TR><TR CLASS="z"><TD CLASS="l">882</TD><TD>                assertTrue(!stop || failures.size()==0);</TD></TR><TR CLASS="z"><TD CLASS="l">883</TD><TD>        }</TD></TR><TR><TD CLASS="l">884</TD><TD> </TD></TR><TR><TD CLASS="l">885</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="88">886</A></TD><TD>         * Verify positions of fragments in source</TD></TR><TR><TD CLASS="l">887</TD><TD>         * @deprecated using deprecated code</TD></TR><TR><TD CLASS="l">888</TD><TD>         */</TD></TR><TR><TD CLASS="l">889</TD><TD>        private void verifyPositions(TagElement tagElement, char[] source) {</TD></TR><TR CLASS="z"><TD CLASS="l">890</TD><TD>                String text = null;</TD></TR><TR><TD CLASS="l">891</TD><TD>                // Verify tag name</TD></TR><TR CLASS="z"><TD CLASS="l">892</TD><TD>                String tagName = tagElement.getTagName();</TD></TR><TR CLASS="z"><TD CLASS="l">893</TD><TD>                int tagStart = tagElement.getStartPosition();</TD></TR><TR CLASS="z"><TD CLASS="l">894</TD><TD>                if (tagElement.isNested()) {</TD></TR><TR CLASS="z"><TD CLASS="l">895</TD><TD>                        assumeEquals(prefix+&#34;Wrong start position &lt;&#34;+tagStart+&#34;&gt; for &#34;+tagElement, '{', source[tagStart++]);</TD></TR><TR><TD CLASS="l">896</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">897</TD><TD>                if (tagName != null) {</TD></TR><TR CLASS="z"><TD CLASS="l">898</TD><TD>                        text= new String(source, tagStart, tagName.length());</TD></TR><TR CLASS="z"><TD CLASS="l">899</TD><TD>                        assumeEquals(prefix+&#34;Misplaced tag name at &lt;&#34;+tagStart+&#34;&gt;: &#34;, tagName, text);</TD></TR><TR CLASS="z"><TD CLASS="l">900</TD><TD>                        tagStart += tagName.length();</TD></TR><TR><TD CLASS="l">901</TD><TD>                }</TD></TR><TR><TD CLASS="l">902</TD><TD>                // Verify each fragment</TD></TR><TR CLASS="z"><TD CLASS="l">903</TD><TD>                ASTNode previousFragment = null;</TD></TR><TR CLASS="z"><TD CLASS="l">904</TD><TD>                Iterator elements = tagElement.fragments().listIterator();</TD></TR><TR CLASS="z"><TD CLASS="l">905</TD><TD>                while (elements.hasNext()) {</TD></TR><TR CLASS="z"><TD CLASS="l">906</TD><TD>                        ASTNode fragment = (ASTNode) elements.next();</TD></TR><TR CLASS="z"><TD CLASS="l">907</TD><TD>                        if (fragment.getNodeType() == ASTNode.TEXT_ELEMENT) {</TD></TR><TR CLASS="z"><TD CLASS="l">908</TD><TD>                                if (previousFragment == null &amp;&amp; TagElement.TAG_PARAM.equals(tagName) &amp;&amp; ((TextElement)fragment).getText().equals(&#34;&lt;&#34;)) { // special case here for @param &lt;E&gt; syntax</TD></TR><TR CLASS="z"><TD CLASS="l">909</TD><TD>                                        int start = tagStart;</TD></TR><TR><TD CLASS="l">910</TD><TD>                                        // verify '&lt;'</TD></TR><TR CLASS="z"><TD CLASS="l">911</TD><TD>                                        while (source[start] == ' ' || Character.isWhitespace(source[start])) {</TD></TR><TR CLASS="z"><TD CLASS="l">912</TD><TD>                                                start++; // purge white characters</TD></TR><TR><TD CLASS="l">913</TD><TD>                                        }</TD></TR><TR CLASS="z"><TD CLASS="l">914</TD><TD>                                        text = new String(source, start, fragment.getLength());</TD></TR><TR CLASS="z"><TD CLASS="l">915</TD><TD>                                        assumeEquals(prefix+&#34;Misplaced text element at &lt;&#34;+fragment.getStartPosition()+&#34;&gt;: &#34;, text, ((TextElement) fragment).getText());</TD></TR><TR CLASS="z"><TD CLASS="l">916</TD><TD>                                        start += fragment.getLength();</TD></TR><TR><TD CLASS="l">917</TD><TD>                                        // verify simple name</TD></TR><TR CLASS="z"><TD CLASS="l">918</TD><TD>                                        assumeTrue(prefix+&#34;Unexpected fragment end for &#34;+tagElement, elements.hasNext());</TD></TR><TR CLASS="z"><TD CLASS="l">919</TD><TD>                                        fragment = (ASTNode) elements.next();</TD></TR><TR CLASS="z"><TD CLASS="l">920</TD><TD>                                        while (source[start] == ' ' || Character.isWhitespace(source[start])) {</TD></TR><TR CLASS="z"><TD CLASS="l">921</TD><TD>                                                start++; // purge white characters</TD></TR><TR><TD CLASS="l">922</TD><TD>                                        }</TD></TR><TR CLASS="z"><TD CLASS="l">923</TD><TD>                                        assumeEquals(prefix+&#34;Unexpected node type for tag element &#34;+tagElement, ASTNode.SIMPLE_NAME, fragment.getNodeType());</TD></TR><TR CLASS="z"><TD CLASS="l">924</TD><TD>                                        Name name = (Name) fragment;</TD></TR><TR CLASS="z"><TD CLASS="l">925</TD><TD>                                        verifyNamePositions(start, name, source);</TD></TR><TR CLASS="z"><TD CLASS="l">926</TD><TD>                                        start += fragment.getLength();</TD></TR><TR><TD CLASS="l">927</TD><TD>                                        // verify simple name</TD></TR><TR CLASS="z"><TD CLASS="l">928</TD><TD>                                        assumeTrue(prefix+&#34;Unexpected fragment end for &#34;+tagElement, elements.hasNext());</TD></TR><TR CLASS="z"><TD CLASS="l">929</TD><TD>                                        fragment = (ASTNode) elements.next();</TD></TR><TR CLASS="z"><TD CLASS="l">930</TD><TD>                                        while (source[start] == ' ' || Character.isWhitespace(source[start])) {</TD></TR><TR CLASS="z"><TD CLASS="l">931</TD><TD>                                                start++; // purge white characters</TD></TR><TR><TD CLASS="l">932</TD><TD>                                        }</TD></TR><TR CLASS="z"><TD CLASS="l">933</TD><TD>                                        text = new String(source, start, fragment.getLength());</TD></TR><TR CLASS="z"><TD CLASS="l">934</TD><TD>                                        assumeEquals(prefix+&#34;Misplaced text element at &lt;&#34;+fragment.getStartPosition()+&#34;&gt;: &#34;, text, ((TextElement) fragment).getText());</TD></TR><TR CLASS="z"><TD CLASS="l">935</TD><TD>                                        start += fragment.getLength();</TD></TR><TR><TD CLASS="l">936</TD><TD>                                        // reset fragment as simple name to avoid issue with next text element</TD></TR><TR CLASS="z"><TD CLASS="l">937</TD><TD>                                        fragment = name;</TD></TR><TR CLASS="z"><TD CLASS="l">938</TD><TD>                                        tagStart += (start- tagStart) - name.getLength();</TD></TR><TR><TD CLASS="l">939</TD><TD>                                } else {</TD></TR><TR CLASS="z"><TD CLASS="l">940</TD><TD>                                        if (previousFragment == null) {</TD></TR><TR CLASS="z"><TD CLASS="l">941</TD><TD>                                                if (tagName != null &amp;&amp; (source[tagStart] == '\r' || source[tagStart] == '\n')) {</TD></TR><TR CLASS="z"><TD CLASS="l">942</TD><TD>                                                        while (source[tagStart] == '*' || Character.isWhitespace(source[tagStart])) {</TD></TR><TR CLASS="z"><TD CLASS="l">943</TD><TD>                                                                tagStart++; // purge non-stored characters</TD></TR><TR><TD CLASS="l">944</TD><TD>                                                        }</TD></TR><TR><TD CLASS="l">945</TD><TD>                                                }</TD></TR><TR><TD CLASS="l">946</TD><TD>                                        } else {</TD></TR><TR CLASS="z"><TD CLASS="l">947</TD><TD>                                                if (previousFragment.getNodeType() == ASTNode.TEXT_ELEMENT) {</TD></TR><TR CLASS="z"><TD CLASS="l">948</TD><TD>                                                        assumeTrue(prefix+&#34;Wrong length at &lt;&#34;+previousFragment.getStartPosition()+&#34;&gt; for text element &#34;+previousFragment, (source[tagStart] == '\r' /* &amp;&amp; source[tagStart+1] == '\n' */ || source[tagStart] == '\n'));</TD></TR><TR CLASS="z"><TD CLASS="l">949</TD><TD>                                                        while (source[tagStart] == '*' || Character.isWhitespace(source[tagStart])) {</TD></TR><TR CLASS="z"><TD CLASS="l">950</TD><TD>                                                                tagStart++; // purge non-stored characters</TD></TR><TR><TD CLASS="l">951</TD><TD>                                                        }</TD></TR><TR CLASS="z"><TD CLASS="l">952</TD><TD>                                                } else if (TagElement.TAG_PARAM.equals(tagName) &amp;&amp; previousFragment.getNodeType() == ASTNode.SIMPLE_NAME &amp;&amp; ((TextElement)fragment).getText().equals(&#34;&gt;&#34;)) {</TD></TR><TR CLASS="z"><TD CLASS="l">953</TD><TD>                                                        while (source[tagStart] == ' ' || Character.isWhitespace(source[tagStart])) {</TD></TR><TR CLASS="z"><TD CLASS="l">954</TD><TD>                                                                tagStart++; // purge white characters</TD></TR><TR><TD CLASS="l">955</TD><TD>                                                        }</TD></TR><TR><TD CLASS="l">956</TD><TD>                                                } else {</TD></TR><TR CLASS="z"><TD CLASS="l">957</TD><TD>                                                        int start = tagStart;</TD></TR><TR CLASS="z"><TD CLASS="l">958</TD><TD>                                                        boolean newLine = false;</TD></TR><TR CLASS="z"><TD CLASS="l">959</TD><TD>                                                        while (source[start] == '*' || Character.isWhitespace(source[start])) {</TD></TR><TR CLASS="z"><TD CLASS="l">960</TD><TD>                                                                start++; // purge non-stored characters</TD></TR><TR CLASS="z"><TD CLASS="l">961</TD><TD>                                                                if (source[tagStart] == '\r' || source[tagStart] == '\n') {</TD></TR><TR CLASS="z"><TD CLASS="l">962</TD><TD>                                                                        newLine = true;</TD></TR><TR><TD CLASS="l">963</TD><TD>                                                                }</TD></TR><TR><TD CLASS="l">964</TD><TD>                                                        }</TD></TR><TR CLASS="z"><TD CLASS="l">965</TD><TD>                                                        if (newLine) tagStart = start;</TD></TR><TR><TD CLASS="l">966</TD><TD>                                                }</TD></TR><TR><TD CLASS="l">967</TD><TD>                                        }</TD></TR><TR CLASS="z"><TD CLASS="l">968</TD><TD>                                        text = new String(source, tagStart, fragment.getLength());</TD></TR><TR CLASS="z"><TD CLASS="l">969</TD><TD>                                        assumeEquals(prefix+&#34;Misplaced text element at &lt;&#34;+fragment.getStartPosition()+&#34;&gt;: &#34;, text, ((TextElement) fragment).getText());</TD></TR><TR><TD CLASS="l">970</TD><TD>                                }</TD></TR><TR><TD CLASS="l">971</TD><TD>                        } else {</TD></TR><TR CLASS="z"><TD CLASS="l">972</TD><TD>                                while (source[tagStart] == '*' || Character.isWhitespace(source[tagStart])) {</TD></TR><TR CLASS="z"><TD CLASS="l">973</TD><TD>                                        tagStart++; // purge non-stored characters</TD></TR><TR><TD CLASS="l">974</TD><TD>                                }</TD></TR><TR CLASS="z"><TD CLASS="l">975</TD><TD>                                if (fragment.getNodeType() == ASTNode.SIMPLE_NAME || fragment.getNodeType() == ASTNode.QUALIFIED_NAME) {</TD></TR><TR CLASS="z"><TD CLASS="l">976</TD><TD>                                        verifyNamePositions(tagStart, (Name) fragment, source);</TD></TR><TR CLASS="z"><TD CLASS="l">977</TD><TD>                                } else if (fragment.getNodeType() == ASTNode.TAG_ELEMENT) {</TD></TR><TR CLASS="z"><TD CLASS="l">978</TD><TD>                                        TagElement inlineTag = (TagElement) fragment;</TD></TR><TR CLASS="z"><TD CLASS="l">979</TD><TD>                                        assumeEquals(prefix+&#34;Tag element &lt;&#34;+inlineTag+&#34;&gt; has wrong start position&#34;, tagStart, inlineTag.getStartPosition());</TD></TR><TR CLASS="z"><TD CLASS="l">980</TD><TD>                                        verifyPositions(inlineTag, source);</TD></TR><TR CLASS="z"><TD CLASS="l">981</TD><TD>                                } else if (fragment.getNodeType() == ASTNode.MEMBER_REF) {</TD></TR><TR CLASS="z"><TD CLASS="l">982</TD><TD>                                        MemberRef memberRef = (MemberRef) fragment;</TD></TR><TR><TD CLASS="l">983</TD><TD>                                        // Store start position</TD></TR><TR CLASS="z"><TD CLASS="l">984</TD><TD>                                        int start = tagStart;</TD></TR><TR><TD CLASS="l">985</TD><TD>                                        // Verify qualifier position</TD></TR><TR CLASS="z"><TD CLASS="l">986</TD><TD>                                        Name qualifier = memberRef.getQualifier();</TD></TR><TR CLASS="z"><TD CLASS="l">987</TD><TD>                                        if (qualifier != null) {</TD></TR><TR CLASS="z"><TD CLASS="l">988</TD><TD>                                                verifyNamePositions(start, qualifier, source);</TD></TR><TR CLASS="z"><TD CLASS="l">989</TD><TD>                                                start += qualifier.getLength();</TD></TR><TR CLASS="z"><TD CLASS="l">990</TD><TD>                                                while (source[start] == '*' || Character.isWhitespace(source[start])) {</TD></TR><TR CLASS="z"><TD CLASS="l">991</TD><TD>                                                        start++; // purge non-stored characters</TD></TR><TR><TD CLASS="l">992</TD><TD>                                                }</TD></TR><TR><TD CLASS="l">993</TD><TD>                                        }</TD></TR><TR><TD CLASS="l">994</TD><TD>                                        // Verify member separator position</TD></TR><TR CLASS="z"><TD CLASS="l">995</TD><TD>                                        assumeEquals(prefix+&#34;Misplaced # separator at &lt;&#34;+start+&#34;&gt; for member ref &#34;+memberRef, '#', source[start]);</TD></TR><TR CLASS="z"><TD CLASS="l">996</TD><TD>                                        start++;</TD></TR><TR CLASS="z"><TD CLASS="l">997</TD><TD>                                        while (source[start] == '*' || Character.isWhitespace(source[start])) {</TD></TR><TR CLASS="z"><TD CLASS="l">998</TD><TD>                                                start++; // purge non-stored characters</TD></TR><TR><TD CLASS="l">999</TD><TD>                                        }</TD></TR><TR><TD CLASS="l">1000</TD><TD>                                        // Verify member name position</TD></TR><TR CLASS="z"><TD CLASS="l">1001</TD><TD>                                        Name name = memberRef.getName();</TD></TR><TR CLASS="z"><TD CLASS="l">1002</TD><TD>                                        text = new String(source, start, name.getLength());</TD></TR><TR CLASS="z"><TD CLASS="l">1003</TD><TD>                                        assumeEquals(prefix+&#34;Misplaced member ref at &lt;&#34;+start+&#34;&gt;: &#34;, text, name.toString());</TD></TR><TR CLASS="z"><TD CLASS="l">1004</TD><TD>                                        verifyNamePositions(start, name, source);</TD></TR><TR CLASS="z"><TD CLASS="l">1005</TD><TD>                                } else if (fragment.getNodeType() == ASTNode.FUNCTION_REF) {</TD></TR><TR CLASS="z"><TD CLASS="l">1006</TD><TD>                                        FunctionRef methodRef = (FunctionRef) fragment;</TD></TR><TR><TD CLASS="l">1007</TD><TD>                                        // Store start position</TD></TR><TR CLASS="z"><TD CLASS="l">1008</TD><TD>                                        int start = tagStart;</TD></TR><TR><TD CLASS="l">1009</TD><TD>                                        // Verify qualifier position</TD></TR><TR CLASS="z"><TD CLASS="l">1010</TD><TD>                                        Name qualifier = methodRef.getQualifier();</TD></TR><TR CLASS="z"><TD CLASS="l">1011</TD><TD>                                        if (qualifier != null) {</TD></TR><TR CLASS="z"><TD CLASS="l">1012</TD><TD>                                                verifyNamePositions(start, qualifier, source);</TD></TR><TR CLASS="z"><TD CLASS="l">1013</TD><TD>                                                start += qualifier.getLength();</TD></TR><TR CLASS="z"><TD CLASS="l">1014</TD><TD>                                                while (source[start] == '*' || Character.isWhitespace(source[start])) {</TD></TR><TR CLASS="z"><TD CLASS="l">1015</TD><TD>                                                        start++; // purge non-stored characters</TD></TR><TR><TD CLASS="l">1016</TD><TD>                                                }</TD></TR><TR><TD CLASS="l">1017</TD><TD>                                        }</TD></TR><TR><TD CLASS="l">1018</TD><TD>                                        // Verify member separator position</TD></TR><TR CLASS="z"><TD CLASS="l">1019</TD><TD>                                        assumeEquals(prefix+&#34;Misplaced # separator at &lt;&#34;+start+&#34;&gt; for method ref: &#34;+methodRef, '#', source[start]);</TD></TR><TR CLASS="z"><TD CLASS="l">1020</TD><TD>                                        start++;</TD></TR><TR CLASS="z"><TD CLASS="l">1021</TD><TD>                                        while (source[start] == '*' || Character.isWhitespace(source[start])) {</TD></TR><TR CLASS="z"><TD CLASS="l">1022</TD><TD>                                                start++; // purge non-stored characters</TD></TR><TR><TD CLASS="l">1023</TD><TD>                                        }</TD></TR><TR><TD CLASS="l">1024</TD><TD>                                        // Verify member name position</TD></TR><TR CLASS="z"><TD CLASS="l">1025</TD><TD>                                        Name name = methodRef.getName();</TD></TR><TR CLASS="z"><TD CLASS="l">1026</TD><TD>                                        int nameLength = name.getLength();</TD></TR><TR CLASS="z"><TD CLASS="l">1027</TD><TD>                                        text = new String(source, start, nameLength);</TD></TR><TR CLASS="z"><TD CLASS="l">1028</TD><TD>                                        if (!text.equals(name.toString())) { // may have qualified constructor reference for inner classes</TD></TR><TR CLASS="z"><TD CLASS="l">1029</TD><TD>                                                if (methodRef.getQualifier().isQualifiedName()) {</TD></TR><TR CLASS="z"><TD CLASS="l">1030</TD><TD>                                                        text = new String(source, start, methodRef.getQualifier().getLength());</TD></TR><TR CLASS="z"><TD CLASS="l">1031</TD><TD>                                                        assumeEquals(prefix+&#34;Misplaced method ref name at &lt;&#34;+start+&#34;&gt;: &#34;, text, methodRef.getQualifier().toString());</TD></TR><TR CLASS="z"><TD CLASS="l">1032</TD><TD>                                                        while (source[start] != '.' || Character.isWhitespace(source[start])) {</TD></TR><TR CLASS="z"><TD CLASS="l">1033</TD><TD>                                                                start++; // purge non-stored characters</TD></TR><TR><TD CLASS="l">1034</TD><TD>                                                        }</TD></TR><TR CLASS="z"><TD CLASS="l">1035</TD><TD>                                                        start++;</TD></TR><TR><TD CLASS="l">1036</TD><TD>                                                } else {</TD></TR><TR CLASS="z"><TD CLASS="l">1037</TD><TD>                                                        while (source[start] != '.' || Character.isWhitespace(source[start])) {</TD></TR><TR CLASS="z"><TD CLASS="l">1038</TD><TD>                                                                start++; // purge non-stored characters</TD></TR><TR><TD CLASS="l">1039</TD><TD>                                                        }</TD></TR><TR CLASS="z"><TD CLASS="l">1040</TD><TD>                                                        start++;</TD></TR><TR CLASS="z"><TD CLASS="l">1041</TD><TD>                                                        text = new String(source, start, nameLength);</TD></TR><TR CLASS="z"><TD CLASS="l">1042</TD><TD>                                                        assumeEquals(prefix+&#34;Misplaced method ref name at &lt;&#34;+start+&#34;&gt;: &#34;, text, name.toString());</TD></TR><TR><TD CLASS="l">1043</TD><TD>                                                }</TD></TR><TR><TD CLASS="l">1044</TD><TD>                                        }</TD></TR><TR CLASS="z"><TD CLASS="l">1045</TD><TD>                                        verifyNamePositions(start, name, source);</TD></TR><TR CLASS="z"><TD CLASS="l">1046</TD><TD>                                        start += nameLength;</TD></TR><TR><TD CLASS="l">1047</TD><TD>                                        // Verify arguments starting open parenthesis</TD></TR><TR CLASS="z"><TD CLASS="l">1048</TD><TD>                                        while (source[start] == '*' || Character.isWhitespace(source[start])) {</TD></TR><TR CLASS="z"><TD CLASS="l">1049</TD><TD>                                                start++; // purge non-stored characters</TD></TR><TR><TD CLASS="l">1050</TD><TD>                                        }</TD></TR><TR><TD CLASS="l">1051</TD><TD>//                                        assumeEquals(prefix+&#34;Misplaced ( at &lt;&#34;+start+&#34;&gt; for method ref: &#34;+methodRef, '(', source[start]);</TD></TR><TR CLASS="z"><TD CLASS="l">1052</TD><TD>                                        if (source[start] == '(') { // now method reference may have no parenthesis...</TD></TR><TR CLASS="z"><TD CLASS="l">1053</TD><TD>                                                start++;</TD></TR><TR><TD CLASS="l">1054</TD><TD>                                                // Verify parameters</TD></TR><TR CLASS="z"><TD CLASS="l">1055</TD><TD>                                                Iterator parameters = methodRef.parameters().listIterator();</TD></TR><TR CLASS="z"><TD CLASS="l">1056</TD><TD>                                                while (parameters.hasNext()) {</TD></TR><TR CLASS="z"><TD CLASS="l">1057</TD><TD>                                                        FunctionRefParameter param = (FunctionRefParameter) parameters.next();</TD></TR><TR CLASS="z"><TD CLASS="l">1058</TD><TD>                                                        boolean lastParam = !parameters.hasNext();</TD></TR><TR><TD CLASS="l">1059</TD><TD>                                                        // Verify parameter type positions</TD></TR><TR CLASS="z"><TD CLASS="l">1060</TD><TD>                                                        while (source[start] == '*' || Character.isWhitespace(source[start])) {</TD></TR><TR CLASS="z"><TD CLASS="l">1061</TD><TD>                                                                 start++; // purge non-stored characters</TD></TR><TR><TD CLASS="l">1062</TD><TD>                                                        }</TD></TR><TR CLASS="z"><TD CLASS="l">1063</TD><TD>                                                        Type type = param.getType();</TD></TR><TR CLASS="z"><TD CLASS="l">1064</TD><TD>                                                        if (type.isSimpleType()) {</TD></TR><TR CLASS="z"><TD CLASS="l">1065</TD><TD>                                                                verifyNamePositions(start, ((SimpleType)type).getName(), source);</TD></TR><TR CLASS="z"><TD CLASS="l">1066</TD><TD>                                                        } else if (type.isPrimitiveType()) {</TD></TR><TR CLASS="z"><TD CLASS="l">1067</TD><TD>                                                                text = new String(source, start, type.getLength());</TD></TR><TR CLASS="z"><TD CLASS="l">1068</TD><TD>                                                                assumeEquals(prefix+&#34;Misplaced method ref parameter type at &lt;&#34;+start+&#34;&gt; for method ref: &#34;+methodRef, text, type.toString());</TD></TR><TR CLASS="z"><TD CLASS="l">1069</TD><TD>                                                        } else if (type.isArrayType()) {</TD></TR><TR CLASS="z"><TD CLASS="l">1070</TD><TD>                                                                Type elementType = ((ArrayType) param.getType()).getElementType();</TD></TR><TR CLASS="z"><TD CLASS="l">1071</TD><TD>                                                                if (elementType.isSimpleType()) {</TD></TR><TR CLASS="z"><TD CLASS="l">1072</TD><TD>                                                                        verifyNamePositions(start, ((SimpleType)elementType).getName(), source);</TD></TR><TR CLASS="z"><TD CLASS="l">1073</TD><TD>                                                                } else if (elementType.isPrimitiveType()) {</TD></TR><TR CLASS="z"><TD CLASS="l">1074</TD><TD>                                                                        text = new String(source, start, elementType.getLength());</TD></TR><TR CLASS="z"><TD CLASS="l">1075</TD><TD>                                                                        assumeEquals(prefix+&#34;Misplaced method ref parameter type at &lt;&#34;+start+&#34;&gt; for method ref: &#34;+methodRef, text, elementType.toString());</TD></TR><TR><TD CLASS="l">1076</TD><TD>                                                                }</TD></TR><TR><TD CLASS="l">1077</TD><TD>                                                        }</TD></TR><TR CLASS="z"><TD CLASS="l">1078</TD><TD>                                                        start += type.getLength();</TD></TR><TR><TD CLASS="l">1079</TD><TD>                                                        // if last param then perhaps a varargs</TD></TR><TR CLASS="z"><TD CLASS="l">1080</TD><TD>                                                        while (Character.isWhitespace(source[start])) { // do NOT accept '*' in parameter declaration</TD></TR><TR CLASS="z"><TD CLASS="l">1081</TD><TD>                                                                 start++; // purge non-stored characters</TD></TR><TR><TD CLASS="l">1082</TD><TD>                                                        }</TD></TR><TR CLASS="z"><TD CLASS="l">1083</TD><TD>                                                        if (lastParam &amp;&amp; this.astLevel != AST.JLS2 &amp;&amp; param.isVarargs()) {</TD></TR><TR CLASS="z"><TD CLASS="l">1084</TD><TD>                                                                for (int p=0;p&lt;3;p++) {</TD></TR><TR CLASS="z"><TD CLASS="l">1085</TD><TD>                                                                        assumeTrue(prefix+&#34;Missing ellipsis for vararg method ref parameter at &lt;&#34;+start+&#34;&gt; for method ref: &#34;+methodRef, source[start++]=='.');</TD></TR><TR><TD CLASS="l">1086</TD><TD>                                                                }</TD></TR><TR><TD CLASS="l">1087</TD><TD>                                                        }</TD></TR><TR><TD CLASS="l">1088</TD><TD>                                                        // Verify parameter name positions</TD></TR><TR CLASS="z"><TD CLASS="l">1089</TD><TD>                                                        while (Character.isWhitespace(source[start])) { // do NOT accept '*' in parameter declaration</TD></TR><TR CLASS="z"><TD CLASS="l">1090</TD><TD>                                                                 start++; // purge non-stored characters</TD></TR><TR><TD CLASS="l">1091</TD><TD>                                                        }</TD></TR><TR CLASS="z"><TD CLASS="l">1092</TD><TD>                                                        name = param.getName();</TD></TR><TR CLASS="z"><TD CLASS="l">1093</TD><TD>                                                        if (name != null) {</TD></TR><TR CLASS="z"><TD CLASS="l">1094</TD><TD>                                                                text = new String(source, start, name.getLength());</TD></TR><TR CLASS="z"><TD CLASS="l">1095</TD><TD>                                                                assumeEquals(prefix+&#34;Misplaced method ref parameter name at &lt;&#34;+start+&#34;&gt; for method ref: &#34;+methodRef, text, name.toString());</TD></TR><TR CLASS="z"><TD CLASS="l">1096</TD><TD>                                                                start += name.getLength();</TD></TR><TR><TD CLASS="l">1097</TD><TD>                                                        }</TD></TR><TR><TD CLASS="l">1098</TD><TD>                                                        // Verify end parameter declaration</TD></TR><TR CLASS="z"><TD CLASS="l">1099</TD><TD>                                                        while (source[start] == '*' || Character.isWhitespace(source[start])) {</TD></TR><TR CLASS="z"><TD CLASS="l">1100</TD><TD>                                                                start++;</TD></TR><TR><TD CLASS="l">1101</TD><TD>                                                        }</TD></TR><TR CLASS="z"><TD CLASS="l">1102</TD><TD>                                                        assumeTrue(prefix+&#34;Misplaced parameter end at &lt;&#34;+start+&#34;&gt; for method ref: &#34;+methodRef, source[start] == ',' || source[start] == ')');</TD></TR><TR CLASS="z"><TD CLASS="l">1103</TD><TD>                                                        start++;</TD></TR><TR CLASS="z"><TD CLASS="l">1104</TD><TD>                                                        if (source[start] == ')') {</TD></TR><TR CLASS="z"><TD CLASS="l">1105</TD><TD>                                                                break;</TD></TR><TR><TD CLASS="l">1106</TD><TD>                                                        }</TD></TR><TR><TD CLASS="l">1107</TD><TD>                                                }</TD></TR><TR><TD CLASS="l">1108</TD><TD>                                        }</TD></TR><TR><TD CLASS="l">1109</TD><TD>                                }</TD></TR><TR><TD CLASS="l">1110</TD><TD>                        }</TD></TR><TR CLASS="z"><TD CLASS="l">1111</TD><TD>                        tagStart += fragment.getLength();</TD></TR><TR CLASS="z"><TD CLASS="l">1112</TD><TD>                        previousFragment = fragment;</TD></TR><TR><TD CLASS="l">1113</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">1114</TD><TD>                if (tagElement.isNested()) {</TD></TR><TR CLASS="z"><TD CLASS="l">1115</TD><TD>                        assumeEquals(prefix+&#34;Wrong end character at &lt;&#34;+tagStart+&#34;&gt; for &#34;+tagElement, '}', source[tagStart++]);</TD></TR><TR><TD CLASS="l">1116</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">1117</TD><TD>        }</TD></TR><TR><TD CLASS="l">1118</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="86">1119</A></TD><TD>        /*</TD></TR><TR><TD CLASS="l">1120</TD><TD>         * Verify each name component positions.</TD></TR><TR><TD CLASS="l">1121</TD><TD>         */</TD></TR><TR><TD CLASS="l">1122</TD><TD>        private void verifyNamePositions(int nameStart, Name name, char[] source) {</TD></TR><TR CLASS="z"><TD CLASS="l">1123</TD><TD>                if (name.isQualifiedName()) {</TD></TR><TR CLASS="z"><TD CLASS="l">1124</TD><TD>                        QualifiedName qualified = (QualifiedName) name;</TD></TR><TR CLASS="z"><TD CLASS="l">1125</TD><TD>                        int start = qualified.getName().getStartPosition();</TD></TR><TR CLASS="z"><TD CLASS="l">1126</TD><TD>                        String str = new String(source, start, qualified.getName().getLength());</TD></TR><TR CLASS="z"><TD CLASS="l">1127</TD><TD>                        assumeEquals(prefix+&#34;Misplaced or wrong name for qualified name: &#34;+name, str, qualified.getName().toString());</TD></TR><TR CLASS="z"><TD CLASS="l">1128</TD><TD>                        verifyNamePositions(nameStart, ((QualifiedName) name).getQualifier(), source);</TD></TR><TR><TD CLASS="l">1129</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">1130</TD><TD>                String str = new String(source, nameStart, name.getLength());</TD></TR><TR CLASS="z"><TD CLASS="l">1131</TD><TD>                if (str.indexOf('\n') &lt; 0) { // cannot compare if text contains new line</TD></TR><TR CLASS="z"><TD CLASS="l">1132</TD><TD>                        assumeEquals(prefix+&#34;Misplaced name for qualified name: &#34;, str, name.toString());</TD></TR><TR CLASS="z"><TD CLASS="l">1133</TD><TD>                } else if (debug) {</TD></TR><TR CLASS="z"><TD CLASS="l">1134</TD><TD>                        System.out.println(prefix+&#34;Name contains new line for qualified name: &#34;+name);</TD></TR><TR><TD CLASS="l">1135</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">1136</TD><TD>        }</TD></TR><TR><TD CLASS="l">1137</TD><TD> </TD></TR><TR><TD CLASS="l">1138</TD><TD>        /*</TD></TR><TR><TD CLASS="l"><A NAME="7e">1139</A></TD><TD>         * Verify that bindings of Javadoc comment structure are resolved or not.</TD></TR><TR><TD CLASS="l">1140</TD><TD>         * For expected unresolved binding, verify that following text starts with 'Unknown'</TD></TR><TR><TD CLASS="l">1141</TD><TD>         */</TD></TR><TR><TD CLASS="l">1142</TD><TD>        private void verifyBindings(JSdoc docComment) {</TD></TR><TR CLASS="z"><TD CLASS="l">1143</TD><TD>                boolean stop = stopOnFailure;</TD></TR><TR><TD CLASS="l">1144</TD><TD>//                stopOnFailure = false;</TD></TR><TR><TD CLASS="l">1145</TD><TD>                // Verify tags</TD></TR><TR CLASS="z"><TD CLASS="l">1146</TD><TD>                Iterator tags = docComment.tags().listIterator();</TD></TR><TR CLASS="z"><TD CLASS="l">1147</TD><TD>                while (tags.hasNext()) {</TD></TR><TR CLASS="z"><TD CLASS="l">1148</TD><TD>                        verifyBindings((TagElement) tags.next());</TD></TR><TR><TD CLASS="l">1149</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">1150</TD><TD>                stopOnFailure = stop;</TD></TR><TR CLASS="z"><TD CLASS="l">1151</TD><TD>                assertTrue(!stop || failures.size()==0);</TD></TR><TR CLASS="z"><TD CLASS="l">1152</TD><TD>        }</TD></TR><TR><TD CLASS="l">1153</TD><TD> </TD></TR><TR><TD CLASS="l">1154</TD><TD>        /*</TD></TR><TR><TD CLASS="l">1155</TD><TD>         * Verify that bindings of Javadoc tag structure are resolved or not.</TD></TR><TR><TD CLASS="l"><A NAME="7f">1156</A></TD><TD>         * For expected unresolved binding, verify that following text starts with 'Unknown'</TD></TR><TR><TD CLASS="l">1157</TD><TD>         */</TD></TR><TR><TD CLASS="l">1158</TD><TD>        private void verifyBindings(TagElement tagElement) {</TD></TR><TR><TD CLASS="l">1159</TD><TD>                // Verify each fragment</TD></TR><TR CLASS="z"><TD CLASS="l">1160</TD><TD>                Iterator elements = tagElement.fragments().listIterator();</TD></TR><TR CLASS="z"><TD CLASS="l">1161</TD><TD>                IBinding previousBinding = null;</TD></TR><TR CLASS="z"><TD CLASS="l">1162</TD><TD>                ASTNode previousFragment = null;</TD></TR><TR CLASS="z"><TD CLASS="l">1163</TD><TD>                boolean resolvedBinding = false;</TD></TR><TR CLASS="z"><TD CLASS="l">1164</TD><TD>                while (elements.hasNext()) {</TD></TR><TR CLASS="z"><TD CLASS="l">1165</TD><TD>                        ASTNode fragment = (ASTNode) elements.next();</TD></TR><TR CLASS="z"><TD CLASS="l">1166</TD><TD>                        if (fragment.getNodeType() == ASTNode.TEXT_ELEMENT) {</TD></TR><TR CLASS="z"><TD CLASS="l">1167</TD><TD>                                TextElement text = (TextElement) fragment;</TD></TR><TR CLASS="z"><TD CLASS="l">1168</TD><TD>                                if (resolvedBinding) {</TD></TR><TR CLASS="z"><TD CLASS="l">1169</TD><TD>                                        if (previousBinding == null) {</TD></TR><TR CLASS="z"><TD CLASS="l">1170</TD><TD>                                                assumeTrue(prefix+&#34;Reference '&#34;+previousFragment+&#34;' should be bound!&#34;, text.getText().trim().indexOf(&#34;Unknown&#34;)&gt;=0);</TD></TR><TR><TD CLASS="l">1171</TD><TD>                                        } else {</TD></TR><TR CLASS="z"><TD CLASS="l">1172</TD><TD>                                                assumeTrue(prefix+&#34;Unknown reference '&#34;+previousFragment+&#34;' should NOT be bound!&#34;, text.getText().trim().indexOf(&#34;Unknown&#34;)&lt;0);</TD></TR><TR><TD CLASS="l">1173</TD><TD>                                        }</TD></TR><TR><TD CLASS="l">1174</TD><TD>                                }</TD></TR><TR CLASS="z"><TD CLASS="l">1175</TD><TD>                                previousBinding = null;</TD></TR><TR CLASS="z"><TD CLASS="l">1176</TD><TD>                                resolvedBinding = false;</TD></TR><TR CLASS="z"><TD CLASS="l">1177</TD><TD>                        } else if (fragment.getNodeType() == ASTNode.TAG_ELEMENT) {</TD></TR><TR CLASS="z"><TD CLASS="l">1178</TD><TD>                                verifyBindings((TagElement) fragment);</TD></TR><TR CLASS="z"><TD CLASS="l">1179</TD><TD>                                previousBinding = null;</TD></TR><TR CLASS="z"><TD CLASS="l">1180</TD><TD>                                resolvedBinding = false;</TD></TR><TR><TD CLASS="l">1181</TD><TD>                        } else {</TD></TR><TR CLASS="z"><TD CLASS="l">1182</TD><TD>                                resolvedBinding = true;</TD></TR><TR CLASS="z"><TD CLASS="l">1183</TD><TD>                                if (fragment.getNodeType() == ASTNode.SIMPLE_NAME) {</TD></TR><TR CLASS="z"><TD CLASS="l">1184</TD><TD>                                        previousBinding = ((Name)fragment).resolveBinding();</TD></TR><TR CLASS="z"><TD CLASS="l">1185</TD><TD>                                } else if (fragment.getNodeType() == ASTNode.QUALIFIED_NAME) {</TD></TR><TR CLASS="z"><TD CLASS="l">1186</TD><TD>                                        QualifiedName name = (QualifiedName) fragment;</TD></TR><TR CLASS="z"><TD CLASS="l">1187</TD><TD>                                        previousBinding = name.resolveBinding();</TD></TR><TR CLASS="z"><TD CLASS="l">1188</TD><TD>                                        verifyNameBindings(name);</TD></TR><TR CLASS="z"><TD CLASS="l">1189</TD><TD>                                } else if (fragment.getNodeType() == ASTNode.MEMBER_REF) {</TD></TR><TR CLASS="z"><TD CLASS="l">1190</TD><TD>                                        MemberRef memberRef = (MemberRef) fragment;</TD></TR><TR CLASS="z"><TD CLASS="l">1191</TD><TD>                                        previousBinding = memberRef.resolveBinding();</TD></TR><TR CLASS="z"><TD CLASS="l">1192</TD><TD>                                        if (previousBinding != null) {</TD></TR><TR CLASS="z"><TD CLASS="l">1193</TD><TD>                                                SimpleName name = memberRef.getName();</TD></TR><TR CLASS="z"><TD CLASS="l">1194</TD><TD>                                                assumeNotNull(prefix+&#34;&#34;+name+&#34; binding was not foundfound in &#34;+fragment, name.resolveBinding());</TD></TR><TR CLASS="z"><TD CLASS="l">1195</TD><TD>                                                verifyNameBindings(memberRef.getQualifier());</TD></TR><TR><TD CLASS="l">1196</TD><TD>                                        }</TD></TR><TR CLASS="z"><TD CLASS="l">1197</TD><TD>                                } else if (fragment.getNodeType() == ASTNode.FUNCTION_REF) {</TD></TR><TR CLASS="z"><TD CLASS="l">1198</TD><TD>                                        FunctionRef methodRef = (FunctionRef) fragment;</TD></TR><TR CLASS="z"><TD CLASS="l">1199</TD><TD>                                        previousBinding = methodRef.resolveBinding();</TD></TR><TR CLASS="z"><TD CLASS="l">1200</TD><TD>                                        if (previousBinding != null) {</TD></TR><TR CLASS="z"><TD CLASS="l">1201</TD><TD>                                                SimpleName methodName = methodRef.getName();</TD></TR><TR CLASS="z"><TD CLASS="l">1202</TD><TD>                                                IBinding methNameBinding = methodName.resolveBinding();</TD></TR><TR CLASS="z"><TD CLASS="l">1203</TD><TD>                                                Name methodQualifier = methodRef.getQualifier();</TD></TR><TR><TD CLASS="l">1204</TD><TD>                                                // TODO (frederic) Replace the two following lines by commented block when bug https://bugs.eclipse.org/bugs/show_bug.cgi?id=62650 will be fixed</TD></TR><TR CLASS="z"><TD CLASS="l">1205</TD><TD>                                                assumeNotNull(prefix+&#34;&#34;+methodName+&#34; binding was not found in &#34;+fragment, methNameBinding);</TD></TR><TR CLASS="z"><TD CLASS="l">1206</TD><TD>                                                verifyNameBindings(methodQualifier);</TD></TR><TR><TD CLASS="l">1207</TD><TD>                                                /*</TD></TR><TR><TD CLASS="l">1208</TD><TD>                                                if (methodQualifier == null) {</TD></TR><TR><TD CLASS="l">1209</TD><TD>                                                        if (methNameBinding == null) {</TD></TR><TR><TD CLASS="l">1210</TD><TD>                                                                char firstChar = methodName.getIdentifier().charAt(0);</TD></TR><TR><TD CLASS="l">1211</TD><TD>                                                                if (Character.isUpperCase(firstChar)) {</TD></TR><TR><TD CLASS="l">1212</TD><TD>                                                                        // assume that selector starting with uppercase is for constructor =&gt; signal that binding is null</TD></TR><TR><TD CLASS="l">1213</TD><TD>                                                                        System.out.println(prefix+&#34;Binding for selector of  '&#34;+methodRef+&#34;' is null.&#34;);</TD></TR><TR><TD CLASS="l">1214</TD><TD>                                                                }</TD></TR><TR><TD CLASS="l">1215</TD><TD>                                                        } else {</TD></TR><TR><TD CLASS="l">1216</TD><TD>                                                                if (methNameBinding.getName().equals(methodName.getIdentifier())) { // binding is not null only for constructor</TD></TR><TR><TD CLASS="l">1217</TD><TD>                                                                        assumeNotNull(prefix+&#34;&#34;+methodName+&#34; binding was not found!&#34;,methNameBinding);</TD></TR><TR><TD CLASS="l">1218</TD><TD>                                                                } else {</TD></TR><TR><TD CLASS="l">1219</TD><TD>                                                                        assumeNull(prefix+&#34;&#34;+methodName+&#34; binding should be null!&#34;, methNameBinding);</TD></TR><TR><TD CLASS="l">1220</TD><TD>                                                                }</TD></TR><TR><TD CLASS="l">1221</TD><TD>                                                        }</TD></TR><TR><TD CLASS="l">1222</TD><TD>                                                } else {</TD></TR><TR><TD CLASS="l">1223</TD><TD>                                                        SimpleName methodSimpleType = null;</TD></TR><TR><TD CLASS="l">1224</TD><TD>                                                        if (methodQualifier.isQualifiedName()) {</TD></TR><TR><TD CLASS="l">1225</TD><TD>                                                                methodSimpleType = ((QualifiedName)methodQualifier).getName();</TD></TR><TR><TD CLASS="l">1226</TD><TD>                                                        } else {</TD></TR><TR><TD CLASS="l">1227</TD><TD>                                                                methodSimpleType = (SimpleName) methodQualifier;</TD></TR><TR><TD CLASS="l">1228</TD><TD>                                                        }</TD></TR><TR><TD CLASS="l">1229</TD><TD>                                                        if (methodSimpleType.getIdentifier().equals(methodName.getIdentifier())) { // binding is not null only for constructor</TD></TR><TR><TD CLASS="l">1230</TD><TD>                                                                assumeNotNull(prefix+&#34;&#34;+methodName+&#34; binding was not found!&#34;,methNameBinding);</TD></TR><TR><TD CLASS="l">1231</TD><TD>                                                        } else {</TD></TR><TR><TD CLASS="l">1232</TD><TD>                                                                assumeNull(prefix+&#34;&#34;+methodName+&#34; binding should be null!&#34;, methNameBinding);</TD></TR><TR><TD CLASS="l">1233</TD><TD>                                                        }</TD></TR><TR><TD CLASS="l">1234</TD><TD>                                                        verifyNameBindings(methodRef.getQualifier());</TD></TR><TR><TD CLASS="l">1235</TD><TD>                                                }</TD></TR><TR><TD CLASS="l">1236</TD><TD>                                                */</TD></TR><TR CLASS="z"><TD CLASS="l">1237</TD><TD>                                                Iterator parameters = methodRef.parameters().listIterator();</TD></TR><TR CLASS="z"><TD CLASS="l">1238</TD><TD>                                                while (parameters.hasNext()) {</TD></TR><TR CLASS="z"><TD CLASS="l">1239</TD><TD>                                                        FunctionRefParameter param = (FunctionRefParameter) parameters.next();</TD></TR><TR CLASS="z"><TD CLASS="l">1240</TD><TD>                                                        Type type = param.getType();</TD></TR><TR CLASS="z"><TD CLASS="l">1241</TD><TD>                                                        assumeNotNull(prefix+&#34;&#34;+type+&#34; binding was not found in &#34;+fragment, type.resolveBinding());</TD></TR><TR CLASS="z"><TD CLASS="l">1242</TD><TD>                                                        if (type.isSimpleType()) {</TD></TR><TR CLASS="z"><TD CLASS="l">1243</TD><TD>                                                                verifyNameBindings(((SimpleType)type).getName());</TD></TR><TR CLASS="z"><TD CLASS="l">1244</TD><TD>                                                        } else if (type.isArrayType()) {</TD></TR><TR CLASS="z"><TD CLASS="l">1245</TD><TD>                                                                Type elementType = ((ArrayType) param.getType()).getElementType();</TD></TR><TR CLASS="z"><TD CLASS="l">1246</TD><TD>                                                                assumeNotNull(prefix+&#34;&#34;+elementType+&#34; binding was not found in &#34;+fragment, elementType.resolveBinding());</TD></TR><TR CLASS="z"><TD CLASS="l">1247</TD><TD>                                                                if (elementType.isSimpleType()) {</TD></TR><TR CLASS="z"><TD CLASS="l">1248</TD><TD>                                                                        verifyNameBindings(((SimpleType)elementType).getName());</TD></TR><TR><TD CLASS="l">1249</TD><TD>                                                                }</TD></TR><TR><TD CLASS="l">1250</TD><TD>                                                        }</TD></TR><TR><TD CLASS="l">1251</TD><TD>                                                        //        Do not verify parameter name as no binding is expected for them</TD></TR><TR><TD CLASS="l">1252</TD><TD>                                                }</TD></TR><TR><TD CLASS="l">1253</TD><TD>                                        }</TD></TR><TR><TD CLASS="l">1254</TD><TD>                                }</TD></TR><TR><TD CLASS="l">1255</TD><TD>                        }</TD></TR><TR CLASS="z"><TD CLASS="l">1256</TD><TD>                        previousFragment = fragment;</TD></TR><TR><TD CLASS="l">1257</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">1258</TD><TD>                assumeTrue(prefix+&#34;Reference '&#34;+(previousFragment==null?tagElement:previousFragment)+&#34;' should be bound!&#34;, (!resolvedBinding || previousBinding != null));</TD></TR><TR CLASS="z"><TD CLASS="l">1259</TD><TD>        }</TD></TR><TR><TD CLASS="l">1260</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="85">1261</A></TD><TD>        /*</TD></TR><TR><TD CLASS="l">1262</TD><TD>         * Verify each name component binding.</TD></TR><TR><TD CLASS="l">1263</TD><TD>         */</TD></TR><TR><TD CLASS="l">1264</TD><TD>        private void verifyNameBindings(Name name) {</TD></TR><TR CLASS="z"><TD CLASS="l">1265</TD><TD>                if (name != null) {</TD></TR><TR CLASS="z"><TD CLASS="l">1266</TD><TD>                        IBinding binding = name.resolveBinding();</TD></TR><TR CLASS="z"><TD CLASS="l">1267</TD><TD>                        if (name.toString().indexOf(&#34;Unknown&#34;) &gt; 0) {</TD></TR><TR CLASS="z"><TD CLASS="l">1268</TD><TD>                                assumeNull(prefix+name+&#34; binding should be null!&#34;, binding);</TD></TR><TR><TD CLASS="l">1269</TD><TD>                        } else {</TD></TR><TR CLASS="z"><TD CLASS="l">1270</TD><TD>                                assumeNotNull(prefix+name+&#34; binding was not found!&#34;, binding);</TD></TR><TR><TD CLASS="l">1271</TD><TD>                        }</TD></TR><TR CLASS="z"><TD CLASS="l">1272</TD><TD>                        SimpleName simpleName = null;</TD></TR><TR CLASS="z"><TD CLASS="l">1273</TD><TD>                        int index = 0;</TD></TR><TR CLASS="z"><TD CLASS="l">1274</TD><TD>                        while (name.isQualifiedName()) {</TD></TR><TR CLASS="z"><TD CLASS="l">1275</TD><TD>                                simpleName = ((QualifiedName) name).getName();</TD></TR><TR CLASS="z"><TD CLASS="l">1276</TD><TD>                                binding = simpleName.resolveBinding();</TD></TR><TR CLASS="z"><TD CLASS="l">1277</TD><TD>                                if (simpleName.getIdentifier().equalsIgnoreCase(&#34;Unknown&#34;)) {</TD></TR><TR CLASS="z"><TD CLASS="l">1278</TD><TD>                                        assumeNull(prefix+simpleName+&#34; binding should be null!&#34;, binding);</TD></TR><TR><TD CLASS="l">1279</TD><TD>                                } else {</TD></TR><TR CLASS="z"><TD CLASS="l">1280</TD><TD>                                        assumeNotNull(prefix+simpleName+&#34; binding was not found!&#34;, binding);</TD></TR><TR><TD CLASS="l">1281</TD><TD>                                }</TD></TR><TR CLASS="z"><TD CLASS="l">1282</TD><TD>                                if (index &gt; 0 &amp;&amp; packageBinding) {</TD></TR><TR CLASS="z"><TD CLASS="l">1283</TD><TD>                                        assumeEquals(prefix+&#34;Wrong binding type!&#34;, IBinding.PACKAGE, binding.getKind());</TD></TR><TR><TD CLASS="l">1284</TD><TD>                                }</TD></TR><TR CLASS="z"><TD CLASS="l">1285</TD><TD>                                index++;</TD></TR><TR CLASS="z"><TD CLASS="l">1286</TD><TD>                                name = ((QualifiedName) name).getQualifier();</TD></TR><TR CLASS="z"><TD CLASS="l">1287</TD><TD>                                binding = name.resolveBinding();</TD></TR><TR CLASS="z"><TD CLASS="l">1288</TD><TD>                                if (name.toString().indexOf(&#34;Unknown&#34;) &gt; 0) {</TD></TR><TR CLASS="z"><TD CLASS="l">1289</TD><TD>                                        assumeNull(prefix+name+&#34; binding should be null!&#34;, binding);</TD></TR><TR><TD CLASS="l">1290</TD><TD>                                } else {</TD></TR><TR CLASS="z"><TD CLASS="l">1291</TD><TD>                                        assumeNotNull(prefix+name+&#34; binding was not found!&#34;, binding);</TD></TR><TR><TD CLASS="l">1292</TD><TD>                                }</TD></TR><TR CLASS="z"><TD CLASS="l">1293</TD><TD>                                if (packageBinding) {</TD></TR><TR CLASS="z"><TD CLASS="l">1294</TD><TD>                                        assumeEquals(prefix+&#34;Wrong binding type!&#34;, IBinding.PACKAGE, binding.getKind());</TD></TR><TR><TD CLASS="l">1295</TD><TD>                                }</TD></TR><TR><TD CLASS="l">1296</TD><TD>                        }</TD></TR><TR><TD CLASS="l">1297</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">1298</TD><TD>        }</TD></TR><TR><TD CLASS="l">1299</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="81">1300</A></TD><TD>        /* (non-Javadoc)</TD></TR><TR><TD CLASS="l">1301</TD><TD>         * @see junit.framework.TestCase#setUp()</TD></TR><TR><TD CLASS="l">1302</TD><TD>         */</TD></TR><TR><TD CLASS="l">1303</TD><TD>        protected void verifyComments(String test) throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1304</TD><TD>                IJavaScriptUnit[] units = getCompilationUnits(&#34;Converter&#34; , &#34;src&#34;, &#34;javadoc.&#34;+test); //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$</TD></TR><TR CLASS="z"><TD CLASS="l">1305</TD><TD>                for (int i=0; i&lt;units.length; i++) {</TD></TR><TR CLASS="z"><TD CLASS="l">1306</TD><TD>                        verifyComments(units[i]);</TD></TR><TR><TD CLASS="l">1307</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">1308</TD><TD>        }</TD></TR><TR><TD CLASS="l">1309</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="89">1310</A></TD><TD>        /*</TD></TR><TR><TD CLASS="l">1311</TD><TD>         * Verify the comments of a compilation unit.</TD></TR><TR><TD CLASS="l">1312</TD><TD>         */</TD></TR><TR><TD CLASS="l">1313</TD><TD>        protected void verifyWorkingCopiesComments() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1314</TD><TD>                assumeNotNull(&#34;No working copies to verify!&#34;, workingCopies);</TD></TR><TR CLASS="z"><TD CLASS="l">1315</TD><TD>                int length = workingCopies.length;</TD></TR><TR CLASS="z"><TD CLASS="l">1316</TD><TD>                assumeTrue(&#34;We need to have at least one working copy to verify!&#34;, length&gt;0);</TD></TR><TR CLASS="z"><TD CLASS="l">1317</TD><TD>                for (int i=0; i&lt;length; i++) {</TD></TR><TR CLASS="z"><TD CLASS="l">1318</TD><TD>                        verifyComments(workingCopies[i]);</TD></TR><TR><TD CLASS="l">1319</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">1320</TD><TD>        }</TD></TR><TR><TD CLASS="l">1321</TD><TD> </TD></TR><TR><TD CLASS="l">1322</TD><TD>        /*</TD></TR><TR><TD CLASS="l"><A NAME="80">1323</A></TD><TD>         * Verify the comments of a compilation unit.</TD></TR><TR><TD CLASS="l">1324</TD><TD>         */</TD></TR><TR><TD CLASS="l">1325</TD><TD>        protected JavaScriptUnit verifyComments(IJavaScriptUnit unit) throws JavaScriptModelException {</TD></TR><TR><TD CLASS="l">1326</TD><TD>                // Get test file</TD></TR><TR CLASS="z"><TD CLASS="l">1327</TD><TD>                sourceUnit = unit;</TD></TR><TR CLASS="z"><TD CLASS="l">1328</TD><TD>                prefix = unit.getElementName()+&#34;: &#34;;</TD></TR><TR><TD CLASS="l">1329</TD><TD> </TD></TR><TR><TD CLASS="l">1330</TD><TD>                // Get current project</TD></TR><TR CLASS="z"><TD CLASS="l">1331</TD><TD>                String sourceStr = sourceUnit.getSource();</TD></TR><TR CLASS="z"><TD CLASS="l">1332</TD><TD>                if (savedOptions != null &amp;&amp; !sourceUnit.getJavaScriptProject().getElementName().equals(currentProject.getElementName())) {</TD></TR><TR CLASS="z"><TD CLASS="l">1333</TD><TD>                        currentProject.setOptions(savedOptions);</TD></TR><TR CLASS="z"><TD CLASS="l">1334</TD><TD>                        savedOptions = null;</TD></TR><TR><TD CLASS="l">1335</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">1336</TD><TD>                currentProject = sourceUnit.getJavaScriptProject();</TD></TR><TR CLASS="z"><TD CLASS="l">1337</TD><TD>                if (savedOptions == null) savedOptions = currentProject.getOptions(false);</TD></TR><TR><TD CLASS="l">1338</TD><TD> </TD></TR><TR><TD CLASS="l">1339</TD><TD>                // set up java project options</TD></TR><TR CLASS="z"><TD CLASS="l">1340</TD><TD>                currentProject.setOption(JavaScriptCore.COMPILER_PB_INVALID_JAVADOC, compilerOption);</TD></TR><TR CLASS="z"><TD CLASS="l">1341</TD><TD>                currentProject.setOption(JavaScriptCore.COMPILER_PB_MISSING_JAVADOC_TAGS, compilerOption);</TD></TR><TR CLASS="z"><TD CLASS="l">1342</TD><TD>                currentProject.setOption(JavaScriptCore.COMPILER_PB_MISSING_JAVADOC_COMMENTS, compilerOption);</TD></TR><TR CLASS="z"><TD CLASS="l">1343</TD><TD>                currentProject.setOption(JavaScriptCore.COMPILER_PB_METHOD_WITH_CONSTRUCTOR_NAME, JavaScriptCore.IGNORE);</TD></TR><TR CLASS="z"><TD CLASS="l">1344</TD><TD>                currentProject.setOption(JavaScriptCore.COMPILER_DOC_COMMENT_SUPPORT, docCommentSupport);</TD></TR><TR><TD CLASS="l">1345</TD><TD> </TD></TR><TR><TD CLASS="l">1346</TD><TD>                // Verify source regardings converted comments</TD></TR><TR CLASS="z"><TD CLASS="l">1347</TD><TD>                char[] source = sourceStr.toCharArray();</TD></TR><TR CLASS="z"><TD CLASS="l">1348</TD><TD>                String fileName = unit.getPath().toString();</TD></TR><TR><TD CLASS="l">1349</TD><TD>                try {</TD></TR><TR CLASS="z"><TD CLASS="l">1350</TD><TD>                        return verifyComments(fileName, source);</TD></TR><TR><TD CLASS="l">1351</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">1352</TD><TD>                catch (RuntimeException ex) {</TD></TR><TR CLASS="z"><TD CLASS="l">1353</TD><TD>                        TEST_COUNTERS[3]++;</TD></TR><TR CLASS="z"><TD CLASS="l">1354</TD><TD>                        throw ex;</TD></TR><TR><TD CLASS="l"><A NAME="82">1355</A></TD><TD>                }</TD></TR><TR><TD CLASS="l">1356</TD><TD>        }</TD></TR><TR><TD CLASS="l">1357</TD><TD> </TD></TR><TR><TD CLASS="l">1358</TD><TD>        protected JavaScriptUnit verifyComments(String fileName, char[] source) {</TD></TR><TR CLASS="z"><TD CLASS="l">1359</TD><TD>                return verifyComments(fileName, source, null);</TD></TR><TR><TD CLASS="l">1360</TD><TD>        }</TD></TR><TR><TD CLASS="l"><A NAME="83">1361</A></TD><TD> </TD></TR><TR><TD CLASS="l">1362</TD><TD>        protected JavaScriptUnit verifyComments(String fileName, char[] source, Map options) {</TD></TR><TR><TD CLASS="l">1363</TD><TD> </TD></TR><TR><TD CLASS="l">1364</TD><TD>                // Verify comments either in unicode or not</TD></TR><TR CLASS="z"><TD CLASS="l">1365</TD><TD>                char[] testedSource = source;</TD></TR><TR CLASS="z"><TD CLASS="l">1366</TD><TD>                if (UNICODE) {</TD></TR><TR CLASS="z"><TD CLASS="l">1367</TD><TD>                        testedSource = getUnicodeSource(source);</TD></TR><TR><TD CLASS="l">1368</TD><TD>                }</TD></TR><TR><TD CLASS="l">1369</TD><TD> </TD></TR><TR><TD CLASS="l">1370</TD><TD>                // Verify comments either in unicode or not</TD></TR><TR CLASS="z"><TD CLASS="l">1371</TD><TD>                else if (unix) {</TD></TR><TR CLASS="z"><TD CLASS="l">1372</TD><TD>                        testedSource = getUnixSource(source);</TD></TR><TR><TD CLASS="l">1373</TD><TD>                }</TD></TR><TR><TD CLASS="l">1374</TD><TD>                </TD></TR><TR><TD CLASS="l">1375</TD><TD>                // Get comments infos from test file</TD></TR><TR CLASS="z"><TD CLASS="l">1376</TD><TD>                setSourceComment(testedSource);</TD></TR><TR><TD CLASS="l">1377</TD><TD> </TD></TR><TR><TD CLASS="l">1378</TD><TD>                // Create DOM AST nodes hierarchy                </TD></TR><TR CLASS="z"><TD CLASS="l">1379</TD><TD>                List unitComments = null;</TD></TR><TR CLASS="z"><TD CLASS="l">1380</TD><TD>                String sourceLevel = null;</TD></TR><TR CLASS="z"><TD CLASS="l">1381</TD><TD>                String complianceLevel = null;</TD></TR><TR CLASS="z"><TD CLASS="l">1382</TD><TD>                if (currentProject != null) {</TD></TR><TR CLASS="z"><TD CLASS="l">1383</TD><TD>                        if (astLevel == AST.JLS3) {</TD></TR><TR CLASS="z"><TD CLASS="l">1384</TD><TD>                                complianceLevel = currentProject.getOption(JavaScriptCore.COMPILER_COMPLIANCE, true);</TD></TR><TR CLASS="z"><TD CLASS="l">1385</TD><TD>                                sourceLevel = currentProject.getOption(JavaScriptCore.COMPILER_SOURCE, true);</TD></TR><TR CLASS="z"><TD CLASS="l">1386</TD><TD>                                currentProject.setOption(JavaScriptCore.COMPILER_COMPLIANCE, JavaScriptCore.VERSION_1_5);</TD></TR><TR CLASS="z"><TD CLASS="l">1387</TD><TD>                                currentProject.setOption(JavaScriptCore.COMPILER_SOURCE, JavaScriptCore.VERSION_1_5);</TD></TR><TR><TD CLASS="l">1388</TD><TD>                        }</TD></TR><TR><TD CLASS="l">1389</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">1390</TD><TD>                JavaScriptUnit compilUnit = (JavaScriptUnit) runConversion(testedSource, fileName, currentProject, options);</TD></TR><TR CLASS="z"><TD CLASS="l">1391</TD><TD>                if (compilerOption.equals(JavaScriptCore.ERROR)) {</TD></TR><TR CLASS="z"><TD CLASS="l">1392</TD><TD>                        assumeEquals(prefix+&#34;Unexpected problems&#34;, 0, compilUnit.getProblems().length); //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">1393</TD><TD>                } else if (compilerOption.equals(JavaScriptCore.WARNING)) {</TD></TR><TR CLASS="z"><TD CLASS="l">1394</TD><TD>                        IProblem[] problemsList = compilUnit.getProblems();</TD></TR><TR CLASS="z"><TD CLASS="l">1395</TD><TD>                        int length = problemsList.length;</TD></TR><TR CLASS="z"><TD CLASS="l">1396</TD><TD>                        if (length &gt; 0) {</TD></TR><TR CLASS="z"><TD CLASS="l">1397</TD><TD>                                problems.append(&#34;  - &#34;+prefix+length+&#34; problems:&#34;); //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">1398</TD><TD>                                for (int i = 0; i &lt; problemsList.length; i++) {</TD></TR><TR CLASS="z"><TD CLASS="l">1399</TD><TD>                                        problems.append(&#34;        + &#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">1400</TD><TD>                                        problems.append(problemsList[i]);</TD></TR><TR CLASS="z"><TD CLASS="l">1401</TD><TD>                                        problems.append(&#34;\n&#34;);</TD></TR><TR><TD CLASS="l">1402</TD><TD>                                }</TD></TR><TR><TD CLASS="l">1403</TD><TD>                        }</TD></TR><TR><TD CLASS="l">1404</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">1405</TD><TD>                unitComments = compilUnit.getCommentList();</TD></TR><TR CLASS="z"><TD CLASS="l">1406</TD><TD>                assumeNotNull(prefix+&#34;Unexpected problems&#34;, unitComments);</TD></TR><TR><TD CLASS="l">1407</TD><TD>                </TD></TR><TR><TD CLASS="l">1408</TD><TD>                // Basic comments verification</TD></TR><TR CLASS="z"><TD CLASS="l">1409</TD><TD>                int size = unitComments.size();</TD></TR><TR CLASS="z"><TD CLASS="l">1410</TD><TD>                assumeEquals(prefix+&#34;Wrong number of comments!&#34;, comments.size(), size);</TD></TR><TR><TD CLASS="l">1411</TD><TD> </TD></TR><TR><TD CLASS="l">1412</TD><TD>                // Verify comments positions and bindings</TD></TR><TR CLASS="z"><TD CLASS="l">1413</TD><TD>                for (int i=0; i&lt;size; i++) {</TD></TR><TR CLASS="z"><TD CLASS="l">1414</TD><TD>                        Comment comment = (Comment) unitComments.get(i);</TD></TR><TR CLASS="z"><TD CLASS="l">1415</TD><TD>                        List tags = (List) allTags.get(i);</TD></TR><TR><TD CLASS="l">1416</TD><TD>                        // Verify flattened content</TD></TR><TR CLASS="z"><TD CLASS="l">1417</TD><TD>                        String stringComment = (String) comments.get(i);</TD></TR><TR><TD CLASS="l">1418</TD><TD>//                        ASTConverterJavadocFlattener printer = new ASTConverterJavadocFlattener(stringComment);</TD></TR><TR><TD CLASS="l">1419</TD><TD>//                        comment.accept(printer);</TD></TR><TR CLASS="z"><TD CLASS="l">1420</TD><TD>                        String text = new String(testedSource, comment.getStartPosition(), comment.getLength());</TD></TR><TR CLASS="z"><TD CLASS="l">1421</TD><TD>                        assumeEquals(prefix+&#34;Flattened comment does NOT match source!&#34;, stringComment, text);</TD></TR><TR><TD CLASS="l">1422</TD><TD>                        // Verify javdoc tags positions and bindings</TD></TR><TR CLASS="z"><TD CLASS="l">1423</TD><TD>                        if (comment.isDocComment()) {</TD></TR><TR CLASS="z"><TD CLASS="l">1424</TD><TD>                                JSdoc docComment = (JSdoc)comment;</TD></TR><TR CLASS="z"><TD CLASS="l">1425</TD><TD>                                if (docCommentSupport.equals(JavaScriptCore.ENABLED)) {</TD></TR><TR CLASS="z"><TD CLASS="l">1426</TD><TD>                                        assumeEquals(prefix+&#34;Invalid tags number in javadoc:\n&#34;+docComment+&#34;\n&#34;, tags.size(), allTags(docComment));</TD></TR><TR CLASS="z"><TD CLASS="l">1427</TD><TD>                                        verifyPositions(docComment, testedSource);</TD></TR><TR CLASS="z"><TD CLASS="l">1428</TD><TD>                                        if (resolveBinding) {</TD></TR><TR CLASS="z"><TD CLASS="l">1429</TD><TD>                                                verifyBindings(docComment);</TD></TR><TR><TD CLASS="l">1430</TD><TD>                                        }</TD></TR><TR><TD CLASS="l">1431</TD><TD>                                } else {</TD></TR><TR CLASS="z"><TD CLASS="l">1432</TD><TD>                                        assumeEquals(&#34;Javadoc should be flat!&#34;, 0, docComment.tags().size());</TD></TR><TR><TD CLASS="l">1433</TD><TD>                                }</TD></TR><TR><TD CLASS="l">1434</TD><TD>                        }</TD></TR><TR><TD CLASS="l">1435</TD><TD>                }</TD></TR><TR><TD CLASS="l">1436</TD><TD>                </TD></TR><TR><TD CLASS="l">1437</TD><TD>                /* Verify each javadoc: not implemented yet</TD></TR><TR><TD CLASS="l">1438</TD><TD>                Iterator types = compilUnit.types().listIterator();</TD></TR><TR><TD CLASS="l">1439</TD><TD>                while (types.hasNext()) {</TD></TR><TR><TD CLASS="l">1440</TD><TD>                        TypeDeclaration typeDeclaration = (TypeDeclaration) types.next();</TD></TR><TR><TD CLASS="l">1441</TD><TD>                        verifyJavadoc(typeDeclaration.getJavadoc());</TD></TR><TR><TD CLASS="l">1442</TD><TD>                }</TD></TR><TR><TD CLASS="l">1443</TD><TD>                */</TD></TR><TR><TD CLASS="l">1444</TD><TD> </TD></TR><TR CLASS="z"><TD CLASS="l">1445</TD><TD>                if (sourceLevel != null) {</TD></TR><TR CLASS="z"><TD CLASS="l">1446</TD><TD>                        currentProject.setOption(JavaScriptCore.COMPILER_COMPLIANCE, complianceLevel);</TD></TR><TR CLASS="z"><TD CLASS="l">1447</TD><TD>                        currentProject.setOption(JavaScriptCore.COMPILER_SOURCE, sourceLevel);</TD></TR><TR><TD CLASS="l">1448</TD><TD>                }</TD></TR><TR><TD CLASS="l">1449</TD><TD>                // Return compilation unit for possible further verifications</TD></TR><TR CLASS="z"><TD CLASS="l">1450</TD><TD>                return compilUnit;</TD></TR><TR><TD CLASS="l">1451</TD><TD>        }</TD></TR><TR><TD CLASS="l">1452</TD><TD> </TD></TR><TR><TD CLASS="l">1453</TD><TD>        /* </TD></TR><TR><TD CLASS="l">1454</TD><TD>         * Verify each javadoc</TD></TR><TR><TD CLASS="l">1455</TD><TD>         * Not implented yet</TD></TR><TR><TD CLASS="l">1456</TD><TD>        private void verifyJavadoc(Javadoc docComment) {</TD></TR><TR><TD CLASS="l">1457</TD><TD>        }</TD></TR><TR><TD CLASS="l">1458</TD><TD>        */</TD></TR><TR><TD CLASS="l">1459</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="18">1460</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">1461</TD><TD>         * Check javadoc for FunctionDeclaration</TD></TR><TR><TD CLASS="l">1462</TD><TD>         */</TD></TR><TR><TD CLASS="l">1463</TD><TD>        public void test000() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1464</TD><TD>                verifyComments(&#34;test000&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">1465</TD><TD>        }</TD></TR><TR><TD CLASS="l">1466</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="19">1467</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">1468</TD><TD>         * Check javadoc for invalid syntax</TD></TR><TR><TD CLASS="l">1469</TD><TD>         */</TD></TR><TR><TD CLASS="l">1470</TD><TD>        public void test001() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1471</TD><TD>                verifyComments(&#34;test001&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">1472</TD><TD>        }</TD></TR><TR><TD CLASS="l">1473</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="1a">1474</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">1475</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=50781&#34;</TD></TR><TR><TD CLASS="l">1476</TD><TD>         */</TD></TR><TR><TD CLASS="l">1477</TD><TD>        public void test002() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1478</TD><TD>                verifyComments(&#34;test002&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">1479</TD><TD>        }</TD></TR><TR><TD CLASS="l">1480</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="1b">1481</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">1482</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=50784&#34;</TD></TR><TR><TD CLASS="l">1483</TD><TD>         */</TD></TR><TR><TD CLASS="l">1484</TD><TD>        public void test003() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1485</TD><TD>                verifyComments(&#34;test003&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">1486</TD><TD>        }</TD></TR><TR><TD CLASS="l">1487</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="1c">1488</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">1489</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=50785&#34;</TD></TR><TR><TD CLASS="l">1490</TD><TD>         */</TD></TR><TR><TD CLASS="l">1491</TD><TD>        public void test004() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1492</TD><TD>                verifyComments(&#34;test004&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">1493</TD><TD>        }</TD></TR><TR><TD CLASS="l">1494</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="1d">1495</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">1496</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=50838&#34;</TD></TR><TR><TD CLASS="l">1497</TD><TD>         */</TD></TR><TR><TD CLASS="l">1498</TD><TD>        public void test005() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1499</TD><TD>                verifyComments(&#34;test005&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">1500</TD><TD>        }</TD></TR><TR><TD CLASS="l">1501</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="1e">1502</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">1503</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=50877&#34;</TD></TR><TR><TD CLASS="l">1504</TD><TD>         */</TD></TR><TR><TD CLASS="l">1505</TD><TD>        public void test006() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1506</TD><TD>                verifyComments(&#34;test006&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">1507</TD><TD>        }</TD></TR><TR><TD CLASS="l">1508</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="1f">1509</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">1510</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=50877&#34;</TD></TR><TR><TD CLASS="l">1511</TD><TD>         */</TD></TR><TR><TD CLASS="l">1512</TD><TD>        public void test007() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1513</TD><TD>                verifyComments(&#34;test007&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">1514</TD><TD>        }</TD></TR><TR><TD CLASS="l">1515</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="20">1516</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">1517</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=50877&#34;</TD></TR><TR><TD CLASS="l">1518</TD><TD>         */</TD></TR><TR><TD CLASS="l">1519</TD><TD>        public void test008() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1520</TD><TD>                verifyComments(&#34;test008&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">1521</TD><TD>        }</TD></TR><TR><TD CLASS="l">1522</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="21">1523</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">1524</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=50877&#34;</TD></TR><TR><TD CLASS="l">1525</TD><TD>         */</TD></TR><TR><TD CLASS="l">1526</TD><TD>        public void test009() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1527</TD><TD>                verifyComments(&#34;test009&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">1528</TD><TD>        }</TD></TR><TR><TD CLASS="l">1529</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="22">1530</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">1531</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=50880&#34;</TD></TR><TR><TD CLASS="l">1532</TD><TD>         */</TD></TR><TR><TD CLASS="l">1533</TD><TD>        public void test010() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1534</TD><TD>                verifyComments(&#34;test010&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">1535</TD><TD>        }</TD></TR><TR><TD CLASS="l">1536</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="23">1537</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">1538</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=47396&#34;</TD></TR><TR><TD CLASS="l">1539</TD><TD>         */</TD></TR><TR><TD CLASS="l">1540</TD><TD>        public void test011() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1541</TD><TD>                problems = new StringBuffer();</TD></TR><TR CLASS="z"><TD CLASS="l">1542</TD><TD>                sourceUnit = getCompilationUnit(&#34;Converter&#34; , &#34;src&#34;, &#34;javadoc.test011&#34;, &#34;Test.js&#34;); //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$ //$NON-NLS-4$</TD></TR><TR CLASS="z"><TD CLASS="l">1543</TD><TD>                ASTNode result = runConversion(sourceUnit, true);</TD></TR><TR CLASS="z"><TD CLASS="l">1544</TD><TD>                assumeNotNull(&#34;No compilation unit&#34;, result);</TD></TR><TR CLASS="z"><TD CLASS="l">1545</TD><TD>        }</TD></TR><TR><TD CLASS="l">1546</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="24">1547</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">1548</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=50938&#34;</TD></TR><TR><TD CLASS="l">1549</TD><TD>         */</TD></TR><TR><TD CLASS="l">1550</TD><TD>        public void test012() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1551</TD><TD>                verifyComments(&#34;test012&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">1552</TD><TD>        }</TD></TR><TR><TD CLASS="l">1553</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="25">1554</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">1555</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=51104&#34;</TD></TR><TR><TD CLASS="l">1556</TD><TD>         */</TD></TR><TR><TD CLASS="l">1557</TD><TD>        public void test013() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1558</TD><TD>                verifyComments(&#34;test013&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">1559</TD><TD>        }</TD></TR><TR><TD CLASS="l">1560</TD><TD> </TD></TR><TR><TD CLASS="l">1561</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="26">1562</A></TD><TD>         * Verify that text on next line following empty tag element</TD></TR><TR><TD CLASS="l">1563</TD><TD>         * is well positionned.</TD></TR><TR><TD CLASS="l">1564</TD><TD>         */</TD></TR><TR><TD CLASS="l">1565</TD><TD>        public void test014() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1566</TD><TD>                verifyComments(&#34;test014&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">1567</TD><TD>        }</TD></TR><TR><TD CLASS="l">1568</TD><TD> </TD></TR><TR><TD CLASS="l">1569</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="27">1570</A></TD><TD>         * Verify that we do not report failure when types are written on several lines</TD></TR><TR><TD CLASS="l">1571</TD><TD>         * in Javadoc comments.</TD></TR><TR><TD CLASS="l">1572</TD><TD>         */</TD></TR><TR><TD CLASS="l">1573</TD><TD>        public void test015() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1574</TD><TD>                verifyComments(&#34;test015&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">1575</TD><TD>        }</TD></TR><TR><TD CLASS="l">1576</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="84">1577</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">1578</TD><TD>         * Verify DefaultCommentMapper heuristic to get leading and trailing comments</TD></TR><TR><TD CLASS="l">1579</TD><TD>         */</TD></TR><TR><TD CLASS="l">1580</TD><TD>        protected void verifyMapper(String folder, int count, int[] indexes) throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1581</TD><TD>                IJavaScriptUnit[] units = getCompilationUnits(&#34;Converter&#34; , &#34;src&#34;, &#34;javadoc.&#34;+folder); //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$</TD></TR><TR CLASS="z"><TD CLASS="l">1582</TD><TD>                for (int i=0; i&lt;units.length; i++) {</TD></TR><TR CLASS="z"><TD CLASS="l">1583</TD><TD>                        sourceUnit = units[i];</TD></TR><TR CLASS="z"><TD CLASS="l">1584</TD><TD>                        ASTNode result = runConversion(sourceUnit, false);</TD></TR><TR CLASS="z"><TD CLASS="l">1585</TD><TD>                        final JavaScriptUnit compilUnit = (JavaScriptUnit) result;</TD></TR><TR CLASS="z"><TD CLASS="l">1586</TD><TD>                        assumeEquals(prefix+&#34;Wrong number of problems&#34;, 0, compilUnit.getProblems().length); //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">1587</TD><TD>                        assumeEquals(prefix+&#34;Wrong number of comments&#34;, count, compilUnit.getCommentList().size());</TD></TR><TR><TD CLASS="l">1588</TD><TD>                        // Verify first method existence</TD></TR><TR CLASS="z"><TD CLASS="l">1589</TD><TD>                        ASTNode node = getASTNode((JavaScriptUnit) result, 0, 0);</TD></TR><TR CLASS="z"><TD CLASS="l">1590</TD><TD>                        assumeNotNull(&#34;We should get a non-null ast node&#34;, node);</TD></TR><TR CLASS="z"><TD CLASS="l">1591</TD><TD>                        assumeTrue(&#34;Not a method declaration&#34;, node.getNodeType() == ASTNode.FUNCTION_DECLARATION); //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">1592</TD><TD>                        FunctionDeclaration method = (FunctionDeclaration) node;</TD></TR><TR><TD CLASS="l">1593</TD><TD>                        // Verify first method extended positions</TD></TR><TR CLASS="z"><TD CLASS="l">1594</TD><TD>                        int commentStart = method.getStartPosition();</TD></TR><TR CLASS="z"><TD CLASS="l">1595</TD><TD>                        if (indexes[0]&gt;=0) {</TD></TR><TR CLASS="z"><TD CLASS="l">1596</TD><TD>                                Comment comment = (Comment) compilUnit.getCommentList().get(indexes[0]);</TD></TR><TR CLASS="z"><TD CLASS="l">1597</TD><TD>                                commentStart = comment.getStartPosition();</TD></TR><TR><TD CLASS="l">1598</TD><TD>                        }</TD></TR><TR CLASS="z"><TD CLASS="l">1599</TD><TD>                        int startPosition = compilUnit.getExtendedStartPosition(method);</TD></TR><TR CLASS="z"><TD CLASS="l">1600</TD><TD>                        assumeEquals(&#34;Method &#34;+node+&#34; does not start at the right position&#34;, commentStart, startPosition);</TD></TR><TR CLASS="z"><TD CLASS="l">1601</TD><TD>                        int methodEnd = startPosition + compilUnit.getExtendedLength(method) - 1;</TD></TR><TR CLASS="z"><TD CLASS="l">1602</TD><TD>                        int commentEnd = method.getStartPosition() + method.getLength() - 1;</TD></TR><TR CLASS="z"><TD CLASS="l">1603</TD><TD>                        if (indexes[1]&gt;=0) {</TD></TR><TR CLASS="z"><TD CLASS="l">1604</TD><TD>                                Comment comment = (Comment) compilUnit.getCommentList().get(indexes[1]);</TD></TR><TR CLASS="z"><TD CLASS="l">1605</TD><TD>                                commentEnd = comment.getStartPosition() + comment.getLength() - 1;</TD></TR><TR><TD CLASS="l">1606</TD><TD>                        }</TD></TR><TR CLASS="z"><TD CLASS="l">1607</TD><TD>                        assumeEquals(&#34;Method &#34;+node+&#34; does not have the correct length&#34;, commentEnd, methodEnd);</TD></TR><TR><TD CLASS="l">1608</TD><TD>                        // Verify second method existence</TD></TR><TR CLASS="z"><TD CLASS="l">1609</TD><TD>                        node = getASTNode((JavaScriptUnit) result, 0, 1);</TD></TR><TR CLASS="z"><TD CLASS="l">1610</TD><TD>                        assumeNotNull(&#34;We should get a non-null ast node&#34;, node);</TD></TR><TR CLASS="z"><TD CLASS="l">1611</TD><TD>                        assumeTrue(&#34;Not a method declaration&#34;, node.getNodeType() == ASTNode.FUNCTION_DECLARATION); //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">1612</TD><TD>                        method = (FunctionDeclaration) node;</TD></TR><TR><TD CLASS="l">1613</TD><TD>                        // Verify second method extended positions</TD></TR><TR CLASS="z"><TD CLASS="l">1614</TD><TD>                        commentStart = method.getStartPosition();</TD></TR><TR CLASS="z"><TD CLASS="l">1615</TD><TD>                        if (indexes[2]&gt;=0) {</TD></TR><TR CLASS="z"><TD CLASS="l">1616</TD><TD>                                Comment comment = (Comment) compilUnit.getCommentList().get(indexes[2]);</TD></TR><TR CLASS="z"><TD CLASS="l">1617</TD><TD>                                commentStart = comment.getStartPosition();</TD></TR><TR><TD CLASS="l">1618</TD><TD>                        }</TD></TR><TR CLASS="z"><TD CLASS="l">1619</TD><TD>                        startPosition = compilUnit.getExtendedStartPosition(method);</TD></TR><TR CLASS="z"><TD CLASS="l">1620</TD><TD>                        assumeEquals(&#34;Method &#34;+node+&#34; does not start at the right position&#34;, commentStart, startPosition);</TD></TR><TR CLASS="z"><TD CLASS="l">1621</TD><TD>                        methodEnd = startPosition + compilUnit.getExtendedLength(method) - 1;</TD></TR><TR CLASS="z"><TD CLASS="l">1622</TD><TD>                        commentEnd = method.getStartPosition() + method.getLength() - 1;</TD></TR><TR CLASS="z"><TD CLASS="l">1623</TD><TD>                        if (indexes[3]&gt;=0) {</TD></TR><TR CLASS="z"><TD CLASS="l">1624</TD><TD>                                Comment comment = (Comment) compilUnit.getCommentList().get(indexes[3]);</TD></TR><TR CLASS="z"><TD CLASS="l">1625</TD><TD>                                commentEnd = comment.getStartPosition() + comment.getLength() - 1;</TD></TR><TR><TD CLASS="l">1626</TD><TD>                        }</TD></TR><TR CLASS="z"><TD CLASS="l">1627</TD><TD>                        assumeEquals(&#34;Method &#34;+node+&#34; does not have the correct length&#34;, commentEnd, methodEnd);</TD></TR><TR><TD CLASS="l">1628</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">1629</TD><TD>        }</TD></TR><TR><TD CLASS="l">1630</TD><TD> </TD></TR><TR><TD CLASS="l">1631</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="28">1632</A></TD><TD>         * Verify DefaultCommentMapper heuristic to get leading and trailing comments</TD></TR><TR><TD CLASS="l">1633</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=53445&#34;</TD></TR><TR><TD CLASS="l">1634</TD><TD>         */</TD></TR><TR><TD CLASS="l"><A NAME="29">1635</A></TD><TD>        public void test100() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1636</TD><TD>                verifyMapper(&#34;test100&#34;, 16, new int[] {2,7,8,15});</TD></TR><TR CLASS="z"><TD CLASS="l">1637</TD><TD>        }</TD></TR><TR><TD CLASS="l"><A NAME="2a">1638</A></TD><TD>        public void test101() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1639</TD><TD>                verifyMapper(&#34;test101&#34;, 8, new int[] {1,3,4,7});</TD></TR><TR CLASS="z"><TD CLASS="l">1640</TD><TD>        }</TD></TR><TR><TD CLASS="l"><A NAME="2b">1641</A></TD><TD>        public void test102() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1642</TD><TD>                verifyMapper(&#34;test102&#34;, 16, new int[] {4,9,10,13});</TD></TR><TR CLASS="z"><TD CLASS="l">1643</TD><TD>        }</TD></TR><TR><TD CLASS="l"><A NAME="2c">1644</A></TD><TD>        public void test103() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1645</TD><TD>                verifyMapper(&#34;test103&#34;, 8, new int[] {2,4,5,6});</TD></TR><TR CLASS="z"><TD CLASS="l">1646</TD><TD>        }</TD></TR><TR><TD CLASS="l"><A NAME="2d">1647</A></TD><TD>        public void test104() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1648</TD><TD>                verifyMapper(&#34;test104&#34;, 16, new int[] {2,7,8,15});</TD></TR><TR CLASS="z"><TD CLASS="l">1649</TD><TD>        }</TD></TR><TR><TD CLASS="l"><A NAME="2e">1650</A></TD><TD>        public void test105() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1651</TD><TD>                verifyMapper(&#34;test105&#34;, 16, new int[] {-1,11,-1,15});</TD></TR><TR CLASS="z"><TD CLASS="l">1652</TD><TD>        }</TD></TR><TR><TD CLASS="l"><A NAME="2f">1653</A></TD><TD>        public void test106() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1654</TD><TD>                verifyMapper(&#34;test106&#34;, 8, new int[] {-1,5,-1,7});</TD></TR><TR CLASS="z"><TD CLASS="l">1655</TD><TD>        }</TD></TR><TR><TD CLASS="l"><A NAME="30">1656</A></TD><TD>        public void test107() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1657</TD><TD>                verifyMapper(&#34;test107&#34;, 16, new int[] {2,7,8,-1});</TD></TR><TR CLASS="z"><TD CLASS="l">1658</TD><TD>        }</TD></TR><TR><TD CLASS="l">1659</TD><TD>        public void test108() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1660</TD><TD>                verifyMapper(&#34;test108&#34;, 8, new int[] {1,3,4,-1});</TD></TR><TR CLASS="z"><TD CLASS="l">1661</TD><TD>        }</TD></TR><TR><TD CLASS="l">1662</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="54">1663</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">1664</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=54776&#34;</TD></TR><TR><TD CLASS="l">1665</TD><TD>         */</TD></TR><TR><TD CLASS="l">1666</TD><TD>        public void testBug54776() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1667</TD><TD>                sourceUnit = getCompilationUnit(&#34;Converter&#34; , &#34;src&#34;, &#34;javadoc.testBug54776&#34;, &#34;Test.js&#34;); //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$ //$NON-NLS-4$</TD></TR><TR CLASS="z"><TD CLASS="l">1668</TD><TD>                ASTNode result = runConversion(sourceUnit, false);</TD></TR><TR CLASS="z"><TD CLASS="l">1669</TD><TD>                final JavaScriptUnit compilUnit = (JavaScriptUnit) result;</TD></TR><TR CLASS="z"><TD CLASS="l">1670</TD><TD>                assumeEquals(prefix+&#34;Wrong number of problems&#34;, 0, compilUnit.getProblems().length); //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">1671</TD><TD>                assumeEquals(prefix+&#34;Wrong number of comments&#34;, 2, compilUnit.getCommentList().size());</TD></TR><TR><TD CLASS="l">1672</TD><TD>                // get comments range</TD></TR><TR CLASS="z"><TD CLASS="l">1673</TD><TD>                Comment comment = (Comment) compilUnit.getCommentList().get(0);</TD></TR><TR CLASS="z"><TD CLASS="l">1674</TD><TD>                int commentStart = comment.getStartPosition();</TD></TR><TR CLASS="z"><TD CLASS="l">1675</TD><TD>                int extendedLength = ((Comment) compilUnit.getCommentList().get(1)).getStartPosition()-commentStart+comment.getLength();</TD></TR><TR><TD CLASS="l">1676</TD><TD>                // get method invocation in field initializer</TD></TR><TR CLASS="z"><TD CLASS="l">1677</TD><TD>                ASTNode node = getASTNode((JavaScriptUnit) result, 0);</TD></TR><TR CLASS="z"><TD CLASS="l">1678</TD><TD>                assumeNotNull(&#34;We should get a non-null ast node&#34;, node);</TD></TR><TR CLASS="z"><TD CLASS="l">1679</TD><TD>                assumeTrue(&#34;Not a type declaration&#34;, node.getNodeType() == ASTNode.TYPE_DECLARATION); //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">1680</TD><TD>                TypeDeclaration typeDecl = (TypeDeclaration) node;</TD></TR><TR CLASS="z"><TD CLASS="l">1681</TD><TD>                FieldDeclaration[] fields = typeDecl.getFields();</TD></TR><TR CLASS="z"><TD CLASS="l">1682</TD><TD>                assumeEquals(&#34;We should have a field declaration&#34;, 1, fields.length);</TD></TR><TR CLASS="z"><TD CLASS="l">1683</TD><TD>                List fragments = fields[0].fragments();</TD></TR><TR CLASS="z"><TD CLASS="l">1684</TD><TD>                assumeEquals(&#34;We should have a variable fragment&#34;, 1, fragments.size());</TD></TR><TR CLASS="z"><TD CLASS="l">1685</TD><TD>                VariableDeclarationFragment fragment = (VariableDeclarationFragment) fragments.get(0);</TD></TR><TR CLASS="z"><TD CLASS="l">1686</TD><TD>                Expression expression = fragment.getInitializer();</TD></TR><TR CLASS="z"><TD CLASS="l">1687</TD><TD>                assumeTrue(&#34;We should get an expression&#34;, expression instanceof FunctionInvocation);</TD></TR><TR CLASS="z"><TD CLASS="l">1688</TD><TD>                FunctionInvocation methodInvocation = (FunctionInvocation) expression;</TD></TR><TR><TD CLASS="l">1689</TD><TD>                // verify  that methodinvocation extended range includes leading and trailing comment</TD></TR><TR CLASS="z"><TD CLASS="l">1690</TD><TD>                int methodStart = compilUnit.getExtendedStartPosition(methodInvocation);</TD></TR><TR CLASS="z"><TD CLASS="l">1691</TD><TD>                assumeEquals(&#34;Method invocation &#34;+methodInvocation+&#34; does not start at the right position&#34;, commentStart, methodStart);</TD></TR><TR CLASS="z"><TD CLASS="l">1692</TD><TD>                int methodLength = compilUnit.getExtendedLength(methodInvocation);</TD></TR><TR CLASS="z"><TD CLASS="l">1693</TD><TD>                assumeEquals(&#34;Method invocation &#34;+methodInvocation+&#34; does not have the correct length&#34;, extendedLength, methodLength);</TD></TR><TR CLASS="z"><TD CLASS="l">1694</TD><TD>        }</TD></TR><TR><TD CLASS="l">1695</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="55">1696</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">1697</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=55221&#34;</TD></TR><TR><TD CLASS="l">1698</TD><TD>         */</TD></TR><TR><TD CLASS="l">1699</TD><TD>        public void testBug55221a() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1700</TD><TD>                sourceUnit = getCompilationUnit(&#34;Converter&#34; , &#34;src&#34;, &#34;javadoc.testBug55221.a&#34;, &#34;Test.js&#34;); //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$ //$NON-NLS-4$</TD></TR><TR CLASS="z"><TD CLASS="l">1701</TD><TD>                ASTNode result = runConversion(sourceUnit, false);</TD></TR><TR CLASS="z"><TD CLASS="l">1702</TD><TD>                final JavaScriptUnit compilUnit = (JavaScriptUnit) result;</TD></TR><TR CLASS="z"><TD CLASS="l">1703</TD><TD>                assumeEquals(prefix+&#34;Wrong number of problems&#34;, 0, compilUnit.getProblems().length); //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">1704</TD><TD>                assumeEquals(prefix+&#34;Wrong number of comments&#34;, 1, compilUnit.getCommentList().size());</TD></TR><TR><TD CLASS="l">1705</TD><TD>                // Get comment range</TD></TR><TR CLASS="z"><TD CLASS="l">1706</TD><TD>                Comment comment = (Comment) compilUnit.getCommentList().get(0);</TD></TR><TR CLASS="z"><TD CLASS="l">1707</TD><TD>                int commentStart = comment.getStartPosition();</TD></TR><TR><TD CLASS="l">1708</TD><TD>                // get first method</TD></TR><TR CLASS="z"><TD CLASS="l">1709</TD><TD>                ASTNode node = getASTNode(compilUnit, 0, 0);</TD></TR><TR CLASS="z"><TD CLASS="l">1710</TD><TD>                assumeNotNull(&#34;We should get a non-null ast node&#34;, node);</TD></TR><TR CLASS="z"><TD CLASS="l">1711</TD><TD>                assumeTrue(&#34;Not a method declaration&#34;, node.getNodeType() == ASTNode.FUNCTION_DECLARATION); //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">1712</TD><TD>                FunctionDeclaration method = (FunctionDeclaration) node;</TD></TR><TR><TD CLASS="l">1713</TD><TD>                // verify that first method does not include comment</TD></TR><TR CLASS="z"><TD CLASS="l">1714</TD><TD>                int methodStart = compilUnit.getExtendedStartPosition(method);</TD></TR><TR CLASS="z"><TD CLASS="l">1715</TD><TD>                assumeEquals(&#34;Method &#34;+method+&#34; does not start at the right position&#34;, method.getStartPosition(), methodStart);</TD></TR><TR CLASS="z"><TD CLASS="l">1716</TD><TD>                int methodLength = compilUnit.getExtendedLength(method);</TD></TR><TR CLASS="z"><TD CLASS="l">1717</TD><TD>                assumeEquals(&#34;Method declaration &#34;+method+&#34; does not end at the right position&#34;,method.getLength(), methodLength);</TD></TR><TR><TD CLASS="l">1718</TD><TD>                // get method body</TD></TR><TR CLASS="z"><TD CLASS="l">1719</TD><TD>                node = method.getBody();</TD></TR><TR CLASS="z"><TD CLASS="l">1720</TD><TD>                assumeNotNull(&#34;We should get a non-null ast node&#34;, node);</TD></TR><TR CLASS="z"><TD CLASS="l">1721</TD><TD>                assumeTrue(&#34;Not a block&#34;, node.getNodeType() == ASTNode.BLOCK); //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">1722</TD><TD>                Block block = (Block) node;</TD></TR><TR><TD CLASS="l">1723</TD><TD>                // verify that body does not include following comment</TD></TR><TR CLASS="z"><TD CLASS="l">1724</TD><TD>                int blockStart = compilUnit.getExtendedStartPosition(block);</TD></TR><TR CLASS="z"><TD CLASS="l">1725</TD><TD>                assumeEquals(&#34;Body block &#34;+block+&#34; does not start at the right position&#34;, block.getStartPosition(), blockStart);</TD></TR><TR CLASS="z"><TD CLASS="l">1726</TD><TD>                int blockLength = compilUnit.getExtendedLength(block);</TD></TR><TR CLASS="z"><TD CLASS="l">1727</TD><TD>                assumeEquals(&#34;Body block &#34;+block+&#34; does not have the correct length&#34;, block.getLength(), blockLength);</TD></TR><TR><TD CLASS="l">1728</TD><TD>                // get second method</TD></TR><TR CLASS="z"><TD CLASS="l">1729</TD><TD>                node = getASTNode(compilUnit, 0, 1);</TD></TR><TR CLASS="z"><TD CLASS="l">1730</TD><TD>                assumeNotNull(&#34;We should get a non-null ast node&#34;, node);</TD></TR><TR CLASS="z"><TD CLASS="l">1731</TD><TD>                assumeTrue(&#34;Not a method declaration&#34;, node.getNodeType() == ASTNode.FUNCTION_DECLARATION); //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">1732</TD><TD>                method = (FunctionDeclaration) node;</TD></TR><TR><TD CLASS="l"><A NAME="56">1733</A></TD><TD>                // verify that second method start includes comment</TD></TR><TR CLASS="z"><TD CLASS="l">1734</TD><TD>                assumeEquals(&#34;Method declaration &#34;+method+&#34; does not start at the right position&#34;, commentStart, method.getStartPosition());</TD></TR><TR CLASS="z"><TD CLASS="l">1735</TD><TD>        }</TD></TR><TR><TD CLASS="l">1736</TD><TD>        public void testBug55221b() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1737</TD><TD>                sourceUnit = getCompilationUnit(&#34;Converter&#34; , &#34;src&#34;, &#34;javadoc.testBug55221.b&#34;, &#34;Test.js&#34;); //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$ //$NON-NLS-4$</TD></TR><TR CLASS="z"><TD CLASS="l">1738</TD><TD>                ASTNode result = runConversion(sourceUnit, false);</TD></TR><TR CLASS="z"><TD CLASS="l">1739</TD><TD>                final JavaScriptUnit compilUnit = (JavaScriptUnit) result;</TD></TR><TR CLASS="z"><TD CLASS="l">1740</TD><TD>                assumeEquals(prefix+&#34;Wrong number of problems&#34;, 0, compilUnit.getProblems().length); //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">1741</TD><TD>                assumeEquals(prefix+&#34;Wrong number of comments&#34;, 1, compilUnit.getCommentList().size());</TD></TR><TR><TD CLASS="l">1742</TD><TD>                // Get comment range</TD></TR><TR CLASS="z"><TD CLASS="l">1743</TD><TD>                Comment comment = (Comment) compilUnit.getCommentList().get(0);</TD></TR><TR CLASS="z"><TD CLASS="l">1744</TD><TD>                int commentStart = comment.getStartPosition();</TD></TR><TR><TD CLASS="l">1745</TD><TD>                // get first method</TD></TR><TR CLASS="z"><TD CLASS="l">1746</TD><TD>                ASTNode node = getASTNode(compilUnit, 0, 0);</TD></TR><TR CLASS="z"><TD CLASS="l">1747</TD><TD>                assumeNotNull(&#34;We should get a non-null ast node&#34;, node);</TD></TR><TR CLASS="z"><TD CLASS="l">1748</TD><TD>                assumeTrue(&#34;Not a method declaration&#34;, node.getNodeType() == ASTNode.FUNCTION_DECLARATION); //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">1749</TD><TD>                FunctionDeclaration method = (FunctionDeclaration) node;</TD></TR><TR><TD CLASS="l">1750</TD><TD>                // verify that first method does not include comment</TD></TR><TR CLASS="z"><TD CLASS="l">1751</TD><TD>                int methodStart = compilUnit.getExtendedStartPosition(method);</TD></TR><TR CLASS="z"><TD CLASS="l">1752</TD><TD>                assumeEquals(&#34;Method &#34;+method+&#34; does not start at the right position&#34;, method.getStartPosition(), methodStart);</TD></TR><TR CLASS="z"><TD CLASS="l">1753</TD><TD>                int methodLength = compilUnit.getExtendedLength(method);</TD></TR><TR CLASS="z"><TD CLASS="l">1754</TD><TD>                assumeEquals(&#34;Method declaration &#34;+method+&#34; does not end at the right position&#34;,method.getLength(), methodLength);</TD></TR><TR><TD CLASS="l">1755</TD><TD>                // get method body</TD></TR><TR CLASS="z"><TD CLASS="l">1756</TD><TD>                node = method.getBody();</TD></TR><TR CLASS="z"><TD CLASS="l">1757</TD><TD>                assumeNotNull(&#34;We should get a non-null ast node&#34;, node);</TD></TR><TR CLASS="z"><TD CLASS="l">1758</TD><TD>                assumeTrue(&#34;Not a block&#34;, node.getNodeType() == ASTNode.BLOCK); //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">1759</TD><TD>                Block block = (Block) node;</TD></TR><TR><TD CLASS="l">1760</TD><TD>                // verify that body does not include following comment</TD></TR><TR CLASS="z"><TD CLASS="l">1761</TD><TD>                int blockStart = compilUnit.getExtendedStartPosition(block);</TD></TR><TR CLASS="z"><TD CLASS="l">1762</TD><TD>                assumeEquals(&#34;Body block &#34;+block+&#34; does not start at the right position&#34;, block.getStartPosition(), blockStart);</TD></TR><TR CLASS="z"><TD CLASS="l">1763</TD><TD>                int blockLength = compilUnit.getExtendedLength(block);</TD></TR><TR CLASS="z"><TD CLASS="l">1764</TD><TD>                assumeEquals(&#34;Body block &#34;+block+&#34; does not have the correct length&#34;, block.getLength(), blockLength);</TD></TR><TR><TD CLASS="l">1765</TD><TD>                // get second method</TD></TR><TR CLASS="z"><TD CLASS="l">1766</TD><TD>                node = getASTNode(compilUnit, 0, 1);</TD></TR><TR CLASS="z"><TD CLASS="l">1767</TD><TD>                assumeNotNull(&#34;We should get a non-null ast node&#34;, node);</TD></TR><TR CLASS="z"><TD CLASS="l">1768</TD><TD>                assumeTrue(&#34;Not a method declaration&#34;, node.getNodeType() == ASTNode.FUNCTION_DECLARATION); //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">1769</TD><TD>                method = (FunctionDeclaration) node;</TD></TR><TR><TD CLASS="l"><A NAME="57">1770</A></TD><TD>                // verify that second method start includes comment</TD></TR><TR CLASS="z"><TD CLASS="l">1771</TD><TD>                assumeEquals(&#34;Method declaration &#34;+method+&#34; does not start at the right position&#34;, commentStart, method.getStartPosition());</TD></TR><TR CLASS="z"><TD CLASS="l">1772</TD><TD>        }</TD></TR><TR><TD CLASS="l">1773</TD><TD>        public void testBug55221c() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1774</TD><TD>                sourceUnit = getCompilationUnit(&#34;Converter&#34; , &#34;src&#34;, &#34;javadoc.testBug55221.c&#34;, &#34;Test.js&#34;); //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$ //$NON-NLS-4$</TD></TR><TR CLASS="z"><TD CLASS="l">1775</TD><TD>                ASTNode result = runConversion(sourceUnit, false);</TD></TR><TR CLASS="z"><TD CLASS="l">1776</TD><TD>                final JavaScriptUnit compilUnit = (JavaScriptUnit) result;</TD></TR><TR CLASS="z"><TD CLASS="l">1777</TD><TD>                assumeEquals(prefix+&#34;Wrong number of problems&#34;, 0, compilUnit.getProblems().length); //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">1778</TD><TD>                assumeEquals(prefix+&#34;Wrong number of comments&#34;, 1, compilUnit.getCommentList().size());</TD></TR><TR><TD CLASS="l">1779</TD><TD>                // Get comment range</TD></TR><TR CLASS="z"><TD CLASS="l">1780</TD><TD>                Comment comment = (Comment) compilUnit.getCommentList().get(0);</TD></TR><TR CLASS="z"><TD CLASS="l">1781</TD><TD>                int commentStart = comment.getStartPosition();</TD></TR><TR CLASS="z"><TD CLASS="l">1782</TD><TD>                int commentEnd = commentStart+comment.getLength()-1;</TD></TR><TR><TD CLASS="l">1783</TD><TD>                // get first method</TD></TR><TR CLASS="z"><TD CLASS="l">1784</TD><TD>                ASTNode node = getASTNode(compilUnit, 0, 0);</TD></TR><TR CLASS="z"><TD CLASS="l">1785</TD><TD>                assumeNotNull(&#34;We should get a non-null ast node&#34;, node);</TD></TR><TR CLASS="z"><TD CLASS="l">1786</TD><TD>                assumeTrue(&#34;Not a method declaration&#34;, node.getNodeType() == ASTNode.FUNCTION_DECLARATION); //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">1787</TD><TD>                FunctionDeclaration method = (FunctionDeclaration) node;</TD></TR><TR><TD CLASS="l">1788</TD><TD>                // verify that first method includes comment</TD></TR><TR CLASS="z"><TD CLASS="l">1789</TD><TD>                int methodStart = compilUnit.getExtendedStartPosition(method);</TD></TR><TR CLASS="z"><TD CLASS="l">1790</TD><TD>                assumeEquals(&#34;Method &#34;+method+&#34; does not start at the right position&#34;, method.getStartPosition(), methodStart);</TD></TR><TR CLASS="z"><TD CLASS="l">1791</TD><TD>                int methodLength = compilUnit.getExtendedLength(method);</TD></TR><TR CLASS="z"><TD CLASS="l">1792</TD><TD>                assumeEquals(&#34;Method &#34;+method+&#34; does not end at the right position&#34;, commentEnd, methodStart+methodLength-1);</TD></TR><TR><TD CLASS="l">1793</TD><TD>                // get method body</TD></TR><TR CLASS="z"><TD CLASS="l">1794</TD><TD>                node = method.getBody();</TD></TR><TR CLASS="z"><TD CLASS="l">1795</TD><TD>                assumeNotNull(&#34;We should get a non-null ast node&#34;, node);</TD></TR><TR CLASS="z"><TD CLASS="l">1796</TD><TD>                assumeTrue(&#34;Not a block&#34;, node.getNodeType() == ASTNode.BLOCK); //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">1797</TD><TD>                Block block = (Block) node;</TD></TR><TR><TD CLASS="l">1798</TD><TD>                // verify that body includes following comment</TD></TR><TR CLASS="z"><TD CLASS="l">1799</TD><TD>                int blockStart = compilUnit.getExtendedStartPosition(block);</TD></TR><TR CLASS="z"><TD CLASS="l">1800</TD><TD>                assumeEquals(&#34;Body block &#34;+block+&#34; does not start at the right position&#34;, block.getStartPosition(), blockStart);</TD></TR><TR CLASS="z"><TD CLASS="l">1801</TD><TD>                int blockLength = compilUnit.getExtendedLength(block);</TD></TR><TR CLASS="z"><TD CLASS="l">1802</TD><TD>                assumeEquals(&#34;Body block &#34;+block+&#34; does not end at the right position&#34;, commentEnd, blockStart+blockLength-1);</TD></TR><TR><TD CLASS="l">1803</TD><TD>                // get second method</TD></TR><TR CLASS="z"><TD CLASS="l">1804</TD><TD>                node = getASTNode(compilUnit, 0, 1);</TD></TR><TR CLASS="z"><TD CLASS="l">1805</TD><TD>                assumeNotNull(&#34;We should get a non-null ast node&#34;, node);</TD></TR><TR CLASS="z"><TD CLASS="l">1806</TD><TD>                assumeTrue(&#34;Not a method declaration&#34;, node.getNodeType() == ASTNode.FUNCTION_DECLARATION); //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">1807</TD><TD>                method = (FunctionDeclaration) node;</TD></TR><TR><TD CLASS="l">1808</TD><TD>                // verify that second method does not include comment</TD></TR><TR CLASS="z"><TD CLASS="l">1809</TD><TD>                methodStart = compilUnit.getExtendedStartPosition(method);</TD></TR><TR CLASS="z"><TD CLASS="l">1810</TD><TD>                assumeEquals(&#34;Method &#34;+method+&#34; does not start at the right position&#34;, method.getStartPosition(), methodStart);</TD></TR><TR CLASS="z"><TD CLASS="l">1811</TD><TD>                methodLength = compilUnit.getExtendedLength(method);</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="58">1812</A></TD><TD>                assumeEquals(&#34;Method declaration &#34;+method+&#34; does not end at the right position&#34;,method.getLength(), methodLength);</TD></TR><TR CLASS="z"><TD CLASS="l">1813</TD><TD>        }</TD></TR><TR><TD CLASS="l">1814</TD><TD>        /** @deprecated using deprecated code */</TD></TR><TR><TD CLASS="l">1815</TD><TD>        public void testBug55221d() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1816</TD><TD>                sourceUnit = getCompilationUnit(&#34;Converter&#34; , &#34;src&#34;, &#34;javadoc.testBug55221.d&#34;, &#34;Test.js&#34;); //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$ //$NON-NLS-4$</TD></TR><TR CLASS="z"><TD CLASS="l">1817</TD><TD>                ASTNode result = runConversion(sourceUnit, false);</TD></TR><TR CLASS="z"><TD CLASS="l">1818</TD><TD>                final JavaScriptUnit compilUnit = (JavaScriptUnit) result;</TD></TR><TR CLASS="z"><TD CLASS="l">1819</TD><TD>                assumeEquals(prefix+&#34;Wrong number of problems&#34;, 0, compilUnit.getProblems().length); //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">1820</TD><TD>                assumeEquals(prefix+&#34;Wrong number of comments&#34;, 2, compilUnit.getCommentList().size());</TD></TR><TR><TD CLASS="l">1821</TD><TD>                // get first method</TD></TR><TR CLASS="z"><TD CLASS="l">1822</TD><TD>                ASTNode node = getASTNode(compilUnit, 0, 0);</TD></TR><TR CLASS="z"><TD CLASS="l">1823</TD><TD>                assumeNotNull(&#34;We should get a non-null ast node&#34;, node);</TD></TR><TR CLASS="z"><TD CLASS="l">1824</TD><TD>                assumeTrue(&#34;Not a method declaration&#34;, node.getNodeType() == ASTNode.FUNCTION_DECLARATION); //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">1825</TD><TD>                FunctionDeclaration method = (FunctionDeclaration) node;</TD></TR><TR><TD CLASS="l">1826</TD><TD>                // verify that first method includes comment</TD></TR><TR CLASS="z"><TD CLASS="l">1827</TD><TD>                int methodStart = compilUnit.getExtendedStartPosition(method);</TD></TR><TR CLASS="z"><TD CLASS="l">1828</TD><TD>                assumeEquals(&#34;Method &#34;+method+&#34; does not start at the right position&#34;, method.getStartPosition(), methodStart);</TD></TR><TR CLASS="z"><TD CLASS="l">1829</TD><TD>                int methodLength = compilUnit.getExtendedLength(method);</TD></TR><TR CLASS="z"><TD CLASS="l">1830</TD><TD>                assumeEquals(&#34;Method &#34;+method+&#34; does not have the right length&#34;, methodLength, method.getLength());</TD></TR><TR><TD CLASS="l">1831</TD><TD>                // get return type</TD></TR><TR CLASS="z"><TD CLASS="l">1832</TD><TD>                node = method.getReturnType();</TD></TR><TR CLASS="z"><TD CLASS="l">1833</TD><TD>                assumeNotNull(&#34;We should get a non-null ast node&#34;, node);</TD></TR><TR CLASS="z"><TD CLASS="l">1834</TD><TD>                assumeTrue(&#34;Not return type&#34;, node.getNodeType() == ASTNode.PRIMITIVE_TYPE); //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">1835</TD><TD>                PrimitiveType returnType = (PrimitiveType) node;</TD></TR><TR><TD CLASS="l">1836</TD><TD>                // verify that return type includes following comment</TD></TR><TR CLASS="z"><TD CLASS="l">1837</TD><TD>                int returnStart = compilUnit.getExtendedStartPosition(returnType);</TD></TR><TR CLASS="z"><TD CLASS="l">1838</TD><TD>                assumeEquals(&#34;Return type &#34;+returnType+&#34; does not start at the right position&#34;, returnType.getStartPosition(), returnStart);</TD></TR><TR CLASS="z"><TD CLASS="l">1839</TD><TD>                int returnLength = compilUnit.getExtendedLength(returnType);</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="59">1840</A></TD><TD>                assumeEquals(&#34;Return type &#34;+returnType+&#34; does not have the right length&#34;, returnType.getLength(), returnLength);</TD></TR><TR CLASS="z"><TD CLASS="l">1841</TD><TD>        }</TD></TR><TR><TD CLASS="l">1842</TD><TD>        public void testBug55223a() throws JavaScriptModelException {</TD></TR><TR><TD CLASS="l">1843</TD><TD>//                stopOnFailure = false;</TD></TR><TR CLASS="z"><TD CLASS="l">1844</TD><TD>                sourceUnit = getCompilationUnit(&#34;Converter&#34; , &#34;src&#34;, &#34;javadoc.testBug55223&#34;, &#34;TestA.js&#34;); //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$ //$NON-NLS-4$</TD></TR><TR CLASS="z"><TD CLASS="l">1845</TD><TD>                ASTNode result = runConversion(sourceUnit, false);</TD></TR><TR CLASS="z"><TD CLASS="l">1846</TD><TD>                final JavaScriptUnit compilUnit = (JavaScriptUnit) result;</TD></TR><TR CLASS="z"><TD CLASS="l">1847</TD><TD>                assumeEquals(prefix+&#34;Wrong number of problems&#34;, 0, compilUnit.getProblems().length); //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">1848</TD><TD>                assumeEquals(prefix+&#34;Wrong number of comments&#34;, 2, compilUnit.getCommentList().size());</TD></TR><TR><TD CLASS="l">1849</TD><TD>                // get method</TD></TR><TR CLASS="z"><TD CLASS="l">1850</TD><TD>                ASTNode node = getASTNode(compilUnit, 0, 0);</TD></TR><TR CLASS="z"><TD CLASS="l">1851</TD><TD>                assumeNotNull(&#34;We should get a non-null ast node&#34;, node);</TD></TR><TR CLASS="z"><TD CLASS="l">1852</TD><TD>                assumeEquals(&#34;Not a method declaration&#34;, ASTNode.FUNCTION_DECLARATION, node.getNodeType()); //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">1853</TD><TD>                FunctionDeclaration method = (FunctionDeclaration) node;</TD></TR><TR><TD CLASS="l">1854</TD><TD>                // get method body</TD></TR><TR CLASS="z"><TD CLASS="l">1855</TD><TD>                node = method.getBody();</TD></TR><TR CLASS="z"><TD CLASS="l">1856</TD><TD>                assumeNotNull(&#34;We should get a non-null ast node&#34;, node);</TD></TR><TR CLASS="z"><TD CLASS="l">1857</TD><TD>                assumeEquals(&#34;Not a block&#34;, ASTNode.BLOCK, node.getNodeType()); //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">1858</TD><TD>                Block block = (Block) node;</TD></TR><TR><TD CLASS="l">1859</TD><TD>                // verify block statements start/end positions</TD></TR><TR CLASS="z"><TD CLASS="l">1860</TD><TD>                Iterator statements = block.statements().iterator();</TD></TR><TR CLASS="z"><TD CLASS="l">1861</TD><TD>                int idx = 0;</TD></TR><TR CLASS="z"><TD CLASS="l">1862</TD><TD>                while (statements.hasNext()) {</TD></TR><TR CLASS="z"><TD CLASS="l">1863</TD><TD>                        node = (ExpressionStatement) statements.next();</TD></TR><TR CLASS="z"><TD CLASS="l">1864</TD><TD>                        assumeEquals(&#34;Not a block&#34;, ASTNode.EXPRESSION_STATEMENT, node.getNodeType()); //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">1865</TD><TD>                        ExpressionStatement statement = (ExpressionStatement) node;</TD></TR><TR CLASS="z"><TD CLASS="l">1866</TD><TD>                        int statementStart = statement.getStartPosition();</TD></TR><TR CLASS="z"><TD CLASS="l">1867</TD><TD>                        int statementEnd = statementStart + statement.getLength() - 1;</TD></TR><TR CLASS="z"><TD CLASS="l">1868</TD><TD>                        if (idx &lt; 2) {</TD></TR><TR><TD CLASS="l">1869</TD><TD>                                // Get comment range</TD></TR><TR CLASS="z"><TD CLASS="l">1870</TD><TD>                                Comment comment = (Comment) compilUnit.getCommentList().get(idx);</TD></TR><TR CLASS="z"><TD CLASS="l">1871</TD><TD>                                int commentStart = comment.getStartPosition();</TD></TR><TR CLASS="z"><TD CLASS="l">1872</TD><TD>                                statementEnd = commentStart+comment.getLength()-1;</TD></TR><TR><TD CLASS="l">1873</TD><TD>                        }</TD></TR><TR CLASS="z"><TD CLASS="l">1874</TD><TD>                        int extendedStart = compilUnit.getExtendedStartPosition(statement);</TD></TR><TR CLASS="z"><TD CLASS="l">1875</TD><TD>                        assumeEquals(&#34;Statement &#34;+statement+&#34; does not start at the right position&#34;, statementStart, extendedStart);</TD></TR><TR CLASS="z"><TD CLASS="l">1876</TD><TD>                        int extendedEnd = extendedStart + compilUnit.getExtendedLength(statement) - 1;</TD></TR><TR CLASS="z"><TD CLASS="l">1877</TD><TD>                        assumeEquals(&#34;Statement &#34;+statement+&#34; does not end at the right position&#34;, statementEnd, extendedEnd);</TD></TR><TR CLASS="z"><TD CLASS="l">1878</TD><TD>                        idx++;</TD></TR><TR><TD CLASS="l"><A NAME="5a">1879</A></TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">1880</TD><TD>        }</TD></TR><TR><TD CLASS="l">1881</TD><TD>        /** @deprecated using deprecated code */</TD></TR><TR><TD CLASS="l">1882</TD><TD>        public void testBug55223b() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1883</TD><TD>                sourceUnit = getCompilationUnit(&#34;Converter&#34; , &#34;src&#34;, &#34;javadoc.testBug55223&#34;, &#34;TestB.js&#34;); //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$ //$NON-NLS-4$</TD></TR><TR CLASS="z"><TD CLASS="l">1884</TD><TD>                ASTNode result = runConversion(sourceUnit, false);</TD></TR><TR CLASS="z"><TD CLASS="l">1885</TD><TD>                final JavaScriptUnit compilUnit = (JavaScriptUnit) result;</TD></TR><TR CLASS="z"><TD CLASS="l">1886</TD><TD>                assumeEquals(prefix+&#34;Wrong number of problems&#34;, 0, compilUnit.getProblems().length); //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">1887</TD><TD>                assumeEquals(prefix+&#34;Wrong number of comments&#34;, 2, compilUnit.getCommentList().size());</TD></TR><TR><TD CLASS="l">1888</TD><TD>                // Get comment range</TD></TR><TR CLASS="z"><TD CLASS="l">1889</TD><TD>                Comment comment = (Comment) compilUnit.getCommentList().get(1);</TD></TR><TR CLASS="z"><TD CLASS="l">1890</TD><TD>                int commentStart = comment.getStartPosition();</TD></TR><TR><TD CLASS="l">1891</TD><TD>                // get method</TD></TR><TR CLASS="z"><TD CLASS="l">1892</TD><TD>                ASTNode node = getASTNode(compilUnit, 0, 0);</TD></TR><TR CLASS="z"><TD CLASS="l">1893</TD><TD>                assumeNotNull(&#34;We should get a non-null ast node&#34;, node);</TD></TR><TR CLASS="z"><TD CLASS="l">1894</TD><TD>                assumeEquals(&#34;Not a method declaration&#34;, ASTNode.FUNCTION_DECLARATION, node.getNodeType()); //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">1895</TD><TD>                FunctionDeclaration method = (FunctionDeclaration) node;</TD></TR><TR><TD CLASS="l">1896</TD><TD>                // get return type</TD></TR><TR CLASS="z"><TD CLASS="l">1897</TD><TD>                node = method.getReturnType();</TD></TR><TR CLASS="z"><TD CLASS="l">1898</TD><TD>                assumeNotNull(&#34;We should get a non-null ast node&#34;, node);</TD></TR><TR CLASS="z"><TD CLASS="l">1899</TD><TD>                assumeTrue(&#34;Not return type&#34;, node.getNodeType() == ASTNode.SIMPLE_TYPE); //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">1900</TD><TD>                SimpleType returnType = (SimpleType) node;</TD></TR><TR><TD CLASS="l">1901</TD><TD>                // verify that return type includes following comment</TD></TR><TR CLASS="z"><TD CLASS="l">1902</TD><TD>                int returnStart = compilUnit.getExtendedStartPosition(returnType);</TD></TR><TR CLASS="z"><TD CLASS="l">1903</TD><TD>                assumeEquals(&#34;Return type &#34;+returnType+&#34; does not start at the right position&#34;, commentStart, returnStart);</TD></TR><TR CLASS="z"><TD CLASS="l">1904</TD><TD>                int returnEnd = returnStart + compilUnit.getExtendedLength(returnType) - 1;</TD></TR><TR CLASS="z"><TD CLASS="l">1905</TD><TD>                assumeEquals(&#34;Return type &#34;+returnType+&#34; does not end at the right length&#34;, returnType.getStartPosition()+returnType.getLength()-1, returnEnd);</TD></TR><TR CLASS="z"><TD CLASS="l">1906</TD><TD>        }</TD></TR><TR><TD CLASS="l">1907</TD><TD>        /*</TD></TR><TR><TD CLASS="l">1908</TD><TD>         * End DefaultCommentMapper verifications</TD></TR><TR><TD CLASS="l">1909</TD><TD>         */</TD></TR><TR><TD CLASS="l">1910</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="3f">1911</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">1912</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=48489&#34;</TD></TR><TR><TD CLASS="l">1913</TD><TD>         */</TD></TR><TR><TD CLASS="l">1914</TD><TD>        public void testBug48489() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1915</TD><TD>                verifyComments(&#34;testBug48489&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">1916</TD><TD>        }</TD></TR><TR><TD CLASS="l">1917</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="40">1918</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">1919</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=50898&#34;</TD></TR><TR><TD CLASS="l">1920</TD><TD>         */</TD></TR><TR><TD CLASS="l">1921</TD><TD>        public void testBug50898() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1922</TD><TD>                IJavaScriptUnit unit = getCompilationUnit(&#34;Converter&#34; , &#34;src&#34;, &#34;javadoc.testBug50898&#34;, &#34;Test.js&#34;); //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$ //$NON-NLS-4$</TD></TR><TR CLASS="z"><TD CLASS="l">1923</TD><TD>                packageBinding = false;</TD></TR><TR CLASS="z"><TD CLASS="l">1924</TD><TD>                verifyComments(unit);</TD></TR><TR CLASS="z"><TD CLASS="l">1925</TD><TD>        }</TD></TR><TR><TD CLASS="l">1926</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="41">1927</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">1928</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=51226&#34;</TD></TR><TR><TD CLASS="l">1929</TD><TD>         */</TD></TR><TR><TD CLASS="l">1930</TD><TD>        public void testBug51226() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1931</TD><TD>                IJavaScriptUnit[] units = getCompilationUnits(&#34;Converter&#34; , &#34;src&#34;, &#34;javadoc.testBug51226&#34;); //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$</TD></TR><TR CLASS="z"><TD CLASS="l">1932</TD><TD>                for (int i=0; i&lt;units.length; i++) {</TD></TR><TR CLASS="z"><TD CLASS="l">1933</TD><TD>                        ASTNode result = runConversion(units[i], false);</TD></TR><TR CLASS="z"><TD CLASS="l">1934</TD><TD>                        final JavaScriptUnit unit = (JavaScriptUnit) result;</TD></TR><TR CLASS="z"><TD CLASS="l">1935</TD><TD>                        assumeEquals(prefix+&#34;Wrong number of problems&#34;, 0, unit.getProblems().length); //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">1936</TD><TD>                        assumeEquals(prefix+&#34;Wrong number of comments&#34;, 1, unit.getCommentList().size());</TD></TR><TR CLASS="z"><TD CLASS="l">1937</TD><TD>                        Comment comment = (Comment) unit.getCommentList().get(0);</TD></TR><TR CLASS="z"><TD CLASS="l">1938</TD><TD>                        assumeTrue(prefix+&#34;Comment should be a Javadoc one&#34;, comment.isDocComment());</TD></TR><TR CLASS="z"><TD CLASS="l">1939</TD><TD>                        if (docCommentSupport.equals(JavaScriptCore.ENABLED)) {</TD></TR><TR CLASS="z"><TD CLASS="l">1940</TD><TD>                                JSdoc docComment = (JSdoc) comment;</TD></TR><TR CLASS="z"><TD CLASS="l">1941</TD><TD>                                assumeEquals(prefix+&#34;Wrong number of tags&#34;, 1, docComment.tags().size());</TD></TR><TR CLASS="z"><TD CLASS="l">1942</TD><TD>                                TagElement tagElement = (TagElement) docComment.tags().get(0);</TD></TR><TR CLASS="z"><TD CLASS="l">1943</TD><TD>                                assumeNull(prefix+&#34;Wrong type of tag [&#34;+tagElement+&#34;]&#34;, tagElement.getTagName());</TD></TR><TR CLASS="z"><TD CLASS="l">1944</TD><TD>                                assumeEquals(prefix+&#34;Wrong number of fragments in tag [&#34;+tagElement+&#34;]&#34;, 1, tagElement.fragments().size());</TD></TR><TR CLASS="z"><TD CLASS="l">1945</TD><TD>                                ASTNode fragment = (ASTNode) tagElement.fragments().get(0);</TD></TR><TR CLASS="z"><TD CLASS="l">1946</TD><TD>                                assumeEquals(prefix+&#34;Invalid type for fragment [&#34;+fragment+&#34;]&#34;, ASTNode.TEXT_ELEMENT, fragment.getNodeType());</TD></TR><TR CLASS="z"><TD CLASS="l">1947</TD><TD>                                TextElement textElement = (TextElement) fragment;</TD></TR><TR CLASS="z"><TD CLASS="l">1948</TD><TD>                                assumeEquals(prefix+&#34;Invalid content for text element &#34;, &#34;Test&#34;, textElement.getText());</TD></TR><TR CLASS="z"><TD CLASS="l">1949</TD><TD>                                if (debug) System.out.println(docComment+&#34;\nsuccessfully verified.&#34;);</TD></TR><TR><TD CLASS="l">1950</TD><TD>                        }</TD></TR><TR><TD CLASS="l">1951</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">1952</TD><TD>        }</TD></TR><TR><TD CLASS="l">1953</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="42">1954</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">1955</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=51241&#34;</TD></TR><TR><TD CLASS="l">1956</TD><TD>         */</TD></TR><TR><TD CLASS="l">1957</TD><TD>        public void testBug51241() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1958</TD><TD>                verifyComments(&#34;testBug51241&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">1959</TD><TD>        }</TD></TR><TR><TD CLASS="l">1960</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="43">1961</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">1962</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=51363&#34;</TD></TR><TR><TD CLASS="l">1963</TD><TD>         */</TD></TR><TR><TD CLASS="l">1964</TD><TD>        public void testBug51363() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1965</TD><TD>                sourceUnit = getCompilationUnit(&#34;Converter&#34; , &#34;src&#34;, &#34;javadoc.testBug51363&#34;, &#34;Test.js&#34;); //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$ //$NON-NLS-4$</TD></TR><TR CLASS="z"><TD CLASS="l">1966</TD><TD>                ASTNode result = runConversion(sourceUnit, false);</TD></TR><TR CLASS="z"><TD CLASS="l">1967</TD><TD>                final JavaScriptUnit unit = (JavaScriptUnit) result;</TD></TR><TR CLASS="z"><TD CLASS="l">1968</TD><TD>                assumeEquals(prefix+&#34;Wrong number of problems&#34;, 0, unit.getProblems().length); //$NON-NLS-1$</TD></TR><TR CLASS="z"><TD CLASS="l">1969</TD><TD>                assumeEquals(prefix+&#34;Wrong number of comments&#34;, 2, unit.getCommentList().size());</TD></TR><TR><TD CLASS="l">1970</TD><TD>                // verify first comment</TD></TR><TR CLASS="z"><TD CLASS="l">1971</TD><TD>                Comment comment = (Comment) unit.getCommentList().get(0);</TD></TR><TR CLASS="z"><TD CLASS="l">1972</TD><TD>                assumeTrue(prefix+&#34;Comment should be a line comment &#34;, comment.isLineComment());</TD></TR><TR CLASS="z"><TD CLASS="l">1973</TD><TD>                String sourceStr = sourceUnit.getSource();</TD></TR><TR CLASS="z"><TD CLASS="l">1974</TD><TD>                int startPos = comment.getStartPosition()+comment.getLength();</TD></TR><TR CLASS="z"><TD CLASS="l">1975</TD><TD>                assumeEquals(&#34;Wrong length for line comment &#34;+comment, &#34;\\u000D\\u000A&#34;, sourceStr.substring(startPos, startPos+12));</TD></TR><TR CLASS="z"><TD CLASS="l">1976</TD><TD>                if (debug) System.out.println(comment+&#34;\nsuccessfully verified.&#34;);</TD></TR><TR><TD CLASS="l">1977</TD><TD>                // verify second comment</TD></TR><TR CLASS="z"><TD CLASS="l">1978</TD><TD>                comment = (Comment) unit.getCommentList().get(1);</TD></TR><TR CLASS="z"><TD CLASS="l">1979</TD><TD>                assumeTrue(prefix+&#34;Comment should be a line comment&#34;, comment.isLineComment());</TD></TR><TR CLASS="z"><TD CLASS="l">1980</TD><TD>                sourceStr = sourceUnit.getSource();</TD></TR><TR CLASS="z"><TD CLASS="l">1981</TD><TD>                startPos = comment.getStartPosition()+comment.getLength();</TD></TR><TR CLASS="z"><TD CLASS="l">1982</TD><TD>                assumeEquals(&#34;Wrong length for line comment &#34;+comment, &#34;\\u000Dvoid&#34;, sourceStr.substring(startPos, startPos+10));</TD></TR><TR CLASS="z"><TD CLASS="l">1983</TD><TD>                if (debug) System.out.println(comment+&#34;\nsuccessfully verified.&#34;);</TD></TR><TR><TD CLASS="l">1984</TD><TD>//                verifyComments(&#34;testBug51363&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">1985</TD><TD>        }</TD></TR><TR><TD CLASS="l">1986</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="44">1987</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">1988</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=51476&#34;</TD></TR><TR><TD CLASS="l">1989</TD><TD>         */</TD></TR><TR><TD CLASS="l">1990</TD><TD>        public void testBug51476() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1991</TD><TD>                verifyComments(&#34;testBug51476&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">1992</TD><TD>        }</TD></TR><TR><TD CLASS="l">1993</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="45">1994</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">1995</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=51478&#34;</TD></TR><TR><TD CLASS="l">1996</TD><TD>         */</TD></TR><TR><TD CLASS="l">1997</TD><TD>        public void testBug51478() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">1998</TD><TD>                verifyComments(&#34;testBug51478&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">1999</TD><TD>        }</TD></TR><TR><TD CLASS="l">2000</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="46">2001</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">2002</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=51508&#34;</TD></TR><TR><TD CLASS="l">2003</TD><TD>         */</TD></TR><TR><TD CLASS="l">2004</TD><TD>        public void testBug51508() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2005</TD><TD>                verifyComments(&#34;testBug51508&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">2006</TD><TD>        }</TD></TR><TR><TD CLASS="l">2007</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="49">2008</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">2009</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=51650&#34;</TD></TR><TR><TD CLASS="l">2010</TD><TD>         */</TD></TR><TR><TD CLASS="l">2011</TD><TD>        public void testBug51650() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2012</TD><TD>                verifyComments(&#34;testBug51650&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">2013</TD><TD>        }</TD></TR><TR><TD CLASS="l">2014</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="4b">2015</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">2016</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=51770&#34;</TD></TR><TR><TD CLASS="l">2017</TD><TD>         */</TD></TR><TR><TD CLASS="l">2018</TD><TD>        public void testBug51770() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2019</TD><TD>                verifyComments(&#34;testBug51770&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">2020</TD><TD>        }</TD></TR><TR><TD CLASS="l">2021</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="4d">2022</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">2023</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=52908&#34;</TD></TR><TR><TD CLASS="l">2024</TD><TD>         */</TD></TR><TR><TD CLASS="l"><A NAME="4e">2025</A></TD><TD>        public void testBug52908() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2026</TD><TD>                verifyComments(&#34;testBug52908&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">2027</TD><TD>        }</TD></TR><TR><TD CLASS="l"><A NAME="4f">2028</A></TD><TD>        public void testBug52908a() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2029</TD><TD>                verifyComments(&#34;testBug52908a&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">2030</TD><TD>        }</TD></TR><TR><TD CLASS="l">2031</TD><TD>        public void testBug52908unicode() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2032</TD><TD>                verifyComments(&#34;testBug52908unicode&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">2033</TD><TD>        }</TD></TR><TR><TD CLASS="l">2034</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="51">2035</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">2036</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=53276&#34;</TD></TR><TR><TD CLASS="l">2037</TD><TD>         */</TD></TR><TR><TD CLASS="l">2038</TD><TD>        public void testBug53276() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2039</TD><TD>                verifyComments(&#34;testBug53276&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">2040</TD><TD>        }</TD></TR><TR><TD CLASS="l">2041</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="50">2042</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">2043</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=53075&#34;</TD></TR><TR><TD CLASS="l">2044</TD><TD>         */</TD></TR><TR><TD CLASS="l">2045</TD><TD>        public void testBug53075() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2046</TD><TD>                IJavaScriptUnit unit = getCompilationUnit(&#34;Converter&#34; , &#34;src&#34;, &#34;javadoc.testBug53075&#34;, &#34;X.js&#34;); //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$ //$NON-NLS-4$</TD></TR><TR CLASS="z"><TD CLASS="l">2047</TD><TD>                boolean pb = packageBinding;</TD></TR><TR CLASS="z"><TD CLASS="l">2048</TD><TD>                packageBinding = false;</TD></TR><TR CLASS="z"><TD CLASS="l">2049</TD><TD>                JavaScriptUnit compilUnit = verifyComments(unit);</TD></TR><TR CLASS="z"><TD CLASS="l">2050</TD><TD>                if (docCommentSupport.equals(JavaScriptCore.ENABLED)) {</TD></TR><TR CLASS="z"><TD CLASS="l">2051</TD><TD>                        Comment comment = (Comment) compilUnit.getCommentList().get(0);</TD></TR><TR CLASS="z"><TD CLASS="l">2052</TD><TD>                        assumeTrue(prefix+&#34;Comment should be a javadoc comment &#34;, comment.isDocComment());</TD></TR><TR CLASS="z"><TD CLASS="l">2053</TD><TD>                        JSdoc docComment = (JSdoc) comment;</TD></TR><TR CLASS="z"><TD CLASS="l">2054</TD><TD>                        TagElement tagElement = (TagElement) docComment.tags().get(0);</TD></TR><TR CLASS="z"><TD CLASS="l">2055</TD><TD>                        assumeEquals(&#34;Wrong tag type!&#34;, TagElement.TAG_LINK, tagElement.getTagName());</TD></TR><TR CLASS="z"><TD CLASS="l">2056</TD><TD>                        tagElement = (TagElement) docComment.tags().get(1);</TD></TR><TR CLASS="z"><TD CLASS="l">2057</TD><TD>                        assumeEquals(&#34;Wrong tag type!&#34;, TagElement.TAG_LINKPLAIN, tagElement.getTagName());</TD></TR><TR><TD CLASS="l">2058</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">2059</TD><TD>                packageBinding = pb;</TD></TR><TR CLASS="z"><TD CLASS="l">2060</TD><TD>        }</TD></TR><TR><TD CLASS="l">2061</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="52">2062</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">2063</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=53757&#34;</TD></TR><TR><TD CLASS="l">2064</TD><TD>         */</TD></TR><TR><TD CLASS="l">2065</TD><TD>        public void testBug53757() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2066</TD><TD>                verifyComments(&#34;testBug53757&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">2067</TD><TD>        }</TD></TR><TR><TD CLASS="l">2068</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="47">2069</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">2070</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=51600&#34;</TD></TR><TR><TD CLASS="l">2071</TD><TD>         */</TD></TR><TR><TD CLASS="l"><A NAME="48">2072</A></TD><TD>        public void testBug51600() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2073</TD><TD>                verifyComments(&#34;testBug51600&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">2074</TD><TD>        }</TD></TR><TR><TD CLASS="l">2075</TD><TD>        public void testBug51617() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2076</TD><TD>                stopOnFailure = false;</TD></TR><TR CLASS="z"><TD CLASS="l">2077</TD><TD>                String [] unbound = { &#34;e&#34; };</TD></TR><TR CLASS="z"><TD CLASS="l">2078</TD><TD>                verifyComments(&#34;testBug51617&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">2079</TD><TD>                if (docCommentSupport.equals(JavaScriptCore.ENABLED)) {</TD></TR><TR CLASS="z"><TD CLASS="l">2080</TD><TD>                        int size = unbound.length;</TD></TR><TR CLASS="z"><TD CLASS="l">2081</TD><TD>                        for (int i=0, f=0; i&lt;size; i++) {</TD></TR><TR CLASS="z"><TD CLASS="l">2082</TD><TD>                                assertTrue(&#34;Invalid number of failures!&#34;, failures.size()&gt;f);</TD></TR><TR CLASS="z"><TD CLASS="l">2083</TD><TD>                                String failure = (String) failures.get(f);</TD></TR><TR CLASS="z"><TD CLASS="l">2084</TD><TD>                                String expected = &#34;Reference '&#34;+unbound[i]+&#34;' should be bound!&#34;;</TD></TR><TR CLASS="z"><TD CLASS="l">2085</TD><TD>                                if (expected.equals(failure.substring(failure.indexOf(' ')+1))) {</TD></TR><TR CLASS="z"><TD CLASS="l">2086</TD><TD>                                        failures.remove(f);</TD></TR><TR><TD CLASS="l">2087</TD><TD>                                } else {</TD></TR><TR CLASS="z"><TD CLASS="l">2088</TD><TD>                                        f++;        // skip offending failure</TD></TR><TR CLASS="z"><TD CLASS="l">2089</TD><TD>                                        i--;        // stay on expected string</TD></TR><TR><TD CLASS="l">2090</TD><TD>                                }</TD></TR><TR><TD CLASS="l">2091</TD><TD>                        }</TD></TR><TR><TD CLASS="l"><A NAME="53">2092</A></TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">2093</TD><TD>                stopOnFailure = true;</TD></TR><TR CLASS="z"><TD CLASS="l">2094</TD><TD>        }</TD></TR><TR><TD CLASS="l">2095</TD><TD>        public void testBug54424() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2096</TD><TD>                stopOnFailure = false;</TD></TR><TR CLASS="z"><TD CLASS="l">2097</TD><TD>                String [] unbound = { &#34;tho&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2098</TD><TD>                                &#34;from&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2099</TD><TD>                                &#34;A#getList(int,long,boolean)&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2100</TD><TD>                                &#34;#getList(Object,java.util.AbstractList)&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2101</TD><TD>                                &#34;from&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2102</TD><TD>                                &#34;#getList(int from,long tho)&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2103</TD><TD>                                &#34;to&#34;</TD></TR><TR><TD CLASS="l">2104</TD><TD>                };</TD></TR><TR CLASS="z"><TD CLASS="l">2105</TD><TD>                verifyComments(&#34;testBug54424&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">2106</TD><TD>                if (docCommentSupport.equals(JavaScriptCore.ENABLED)) {</TD></TR><TR CLASS="z"><TD CLASS="l">2107</TD><TD>                        int size = unbound.length;</TD></TR><TR CLASS="z"><TD CLASS="l">2108</TD><TD>                        for (int i=0, f=0; i&lt;size; i++) {</TD></TR><TR CLASS="z"><TD CLASS="l">2109</TD><TD>                                assertTrue(&#34;Invalid number of failures!&#34;, failures.size()&gt;f);</TD></TR><TR CLASS="z"><TD CLASS="l">2110</TD><TD>                                String failure = (String) failures.get(f);</TD></TR><TR CLASS="z"><TD CLASS="l">2111</TD><TD>                                String expected = &#34;Reference '&#34;+unbound[i]+&#34;' should be bound!&#34;;</TD></TR><TR CLASS="z"><TD CLASS="l">2112</TD><TD>                                if (expected.equals(failure.substring(failure.indexOf(' ')+1))) {</TD></TR><TR CLASS="z"><TD CLASS="l">2113</TD><TD>                                        failures.remove(f);</TD></TR><TR><TD CLASS="l">2114</TD><TD>                                } else {</TD></TR><TR CLASS="z"><TD CLASS="l">2115</TD><TD>                                        f++;        // skip offending failure</TD></TR><TR CLASS="z"><TD CLASS="l">2116</TD><TD>                                        i--;        // stay on expected string</TD></TR><TR><TD CLASS="l">2117</TD><TD>                                }</TD></TR><TR><TD CLASS="l">2118</TD><TD>                        }</TD></TR><TR><TD CLASS="l">2119</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">2120</TD><TD>                stopOnFailure = true;</TD></TR><TR CLASS="z"><TD CLASS="l">2121</TD><TD>        }</TD></TR><TR><TD CLASS="l">2122</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="5b">2123</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">2124</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=63044&#34;</TD></TR><TR><TD CLASS="l">2125</TD><TD>         */</TD></TR><TR><TD CLASS="l">2126</TD><TD>        public void testBug63044() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2127</TD><TD>                verifyComments(&#34;testBug63044&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">2128</TD><TD>        }</TD></TR><TR><TD CLASS="l">2129</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="4a">2130</A></TD><TD>        /**</TD></TR><TR><TD CLASS="l">2131</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=51660&#34;</TD></TR><TR><TD CLASS="l">2132</TD><TD>         */</TD></TR><TR><TD CLASS="l">2133</TD><TD>        public void testBug51660() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2134</TD><TD>                stopOnFailure = false;</TD></TR><TR CLASS="z"><TD CLASS="l">2135</TD><TD>                IJavaScriptUnit unit = getCompilationUnit(&#34;Converter&#34; , &#34;src&#34;, &#34;javadoc.testBug51660&#34;, &#34;Test.js&#34;); //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$ //$NON-NLS-4$</TD></TR><TR CLASS="z"><TD CLASS="l">2136</TD><TD>                JavaScriptUnit compilUnit = verifyComments(unit);</TD></TR><TR CLASS="z"><TD CLASS="l">2137</TD><TD>                if (docCommentSupport.equals(JavaScriptCore.ENABLED)) {</TD></TR><TR CLASS="z"><TD CLASS="l">2138</TD><TD>                        String[] tagNames = {</TD></TR><TR CLASS="z"><TD CLASS="l">2139</TD><TD>                                &#34;@ejb&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2140</TD><TD>                                &#34;@ejb&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2141</TD><TD>                                &#34;@ejb&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2142</TD><TD>                                &#34;@ejb&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2143</TD><TD>                                &#34;@ejb&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2144</TD><TD>                                &#34;@ejb&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2145</TD><TD>                                &#34;@ejb(bean&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2146</TD><TD>                                &#34;@ejb)bean&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2147</TD><TD>                                &#34;@ejb&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2148</TD><TD>                                &#34;@ejb+bean&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2149</TD><TD>                                &#34;@ejb,bean&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2150</TD><TD>                                &#34;@ejb-bean&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2151</TD><TD>                                &#34;@ejb.bean&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2152</TD><TD>                                &#34;@ejb/bean&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2153</TD><TD>                                &#34;@ejb&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2154</TD><TD>                                &#34;@ejb;bean&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2155</TD><TD>                                &#34;@ejb&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2156</TD><TD>                                &#34;@ejb=bean&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2157</TD><TD>                                &#34;@ejb&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2158</TD><TD>                                &#34;@ejb?bean&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2159</TD><TD>                                &#34;@ejb@bean&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2160</TD><TD>                                &#34;@ejb[bean&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2161</TD><TD>                                &#34;@ejb\\bean&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2162</TD><TD>                                &#34;@ejb]bean&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2163</TD><TD>                                &#34;@ejb^bean&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2164</TD><TD>                                &#34;@ejb`bean&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2165</TD><TD>                                &#34;@ejb{bean&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2166</TD><TD>                                &#34;@ejb|bean&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2167</TD><TD>                                &#34;@ejb&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2168</TD><TD>                                &#34;@ejb~bean&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2169</TD><TD>                                &#34;@unknown&#34;</TD></TR><TR><TD CLASS="l">2170</TD><TD>                        };</TD></TR><TR CLASS="z"><TD CLASS="l">2171</TD><TD>                        String[] tagTexts = {</TD></TR><TR CLASS="z"><TD CLASS="l">2172</TD><TD>                                &#34;!bean test non-java id character '!' (val=33) in tag name&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2173</TD><TD>                                &#34;\&#34;bean test non-java id character '\&#34;' (val=34) in tag name&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2174</TD><TD>                                &#34;#bean test non-java id character '#' (val=35) in tag name&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2175</TD><TD>                                &#34;%bean test non-java id character '%' (val=37) in tag name&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2176</TD><TD>                                &#34;&amp;bean test non-java id character '&amp;' (val=38) in tag name&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2177</TD><TD>                                &#34;'bean test non-java id character ''' (val=39) in tag name&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2178</TD><TD>                                &#34; test non-java id character '(' (val=40) in tag name&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2179</TD><TD>                                &#34; test non-java id character ')' (val=41) in tag name&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2180</TD><TD>                                &#34;*bean test non-java id character '*' (val=42) in tag name&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2181</TD><TD>                                &#34; test non-java id character '+' (val=43) in tag name&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2182</TD><TD>                                &#34; test non-java id character ',' (val=44) in tag name&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2183</TD><TD>                                &#34; test non-java id character '-' (val=45) in tag name&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2184</TD><TD>                                &#34; test non-java id character '.' (val=46) in tag name&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2185</TD><TD>                                &#34; test non-java id character '/' (val=47) in tag name&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2186</TD><TD>                                &#34;:bean test non-java id character ':' (val=58) in tag name&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2187</TD><TD>                                &#34; test non-java id character ';' (val=59) in tag name&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2188</TD><TD>                                &#34;&lt;bean test non-java id character '&lt;' (val=60) in tag name&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2189</TD><TD>                                &#34; test non-java id character '=' (val=61) in tag name&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2190</TD><TD>                                &#34;&gt;bean test non-java id character '&gt;' (val=62) in tag name&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2191</TD><TD>                                &#34; test non-java id character '?' (val=63) in tag name&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2192</TD><TD>                                &#34; test non-java id character '@' (val=64) in tag name&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2193</TD><TD>                                &#34; test non-java id character '[' (val=91) in tag name&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2194</TD><TD>                                &#34; test non-java id character '\\' (val=92) in tag name&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2195</TD><TD>                                &#34; test non-java id character ']' (val=93) in tag name&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2196</TD><TD>                                &#34; test non-java id character '^' (val=94) in tag name&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2197</TD><TD>                                &#34; test non-java id character '`' (val=96) in tag name&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2198</TD><TD>                                &#34; test non-java id character '{' (val=123) in tag name&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2199</TD><TD>                                &#34; test non-java id character '|' (val=124) in tag name&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2200</TD><TD>                                &#34;}bean test non-java id character '}' (val=125) in tag name&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2201</TD><TD>                                &#34; test non-java id character '~' (val=126) in tag name&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2202</TD><TD>                                &#34; test java id&#34;</TD></TR><TR><TD CLASS="l">2203</TD><TD>                        };</TD></TR><TR CLASS="z"><TD CLASS="l">2204</TD><TD>                        Comment comment = (Comment) compilUnit.getCommentList().get(0);</TD></TR><TR CLASS="z"><TD CLASS="l">2205</TD><TD>                        assumeTrue(prefix+&#34;Comment should be a javadoc comment &#34;, comment.isDocComment());</TD></TR><TR CLASS="z"><TD CLASS="l">2206</TD><TD>                        JSdoc docComment = (JSdoc) comment;</TD></TR><TR CLASS="z"><TD CLASS="l">2207</TD><TD>                        int size = docComment.tags().size();</TD></TR><TR CLASS="z"><TD CLASS="l">2208</TD><TD>                        for (int i=0; i&lt;size; i++) {</TD></TR><TR CLASS="z"><TD CLASS="l">2209</TD><TD>                                TagElement tagElement = (TagElement) docComment.tags().get(i);</TD></TR><TR CLASS="z"><TD CLASS="l">2210</TD><TD>                                assumeEquals(&#34;Wrong tag name for:&#34;+tagElement, tagNames[i], tagElement.getTagName());</TD></TR><TR CLASS="z"><TD CLASS="l">2211</TD><TD>                                assumeEquals(&#34;Wrong fragments size for :&#34;+tagElement, 1, tagElement.fragments().size());</TD></TR><TR CLASS="z"><TD CLASS="l">2212</TD><TD>                                ASTNode fragment = (ASTNode) tagElement.fragments().get(0);</TD></TR><TR CLASS="z"><TD CLASS="l">2213</TD><TD>                                assumeEquals(&#34;Wrong fragments type for :&#34;+tagElement, ASTNode.TEXT_ELEMENT, fragment.getNodeType());</TD></TR><TR CLASS="z"><TD CLASS="l">2214</TD><TD>                                TextElement textElement = (TextElement) fragment;</TD></TR><TR CLASS="z"><TD CLASS="l">2215</TD><TD>                                assumeEquals(&#34;Wrong text for tag!&#34;, tagTexts[i], textElement.getText());</TD></TR><TR><TD CLASS="l">2216</TD><TD>                        }</TD></TR><TR><TD CLASS="l">2217</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">2218</TD><TD>                stopOnFailure = true;</TD></TR><TR CLASS="z"><TD CLASS="l">2219</TD><TD>        }</TD></TR><TR><TD CLASS="l">2220</TD><TD> </TD></TR><TR><TD CLASS="l">2221</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="5c">2222</A></TD><TD>         * Bug 65174: Spurious &#34;Javadoc: Missing reference&#34; error</TD></TR><TR><TD CLASS="l">2223</TD><TD>         * @see &#34;http://bugs.eclipse.org/bugs/show_bug.cgi?id=65174&#34;</TD></TR><TR><TD CLASS="l">2224</TD><TD>         */</TD></TR><TR><TD CLASS="l">2225</TD><TD>        public void testBug65174() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2226</TD><TD>                verifyComments(&#34;testBug65174&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">2227</TD><TD>        }</TD></TR><TR><TD CLASS="l">2228</TD><TD> </TD></TR><TR><TD CLASS="l">2229</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="5d">2230</A></TD><TD>         * Bug 65253: [Javadoc] @@tag is wrongly parsed as @tag</TD></TR><TR><TD CLASS="l">2231</TD><TD>         * @see &#34;http://bugs.eclipse.org/bugs/show_bug.cgi?id=65253&#34;</TD></TR><TR><TD CLASS="l">2232</TD><TD>         */</TD></TR><TR><TD CLASS="l">2233</TD><TD>        public void testBug65253() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2234</TD><TD>                verifyComments(&#34;testBug65253&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">2235</TD><TD>        }</TD></TR><TR><TD CLASS="l">2236</TD><TD> </TD></TR><TR><TD CLASS="l">2237</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="5e">2238</A></TD><TD>         * Bug 65288: Javadoc: tag gets mangled when javadoc closing on same line without whitespace</TD></TR><TR><TD CLASS="l">2239</TD><TD>         * @see &#34;http://bugs.eclipse.org/bugs/show_bug.cgi?id=65288&#34;</TD></TR><TR><TD CLASS="l">2240</TD><TD>         */</TD></TR><TR><TD CLASS="l">2241</TD><TD>        public void testBug65288() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2242</TD><TD>                verifyComments(&#34;testBug65288&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">2243</TD><TD>        }</TD></TR><TR><TD CLASS="l">2244</TD><TD> </TD></TR><TR><TD CLASS="l">2245</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="5f">2246</A></TD><TD>         * Bug 68017: Javadoc processing does not detect missing argument to @return</TD></TR><TR><TD CLASS="l">2247</TD><TD>         * @see &#34;http://bugs.eclipse.org/bugs/show_bug.cgi?id=68017&#34;</TD></TR><TR><TD CLASS="l">2248</TD><TD>         */</TD></TR><TR><TD CLASS="l">2249</TD><TD>        public void testBug68017() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2250</TD><TD>                verifyComments(&#34;testBug68017&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">2251</TD><TD>        }</TD></TR><TR><TD CLASS="l">2252</TD><TD> </TD></TR><TR><TD CLASS="l">2253</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="60">2254</A></TD><TD>         * Bug 68025: Javadoc processing does not detect some wrong links</TD></TR><TR><TD CLASS="l">2255</TD><TD>         * @see &#34;http://bugs.eclipse.org/bugs/show_bug.cgi?id=68025&#34;</TD></TR><TR><TD CLASS="l">2256</TD><TD>         */</TD></TR><TR><TD CLASS="l">2257</TD><TD>        public void testBug68025() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2258</TD><TD>                verifyComments(&#34;testBug68025&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">2259</TD><TD>        }</TD></TR><TR><TD CLASS="l">2260</TD><TD> </TD></TR><TR><TD CLASS="l">2261</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="62">2262</A></TD><TD>         * Bug 69272: [Javadoc] Invalid malformed reference (missing separator)</TD></TR><TR><TD CLASS="l">2263</TD><TD>         * @see &#34;http://bugs.eclipse.org/bugs/show_bug.cgi?id=69272&#34;</TD></TR><TR><TD CLASS="l">2264</TD><TD>         */</TD></TR><TR><TD CLASS="l">2265</TD><TD>        public void testBug69272() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2266</TD><TD>                verifyComments(&#34;testBug69272&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">2267</TD><TD>        }</TD></TR><TR><TD CLASS="l">2268</TD><TD> </TD></TR><TR><TD CLASS="l">2269</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="63">2270</A></TD><TD>         * Bug 69275: [Javadoc] Invalid warning on @see link</TD></TR><TR><TD CLASS="l">2271</TD><TD>         * @see &#34;http://bugs.eclipse.org/bugs/show_bug.cgi?id=69275&#34;</TD></TR><TR><TD CLASS="l">2272</TD><TD>         */</TD></TR><TR><TD CLASS="l">2273</TD><TD>        public void testBug69275() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2274</TD><TD>                verifyComments(&#34;testBug69275&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">2275</TD><TD>        }</TD></TR><TR><TD CLASS="l">2276</TD><TD> </TD></TR><TR><TD CLASS="l">2277</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="64">2278</A></TD><TD>         * Bug 69302: [Javadoc] Invalid reference warning inconsistent with javadoc tool</TD></TR><TR><TD CLASS="l">2279</TD><TD>         * @see &#34;http://bugs.eclipse.org/bugs/show_bug.cgi?id=69302&#34;</TD></TR><TR><TD CLASS="l">2280</TD><TD>         */</TD></TR><TR><TD CLASS="l">2281</TD><TD>        public void testBug69302() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2282</TD><TD>                verifyComments(&#34;testBug69302&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">2283</TD><TD>        }</TD></TR><TR><TD CLASS="l">2284</TD><TD> </TD></TR><TR><TD CLASS="l">2285</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="61">2286</A></TD><TD>         * Bug 68726: [Javadoc] Target attribute in @see link triggers warning</TD></TR><TR><TD CLASS="l">2287</TD><TD>         * @see &#34;http://bugs.eclipse.org/bugs/show_bug.cgi?id=68726&#34;</TD></TR><TR><TD CLASS="l">2288</TD><TD>         */</TD></TR><TR><TD CLASS="l">2289</TD><TD>        public void testBug68726() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2290</TD><TD>                verifyComments(&#34;testBug68726&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">2291</TD><TD>        }</TD></TR><TR><TD CLASS="l">2292</TD><TD> </TD></TR><TR><TD CLASS="l">2293</TD><TD>        /**</TD></TR><TR><TD CLASS="l">2294</TD><TD>         * Bug 70892: [1.5][Javadoc] Compiler should parse reference for inline tag @value</TD></TR><TR><TD CLASS="l"><A NAME="65">2295</A></TD><TD>         * @see &#34;http://bugs.eclipse.org/bugs/show_bug.cgi?id=70892&#34;</TD></TR><TR><TD CLASS="l">2296</TD><TD>         * @deprecated using deprecated code</TD></TR><TR><TD CLASS="l">2297</TD><TD>         */</TD></TR><TR><TD CLASS="l">2298</TD><TD>        public void testBug70892_JLS2() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2299</TD><TD>                int level = astLevel;</TD></TR><TR CLASS="z"><TD CLASS="l">2300</TD><TD>                astLevel = AST.JLS2;</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="66">2301</A></TD><TD>                verifyComments(&#34;testBug70892&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">2302</TD><TD>                astLevel = level;</TD></TR><TR CLASS="z"><TD CLASS="l">2303</TD><TD>        }</TD></TR><TR><TD CLASS="l">2304</TD><TD>        public void testBug70892_JLS3() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2305</TD><TD>                int level = astLevel;</TD></TR><TR CLASS="z"><TD CLASS="l">2306</TD><TD>                astLevel = AST.JLS3;</TD></TR><TR CLASS="z"><TD CLASS="l">2307</TD><TD>                verifyComments(&#34;testBug70892&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">2308</TD><TD>                astLevel = level;</TD></TR><TR CLASS="z"><TD CLASS="l">2309</TD><TD>        }</TD></TR><TR><TD CLASS="l">2310</TD><TD> </TD></TR><TR><TD CLASS="l">2311</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="4c">2312</A></TD><TD>         * Bug 51911: [Javadoc] @see method w/out ()</TD></TR><TR><TD CLASS="l">2313</TD><TD>         * @see &#34;http://bugs.eclipse.org/bugs/show_bug.cgi?id=51911&#34;</TD></TR><TR><TD CLASS="l">2314</TD><TD>         */</TD></TR><TR><TD CLASS="l">2315</TD><TD>        public void testBug51911() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2316</TD><TD>                verifyComments(&#34;testBug51911&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">2317</TD><TD>        }</TD></TR><TR><TD CLASS="l">2318</TD><TD> </TD></TR><TR><TD CLASS="l">2319</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="67">2320</A></TD><TD>         * Bug 73348: [Javadoc] Missing description for return tag is not always warned</TD></TR><TR><TD CLASS="l">2321</TD><TD>         * @see &#34;http://bugs.eclipse.org/bugs/show_bug.cgi?id=73348&#34;</TD></TR><TR><TD CLASS="l">2322</TD><TD>         */</TD></TR><TR><TD CLASS="l">2323</TD><TD>        public void testBug73348() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2324</TD><TD>                verifyComments(&#34;testBug73348&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">2325</TD><TD>        }</TD></TR><TR><TD CLASS="l">2326</TD><TD> </TD></TR><TR><TD CLASS="l">2327</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="68">2328</A></TD><TD>         * Bug 77644: [dom] AST node extended positions may be wrong while moving</TD></TR><TR><TD CLASS="l">2329</TD><TD>         * @see &#34;http://bugs.eclipse.org/bugs/show_bug.cgi?id=77644&#34;</TD></TR><TR><TD CLASS="l">2330</TD><TD>         */</TD></TR><TR><TD CLASS="l">2331</TD><TD>        public void testBug77644() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2332</TD><TD>                verifyComments(&#34;testBug77644&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">2333</TD><TD>        }</TD></TR><TR><TD CLASS="l">2334</TD><TD> </TD></TR><TR><TD CLASS="l">2335</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="69">2336</A></TD><TD>         * Bug 79809: [1.5][dom][javadoc] Need better support for type parameter Javadoc tags</TD></TR><TR><TD CLASS="l">2337</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=79809&#34;</TD></TR><TR><TD CLASS="l">2338</TD><TD>         */</TD></TR><TR><TD CLASS="l">2339</TD><TD>        public void testBug79809() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2340</TD><TD>                workingCopies = new IJavaScriptUnit[1];</TD></TR><TR CLASS="z"><TD CLASS="l">2341</TD><TD>                astLevel = AST.JLS3;</TD></TR><TR CLASS="z"><TD CLASS="l">2342</TD><TD>                workingCopies[0] = getWorkingCopy(&#34;/Converter/src/javadoc/b79809/Test.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2343</TD><TD>                        &#34;package javadoc.b79809;\n&#34; +</TD></TR><TR><TD CLASS="l">2344</TD><TD>                        &#34;/**\n&#34; + </TD></TR><TR><TD CLASS="l">2345</TD><TD>                        &#34; * @param &lt;E&gt;  Class type parameter\n&#34; + </TD></TR><TR><TD CLASS="l">2346</TD><TD>                        &#34; * @see Object\n&#34; + </TD></TR><TR><TD CLASS="l">2347</TD><TD>                        &#34; */\n&#34; + </TD></TR><TR><TD CLASS="l">2348</TD><TD>                        &#34;public class Test&lt;E&gt; {\n&#34; + </TD></TR><TR><TD CLASS="l">2349</TD><TD>                        &#34;        /**\n&#34; + </TD></TR><TR><TD CLASS="l">2350</TD><TD>                        &#34;         * @param t\n&#34; + </TD></TR><TR><TD CLASS="l">2351</TD><TD>                        &#34;         * @param &lt;T&gt; Method type parameter\n&#34; + </TD></TR><TR><TD CLASS="l">2352</TD><TD>                        &#34;         */\n&#34; + </TD></TR><TR><TD CLASS="l">2353</TD><TD>                        &#34;        &lt;T&gt; void foo(T t) {}\n&#34; + </TD></TR><TR><TD CLASS="l"><A NAME="6a">2354</A></TD><TD>                        &#34;}\n&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">2355</TD><TD>                verifyWorkingCopiesComments();</TD></TR><TR CLASS="z"><TD CLASS="l">2356</TD><TD>        }</TD></TR><TR><TD CLASS="l">2357</TD><TD>        public void testBug79809b() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2358</TD><TD>                workingCopies = new IJavaScriptUnit[1];</TD></TR><TR CLASS="z"><TD CLASS="l">2359</TD><TD>                astLevel = AST.JLS3;</TD></TR><TR CLASS="z"><TD CLASS="l">2360</TD><TD>                workingCopies[0] = getWorkingCopy(&#34;/Converter/src/javadoc/b79809/Test.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2361</TD><TD>                        &#34;package javadoc.b79809;\n&#34; + </TD></TR><TR><TD CLASS="l">2362</TD><TD>                        &#34;\n&#34; + </TD></TR><TR><TD CLASS="l">2363</TD><TD>                        &#34;/**\n&#34; + </TD></TR><TR><TD CLASS="l">2364</TD><TD>                        &#34; * New tags for 5.0\n&#34; + </TD></TR><TR><TD CLASS="l">2365</TD><TD>                        &#34; *  - literal: {@literal a&lt;B&gt;c}\n&#34; + </TD></TR><TR><TD CLASS="l">2366</TD><TD>                        &#34; *  - code: {@code abc}\n&#34; + </TD></TR><TR><TD CLASS="l">2367</TD><TD>                        &#34; *  - value: {@value System#out}\n&#34; + </TD></TR><TR><TD CLASS="l">2368</TD><TD>                        &#34; */\n&#34; + </TD></TR><TR><TD CLASS="l">2369</TD><TD>                        &#34;public class Test {\n&#34; + </TD></TR><TR><TD CLASS="l">2370</TD><TD>                        &#34;\n&#34; + </TD></TR><TR><TD CLASS="l">2371</TD><TD>                        &#34;}\n&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">2372</TD><TD>                verifyWorkingCopiesComments();</TD></TR><TR CLASS="z"><TD CLASS="l">2373</TD><TD>        }</TD></TR><TR><TD CLASS="l">2374</TD><TD> </TD></TR><TR><TD CLASS="l">2375</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="6b">2376</A></TD><TD>         * Bug 79904: [1.5][dom][javadoc] TagElement range not complete for type parameter tags</TD></TR><TR><TD CLASS="l">2377</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=79904&#34;</TD></TR><TR><TD CLASS="l">2378</TD><TD>         */</TD></TR><TR><TD CLASS="l">2379</TD><TD>        public void testBug79904() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2380</TD><TD>                workingCopies = new IJavaScriptUnit[1];</TD></TR><TR CLASS="z"><TD CLASS="l">2381</TD><TD>                astLevel = AST.JLS3;</TD></TR><TR CLASS="z"><TD CLASS="l">2382</TD><TD>                workingCopies[0] = getWorkingCopy(&#34;/Converter/src/javadoc/b79904/Test.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2383</TD><TD>                        &#34;package javadoc.b79904;\n&#34; +</TD></TR><TR><TD CLASS="l">2384</TD><TD>                        &#34;/**\n&#34; + </TD></TR><TR><TD CLASS="l">2385</TD><TD>                        &#34; * @param &lt;E&gt;\n&#34; + </TD></TR><TR><TD CLASS="l">2386</TD><TD>                        &#34; * @see Object\n&#34; + </TD></TR><TR><TD CLASS="l">2387</TD><TD>                        &#34; */\n&#34; + </TD></TR><TR><TD CLASS="l">2388</TD><TD>                        &#34;public class Test&lt;E&gt; {\n&#34; + </TD></TR><TR><TD CLASS="l">2389</TD><TD>                        &#34;        /**\n&#34; + </TD></TR><TR><TD CLASS="l">2390</TD><TD>                        &#34;         * @param t\n&#34; + </TD></TR><TR><TD CLASS="l">2391</TD><TD>                        &#34;         * @param &lt;T&gt;\n&#34; + </TD></TR><TR><TD CLASS="l">2392</TD><TD>                        &#34;         */\n&#34; + </TD></TR><TR><TD CLASS="l">2393</TD><TD>                        &#34;        &lt;T&gt; void foo(T t) {}\n&#34; + </TD></TR><TR><TD CLASS="l">2394</TD><TD>                        &#34;}\n&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">2395</TD><TD>                verifyWorkingCopiesComments();</TD></TR><TR CLASS="z"><TD CLASS="l">2396</TD><TD>        }</TD></TR><TR><TD CLASS="l">2397</TD><TD> </TD></TR><TR><TD CLASS="l">2398</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="6c">2399</A></TD><TD>         * Bug 80221: [1.5][dom][javadoc] Need better support for type parameter Javadoc tags</TD></TR><TR><TD CLASS="l">2400</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=80221&#34;</TD></TR><TR><TD CLASS="l">2401</TD><TD>         */</TD></TR><TR><TD CLASS="l">2402</TD><TD>        public void testBug80221() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2403</TD><TD>                workingCopies = new IJavaScriptUnit[1];</TD></TR><TR CLASS="z"><TD CLASS="l">2404</TD><TD>                astLevel = AST.JLS3;</TD></TR><TR CLASS="z"><TD CLASS="l">2405</TD><TD>                workingCopies[0] = getWorkingCopy(&#34;/Converter/src/javadoc/b80221/Test.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2406</TD><TD>                        &#34;package javadoc.b80221;\n&#34; +</TD></TR><TR><TD CLASS="l">2407</TD><TD>                        &#34;public class Test {\n&#34; + </TD></TR><TR><TD CLASS="l">2408</TD><TD>                        &#34;        /**\n&#34; + </TD></TR><TR><TD CLASS="l">2409</TD><TD>                        &#34;         * @see Object Unknown: ref is not resolved due to compile error...\n&#34; + </TD></TR><TR><TD CLASS="l">2410</TD><TD>                        &#34;         */\n&#34; + </TD></TR><TR><TD CLASS="l">2411</TD><TD>                        &#34;        public foo() {\n&#34; + </TD></TR><TR><TD CLASS="l">2412</TD><TD>                        &#34;                return 1;\n&#34; + </TD></TR><TR><TD CLASS="l">2413</TD><TD>                        &#34;        }\n&#34; + </TD></TR><TR><TD CLASS="l">2414</TD><TD>                        &#34;}\n&#34;</TD></TR><TR><TD CLASS="l">2415</TD><TD>                );</TD></TR><TR CLASS="z"><TD CLASS="l">2416</TD><TD>                verifyWorkingCopiesComments();</TD></TR><TR CLASS="z"><TD CLASS="l">2417</TD><TD>        }</TD></TR><TR><TD CLASS="l">2418</TD><TD> </TD></TR><TR><TD CLASS="l">2419</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="6d">2420</A></TD><TD>         * Bug 80257: [1.5][javadoc][dom] Type references in javadocs should have generic binding, not raw</TD></TR><TR><TD CLASS="l">2421</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=80257&#34;</TD></TR><TR><TD CLASS="l">2422</TD><TD>         */</TD></TR><TR><TD CLASS="l">2423</TD><TD>        public void testBug80257() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2424</TD><TD>                workingCopies = new IJavaScriptUnit[1];</TD></TR><TR CLASS="z"><TD CLASS="l">2425</TD><TD>                astLevel = AST.JLS3;</TD></TR><TR CLASS="z"><TD CLASS="l">2426</TD><TD>                workingCopies[0] = getWorkingCopy(&#34;/Converter15/src/javadoc/b80257/Test.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2427</TD><TD>                        &#34;package javadoc.b80257;\n&#34; + </TD></TR><TR><TD CLASS="l">2428</TD><TD>                        &#34;import java.util.*;\n&#34; + </TD></TR><TR><TD CLASS="l">2429</TD><TD>                        &#34;public class Test {\n&#34; + </TD></TR><TR><TD CLASS="l">2430</TD><TD>                        &#34;        /**\n&#34; + </TD></TR><TR><TD CLASS="l">2431</TD><TD>                        &#34;         * @see ArrayList\n&#34; + </TD></TR><TR><TD CLASS="l">2432</TD><TD>                        &#34;         * @return {@link java.util.List}\n&#34; + </TD></TR><TR><TD CLASS="l">2433</TD><TD>                        &#34;         */\n&#34; + </TD></TR><TR><TD CLASS="l">2434</TD><TD>                        &#34;        List&lt;String&gt; getList() {\n&#34; + </TD></TR><TR><TD CLASS="l">2435</TD><TD>                        &#34;                return new ArrayList&lt;String&gt;();\n&#34; + </TD></TR><TR><TD CLASS="l">2436</TD><TD>                        &#34;        }\n&#34; + </TD></TR><TR><TD CLASS="l">2437</TD><TD>                        &#34;}\n&#34;</TD></TR><TR><TD CLASS="l">2438</TD><TD>                        );</TD></TR><TR CLASS="z"><TD CLASS="l">2439</TD><TD>                JavaScriptUnit compilUnit = verifyComments(workingCopies[0]);</TD></TR><TR CLASS="z"><TD CLASS="l">2440</TD><TD>                if (docCommentSupport.equals(JavaScriptCore.ENABLED)) {</TD></TR><TR><TD CLASS="l">2441</TD><TD>                        // Do not need to verify following statement as we know it's ok as verifyComments did not fail</TD></TR><TR CLASS="z"><TD CLASS="l">2442</TD><TD>                        JSdoc docComment = (JSdoc) compilUnit.getCommentList().get(0); // get javadoc comment</TD></TR><TR CLASS="z"><TD CLASS="l">2443</TD><TD>                        TagElement firstTag = (TagElement) docComment.tags().get(0); // get first tag</TD></TR><TR CLASS="z"><TD CLASS="l">2444</TD><TD>                        TagElement secondTag = (TagElement) docComment.tags().get(1); // get second tag</TD></TR><TR CLASS="z"><TD CLASS="l">2445</TD><TD>                        TagElement inlineTag = (TagElement) secondTag.fragments().get(1); // get inline tag</TD></TR><TR><TD CLASS="l">2446</TD><TD>                        // Get tag simple name reference in first tag</TD></TR><TR CLASS="z"><TD CLASS="l">2447</TD><TD>                        assertEquals(&#34;Invalid number of fragments for tag element: &#34;+firstTag, 1, firstTag.fragments().size());</TD></TR><TR CLASS="z"><TD CLASS="l">2448</TD><TD>                        ASTNode node = (ASTNode) firstTag.fragments().get(0);</TD></TR><TR CLASS="z"><TD CLASS="l">2449</TD><TD>                        assertEquals(&#34;Invalid kind of name reference for tag element: &#34;+firstTag, ASTNode.SIMPLE_NAME, node.getNodeType());</TD></TR><TR CLASS="z"><TD CLASS="l">2450</TD><TD>                        SimpleName seeRef = (SimpleName) node;</TD></TR><TR><TD CLASS="l">2451</TD><TD>                        // Verify binding for simple name</TD></TR><TR CLASS="z"><TD CLASS="l">2452</TD><TD>                        IBinding binding = seeRef.resolveBinding();</TD></TR><TR CLASS="z"><TD CLASS="l">2453</TD><TD>                        assertTrue(&#34;Wrong kind of binding&#34;, binding instanceof ITypeBinding);</TD></TR><TR CLASS="z"><TD CLASS="l">2454</TD><TD>                        ITypeBinding typeBinding = (ITypeBinding)binding;</TD></TR><TR CLASS="z"><TD CLASS="l">2455</TD><TD>                        assertTrue(seeRef.toString()+&#34; should have a generic type binding&#34;, typeBinding.isGenericType());</TD></TR><TR CLASS="z"><TD CLASS="l">2456</TD><TD>                        assertFalse(seeRef.toString()+&#34; should NOT have a parameterized type binding&#34;, typeBinding.isParameterizedType());</TD></TR><TR CLASS="z"><TD CLASS="l">2457</TD><TD>                        assertFalse(seeRef.toString()+&#34; should NOT have a raw type binding&#34;, typeBinding.isRawType());</TD></TR><TR><TD CLASS="l">2458</TD><TD>                        // Get inline tag simple name reference in second tag</TD></TR><TR CLASS="z"><TD CLASS="l">2459</TD><TD>                        assertEquals(&#34;Invalid number of fragments for inline tag element: &#34;+inlineTag, 1, inlineTag.fragments().size());</TD></TR><TR CLASS="z"><TD CLASS="l">2460</TD><TD>                        node = (ASTNode) inlineTag.fragments().get(0);</TD></TR><TR CLASS="z"><TD CLASS="l">2461</TD><TD>                        assertEquals(&#34;Invalid kind of name reference for tag element: &#34;+inlineTag, ASTNode.QUALIFIED_NAME, node.getNodeType());</TD></TR><TR CLASS="z"><TD CLASS="l">2462</TD><TD>                        QualifiedName linkRef = (QualifiedName) node;</TD></TR><TR><TD CLASS="l">2463</TD><TD>                        // Verify binding for qualified name</TD></TR><TR CLASS="z"><TD CLASS="l">2464</TD><TD>                        binding = linkRef.resolveBinding();</TD></TR><TR CLASS="z"><TD CLASS="l">2465</TD><TD>                        assertTrue(&#34;Wrong kind of binding&#34;, binding instanceof ITypeBinding);</TD></TR><TR CLASS="z"><TD CLASS="l">2466</TD><TD>                        typeBinding = (ITypeBinding)binding;</TD></TR><TR CLASS="z"><TD CLASS="l">2467</TD><TD>                        assertTrue(linkRef.toString()+&#34; should have a generic type binding&#34;, typeBinding.isGenericType());</TD></TR><TR CLASS="z"><TD CLASS="l">2468</TD><TD>                        assertFalse(linkRef.toString()+&#34; should NOT have a parameterized type binding&#34;, typeBinding.isParameterizedType());</TD></TR><TR CLASS="z"><TD CLASS="l">2469</TD><TD>                        assertFalse(linkRef.toString()+&#34; should NOT have a raw type binding&#34;, typeBinding.isRawType());</TD></TR><TR><TD CLASS="l">2470</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">2471</TD><TD>        }</TD></TR><TR><TD CLASS="l">2472</TD><TD> </TD></TR><TR><TD CLASS="l">2473</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="6e">2474</A></TD><TD>         * Bug 83804: [1.5][javadoc] Missing Javadoc node for package declaration</TD></TR><TR><TD CLASS="l">2475</TD><TD>         * @see &#34;http://bugs.eclipse.org/bugs/show_bug.cgi?id=83804&#34;</TD></TR><TR><TD CLASS="l">2476</TD><TD>         */</TD></TR><TR><TD CLASS="l">2477</TD><TD>        public void testBug83804() throws CoreException, JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2478</TD><TD>                astLevel = AST.JLS3;</TD></TR><TR CLASS="z"><TD CLASS="l">2479</TD><TD>                workingCopies = new IJavaScriptUnit[2];</TD></TR><TR CLASS="z"><TD CLASS="l">2480</TD><TD>                workingCopies[0] = getCompilationUnit(&#34;Converter15&#34;, &#34;src&#34;, &#34;javadoc.b83804&#34;, &#34;package-info.js&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="6f">2481</A></TD><TD>                workingCopies[1] = getCompilationUnit(&#34;Converter15&#34;, &#34;src&#34;, &#34;javadoc.b83804&#34;, &#34;Test.js&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">2482</TD><TD>                verifyWorkingCopiesComments();</TD></TR><TR CLASS="z"><TD CLASS="l">2483</TD><TD>        }</TD></TR><TR><TD CLASS="l">2484</TD><TD>        public void testBug83804a() throws CoreException, JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2485</TD><TD>                astLevel = AST.JLS3;</TD></TR><TR CLASS="z"><TD CLASS="l">2486</TD><TD>                workingCopies = new IJavaScriptUnit[2];</TD></TR><TR CLASS="z"><TD CLASS="l">2487</TD><TD>                workingCopies[0] = getCompilationUnit(&#34;Converter15&#34;, &#34;src&#34;, &#34;javadoc.b83804a&#34;, &#34;package-info.js&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">2488</TD><TD>                workingCopies[1] = getCompilationUnit(&#34;Converter15&#34;, &#34;src&#34;, &#34;javadoc.b83804a&#34;, &#34;Test.js&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">2489</TD><TD>                verifyWorkingCopiesComments();</TD></TR><TR CLASS="z"><TD CLASS="l">2490</TD><TD>        }</TD></TR><TR><TD CLASS="l">2491</TD><TD> </TD></TR><TR><TD CLASS="l">2492</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="70">2493</A></TD><TD>         * Bug 84049: [javadoc][dom] Extended ranges wrong for method name without return type</TD></TR><TR><TD CLASS="l">2494</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=84049&#34;</TD></TR><TR><TD CLASS="l">2495</TD><TD>         */</TD></TR><TR><TD CLASS="l">2496</TD><TD>        public void testBug84049() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2497</TD><TD>                workingCopies = new IJavaScriptUnit[1];</TD></TR><TR CLASS="z"><TD CLASS="l">2498</TD><TD>                astLevel = AST.JLS3;</TD></TR><TR CLASS="z"><TD CLASS="l">2499</TD><TD>                workingCopies[0] = getWorkingCopy(&#34;/Converter15/src/javadoc/b84049/Test.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2500</TD><TD>                        &#34;package javadoc.b84049;\n&#34; + </TD></TR><TR><TD CLASS="l">2501</TD><TD>                        &#34;public class Test {\n&#34; + </TD></TR><TR><TD CLASS="l">2502</TD><TD>                        &#34;        /**\n&#34; + </TD></TR><TR><TD CLASS="l">2503</TD><TD>                        &#34;         * @see Object\n&#34; + </TD></TR><TR><TD CLASS="l">2504</TD><TD>                        &#34;         */\n&#34; + </TD></TR><TR><TD CLASS="l">2505</TD><TD>                        &#34;        foo() {\n&#34; + </TD></TR><TR><TD CLASS="l">2506</TD><TD>                        &#34;        }\n&#34; + </TD></TR><TR><TD CLASS="l">2507</TD><TD>                        &#34;}\n&#34;</TD></TR><TR><TD CLASS="l">2508</TD><TD>                        );</TD></TR><TR CLASS="z"><TD CLASS="l">2509</TD><TD>                JavaScriptUnit compilUnit = (JavaScriptUnit) runConversion(workingCopies[0], true);</TD></TR><TR CLASS="z"><TD CLASS="l">2510</TD><TD>                if (docCommentSupport.equals(JavaScriptCore.ENABLED)) {</TD></TR><TR CLASS="z"><TD CLASS="l">2511</TD><TD>                        ASTNode node = getASTNode(compilUnit, 0, 0);</TD></TR><TR CLASS="z"><TD CLASS="l">2512</TD><TD>                        assertEquals(&#34;Invalid type for node: &#34;+node, ASTNode.FUNCTION_DECLARATION, node.getNodeType());</TD></TR><TR CLASS="z"><TD CLASS="l">2513</TD><TD>                        FunctionDeclaration methodDeclaration = (FunctionDeclaration) node;</TD></TR><TR CLASS="z"><TD CLASS="l">2514</TD><TD>                        JSdoc methodJavadoc = methodDeclaration.getJavadoc();</TD></TR><TR CLASS="z"><TD CLASS="l">2515</TD><TD>                        assertNotNull(&#34;FunctionDeclaration have a javadoc comment&#34;, methodJavadoc);</TD></TR><TR CLASS="z"><TD CLASS="l">2516</TD><TD>                        int javadocStart = methodJavadoc.getStartPosition();</TD></TR><TR CLASS="z"><TD CLASS="l">2517</TD><TD>                        assertEquals(&#34;Method declaration should include javadoc comment&#34;, methodDeclaration.getStartPosition(), javadocStart);</TD></TR><TR CLASS="z"><TD CLASS="l">2518</TD><TD>                        SimpleName methodName = methodDeclaration.getName();</TD></TR><TR CLASS="z"><TD CLASS="l">2519</TD><TD>                        int nameStart = methodName.getStartPosition();</TD></TR><TR CLASS="z"><TD CLASS="l">2520</TD><TD>                        assertTrue(&#34;Method simple name should not include javadoc comment&#34;, nameStart &gt; javadocStart+methodJavadoc.getLength());</TD></TR><TR CLASS="z"><TD CLASS="l">2521</TD><TD>                        int extendedStart = compilUnit.getExtendedStartPosition(methodName);</TD></TR><TR CLASS="z"><TD CLASS="l">2522</TD><TD>                        assertEquals(&#34;Method simple name start position should not be extended!&#34;, nameStart, extendedStart);</TD></TR><TR CLASS="z"><TD CLASS="l">2523</TD><TD>                        int extendedLength = compilUnit.getExtendedLength(methodName);</TD></TR><TR CLASS="z"><TD CLASS="l">2524</TD><TD>                        assertEquals(&#34;Method simple name length should not be extended!&#34;, methodName.getLength(), extendedLength);</TD></TR><TR><TD CLASS="l">2525</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">2526</TD><TD>        }</TD></TR><TR><TD CLASS="l">2527</TD><TD> </TD></TR><TR><TD CLASS="l">2528</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="71">2529</A></TD><TD>         * Bug 87845: [1.5][javadoc][dom] Type references in javadocs should have generic binding, not raw</TD></TR><TR><TD CLASS="l">2530</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=87845&#34;</TD></TR><TR><TD CLASS="l">2531</TD><TD>         */</TD></TR><TR><TD CLASS="l">2532</TD><TD>        public void testBug87845() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2533</TD><TD>                workingCopies = new IJavaScriptUnit[1];</TD></TR><TR CLASS="z"><TD CLASS="l">2534</TD><TD>                astLevel = AST.JLS3;</TD></TR><TR CLASS="z"><TD CLASS="l">2535</TD><TD>                workingCopies[0] = getWorkingCopy(&#34;/Converter15/src/javadoc/b87845/Test.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2536</TD><TD>                        &#34;package javadoc.b87845;\n&#34; + </TD></TR><TR><TD CLASS="l">2537</TD><TD>                        &#34;public class Test {\n&#34; + </TD></TR><TR><TD CLASS="l">2538</TD><TD>                        &#34;        public void foo(int a, int b) {} \n&#34; + </TD></TR><TR><TD CLASS="l">2539</TD><TD>                        &#34;        public void foo(int a, int... args) {}\n&#34; + </TD></TR><TR><TD CLASS="l">2540</TD><TD>                        &#34;        public void foo(String... args) {}\n&#34; + </TD></TR><TR><TD CLASS="l">2541</TD><TD>                        &#34;        public void foo(Exception str, boolean... args) {}\n&#34; + </TD></TR><TR><TD CLASS="l">2542</TD><TD>                        &#34;        /**\n&#34; + </TD></TR><TR><TD CLASS="l">2543</TD><TD>                        &#34;        * @see Test#foo(int, int)\n&#34; + </TD></TR><TR><TD CLASS="l">2544</TD><TD>                        &#34;        * @see Test#foo(int, int[])\n&#34; + </TD></TR><TR><TD CLASS="l">2545</TD><TD>                        &#34;        * @see Test#foo(int, int...)\n&#34; + </TD></TR><TR><TD CLASS="l">2546</TD><TD>                        &#34;        * @see Test#foo(String[])\n&#34; + </TD></TR><TR><TD CLASS="l">2547</TD><TD>                        &#34;        * @see Test#foo(String...)\n&#34; + </TD></TR><TR><TD CLASS="l">2548</TD><TD>                        &#34;        * @see Test#foo(Exception, boolean[])\n&#34; + </TD></TR><TR><TD CLASS="l">2549</TD><TD>                        &#34;        * @see Test#foo(Exception, boolean...)\n&#34; + </TD></TR><TR><TD CLASS="l">2550</TD><TD>                        &#34;        */\n&#34; + </TD></TR><TR><TD CLASS="l">2551</TD><TD>                        &#34;        public void valid() {}\n&#34; + </TD></TR><TR><TD CLASS="l">2552</TD><TD>                        &#34;        /**\n&#34; + </TD></TR><TR><TD CLASS="l">2553</TD><TD>                        &#34;        * @see Test#foo(int)\n&#34; + </TD></TR><TR><TD CLASS="l">2554</TD><TD>                        &#34;        * @see Test#foo(int, int, int)\n&#34; + </TD></TR><TR><TD CLASS="l">2555</TD><TD>                        &#34;        * @see Test#foo()\n&#34; + </TD></TR><TR><TD CLASS="l">2556</TD><TD>                        &#34;        * @see Test#foo(String)\n&#34; + </TD></TR><TR><TD CLASS="l">2557</TD><TD>                        &#34;        * @see Test#foo(String, String)\n&#34; + </TD></TR><TR><TD CLASS="l">2558</TD><TD>                        &#34;        * @see Test#foo(Exception)\n&#34; + </TD></TR><TR><TD CLASS="l">2559</TD><TD>                        &#34;        * @see Test#foo(Exception, boolean)\n&#34; + </TD></TR><TR><TD CLASS="l">2560</TD><TD>                        &#34;        * @see Test#foo(Exception, boolean, boolean)\n&#34; + </TD></TR><TR><TD CLASS="l">2561</TD><TD>                        &#34;        */\n&#34; + </TD></TR><TR><TD CLASS="l">2562</TD><TD>                        &#34;        public void invalid() {}\n&#34; + </TD></TR><TR><TD CLASS="l">2563</TD><TD>                        &#34;}\n&#34;</TD></TR><TR><TD CLASS="l">2564</TD><TD>                );</TD></TR><TR CLASS="z"><TD CLASS="l">2565</TD><TD>                JavaScriptUnit compilUnit = verifyComments(workingCopies[0]);</TD></TR><TR CLASS="z"><TD CLASS="l">2566</TD><TD>                if (docCommentSupport.equals(JavaScriptCore.ENABLED)) {</TD></TR><TR><TD CLASS="l">2567</TD><TD>                        // Do not need to verify following statement as we know it's ok as verifyComments did not fail</TD></TR><TR CLASS="z"><TD CLASS="l">2568</TD><TD>                        JSdoc docComment = (JSdoc) compilUnit.getCommentList().get(0); // get first javadoc comment</TD></TR><TR><TD CLASS="l">2569</TD><TD>                        // Verify last parameter for all methods reference in javadoc comment</TD></TR><TR CLASS="z"><TD CLASS="l">2570</TD><TD>                        List tags = docComment.tags();</TD></TR><TR CLASS="z"><TD CLASS="l">2571</TD><TD>                        int size = tags.size();</TD></TR><TR CLASS="z"><TD CLASS="l">2572</TD><TD>                        for (int i=0; i&lt;size; i++) {</TD></TR><TR CLASS="z"><TD CLASS="l">2573</TD><TD>                                TagElement tag = (TagElement) docComment.tags().get(i);                                </TD></TR><TR CLASS="z"><TD CLASS="l">2574</TD><TD>                                assertEquals(&#34;Invalid number of fragment for see reference: &#34;+tag, 1, tag.fragments().size());</TD></TR><TR CLASS="z"><TD CLASS="l">2575</TD><TD>                                ASTNode node = (ASTNode) tag.fragments().get(0);</TD></TR><TR CLASS="z"><TD CLASS="l">2576</TD><TD>                                assertEquals(&#34;Invalid kind of name reference for tag element: &#34;+tag, ASTNode.FUNCTION_REF, node.getNodeType());</TD></TR><TR CLASS="z"><TD CLASS="l">2577</TD><TD>                                FunctionRef methodRef = (FunctionRef) node;</TD></TR><TR CLASS="z"><TD CLASS="l">2578</TD><TD>                                List parameters = methodRef.parameters();</TD></TR><TR CLASS="z"><TD CLASS="l">2579</TD><TD>                                int paramSize = parameters.size();</TD></TR><TR CLASS="z"><TD CLASS="l">2580</TD><TD>                                for (int j=0; j&lt;paramSize; j++) {</TD></TR><TR CLASS="z"><TD CLASS="l">2581</TD><TD>                                        node = (ASTNode) parameters.get(j);</TD></TR><TR CLASS="z"><TD CLASS="l">2582</TD><TD>                                        assertEquals(&#34;Invalid kind of method parameter: &#34;+node, ASTNode.FUNCTION_REF_PARAMETER, node.getNodeType());</TD></TR><TR CLASS="z"><TD CLASS="l">2583</TD><TD>                                        FunctionRefParameter parameter = (FunctionRefParameter) node;</TD></TR><TR CLASS="z"><TD CLASS="l">2584</TD><TD>                                        if (j==(paramSize-1)) {</TD></TR><TR CLASS="z"><TD CLASS="l">2585</TD><TD>                                                switch (i) {</TD></TR><TR><TD CLASS="l">2586</TD><TD>                                                        case 2:</TD></TR><TR><TD CLASS="l">2587</TD><TD>                                                        case 4:</TD></TR><TR><TD CLASS="l">2588</TD><TD>                                                        case 6:</TD></TR><TR CLASS="z"><TD CLASS="l">2589</TD><TD>                                                                assertTrue(&#34;Method parameter \&#34;&#34;+parameter+&#34;\&#34; should be varargs!&#34;, parameter.isVarargs());</TD></TR><TR CLASS="z"><TD CLASS="l">2590</TD><TD>                                                                break;</TD></TR><TR><TD CLASS="l">2591</TD><TD>                                                        default:</TD></TR><TR CLASS="z"><TD CLASS="l">2592</TD><TD>                                                                assertFalse(&#34;Method parameter \&#34;&#34;+parameter+&#34;\&#34; should not be varargs!&#34;, parameter.isVarargs());</TD></TR><TR CLASS="z"><TD CLASS="l">2593</TD><TD>                                                                break;</TD></TR><TR><TD CLASS="l">2594</TD><TD>                                                }</TD></TR><TR><TD CLASS="l">2595</TD><TD>                                        } else {</TD></TR><TR CLASS="z"><TD CLASS="l">2596</TD><TD>                                                assertFalse(&#34;Method parameter \&#34;&#34;+parameter+&#34;\&#34; should not be varargs!&#34;, parameter.isVarargs());</TD></TR><TR><TD CLASS="l">2597</TD><TD>                                        }</TD></TR><TR><TD CLASS="l">2598</TD><TD>                                }</TD></TR><TR><TD CLASS="l">2599</TD><TD>                        }</TD></TR><TR><TD CLASS="l">2600</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">2601</TD><TD>        }</TD></TR><TR><TD CLASS="l">2602</TD><TD> </TD></TR><TR><TD CLASS="l">2603</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="77">2604</A></TD><TD>         * Bug 93880: [1.5][javadoc] Source range of PackageDeclaration does not include Javadoc child</TD></TR><TR><TD CLASS="l">2605</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=93880&#34;</TD></TR><TR><TD CLASS="l">2606</TD><TD>         */</TD></TR><TR><TD CLASS="l">2607</TD><TD>        public void testBug93880_15a() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2608</TD><TD>                workingCopies = new IJavaScriptUnit[1];</TD></TR><TR CLASS="z"><TD CLASS="l">2609</TD><TD>                astLevel = AST.JLS3;</TD></TR><TR CLASS="z"><TD CLASS="l">2610</TD><TD>                workingCopies[0] = getWorkingCopy(&#34;/Converter15/src/javadoc/b93880/Test.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2611</TD><TD>                        &#34;/**\n&#34; + </TD></TR><TR><TD CLASS="l">2612</TD><TD>                        &#34; * Javadoc\n&#34; + </TD></TR><TR><TD CLASS="l">2613</TD><TD>                        &#34; */\n&#34; + </TD></TR><TR><TD CLASS="l">2614</TD><TD>                        &#34;package javadoc.b93880;\n&#34; + </TD></TR><TR><TD CLASS="l">2615</TD><TD>                        &#34;public class Test {\n&#34; + </TD></TR><TR><TD CLASS="l">2616</TD><TD>                        &#34;}\n&#34;</TD></TR><TR><TD CLASS="l">2617</TD><TD>                );</TD></TR><TR CLASS="z"><TD CLASS="l">2618</TD><TD>                JavaScriptUnit compilUnit = verifyComments(workingCopies[0]);</TD></TR><TR CLASS="z"><TD CLASS="l">2619</TD><TD>                if (docCommentSupport.equals(JavaScriptCore.ENABLED)) {</TD></TR><TR><TD CLASS="l">2620</TD><TD>                        // Get package declaration declaration and javadoc</TD></TR><TR CLASS="z"><TD CLASS="l">2621</TD><TD>                        PackageDeclaration packDecl = compilUnit.getPackage();</TD></TR><TR CLASS="z"><TD CLASS="l">2622</TD><TD>                        JSdoc docComment = (JSdoc) compilUnit.getCommentList().get(0); // Do not need to verify following statement as we know it's ok as verifyComments did not fail</TD></TR><TR><TD CLASS="l">2623</TD><TD> </TD></TR><TR><TD CLASS="l">2624</TD><TD>                        // Verify package declaration javadoc</TD></TR><TR CLASS="z"><TD CLASS="l">2625</TD><TD>                        assertTrue(&#34;Javadoc should be set on package declaration&#34;, docComment == packDecl.getJavadoc());</TD></TR><TR><TD CLASS="l">2626</TD><TD> </TD></TR><TR><TD CLASS="l">2627</TD><TD>                        // Verify package declaration declaration source start</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="78">2628</A></TD><TD>                        assertEquals(&#34;Source range of PackageDeclaration should include Javadoc child&#34;, docComment.getStartPosition(), packDecl.getStartPosition());</TD></TR><TR><TD CLASS="l">2629</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">2630</TD><TD>        }</TD></TR><TR><TD CLASS="l">2631</TD><TD>        public void testBug93880_15b() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2632</TD><TD>                workingCopies = new IJavaScriptUnit[1];</TD></TR><TR CLASS="z"><TD CLASS="l">2633</TD><TD>                astLevel = AST.JLS3;</TD></TR><TR CLASS="z"><TD CLASS="l">2634</TD><TD>                workingCopies[0] = getWorkingCopy(&#34;/Converter15/src/javadoc/b93880/package-info.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2635</TD><TD>                        &#34;/**\n&#34; + </TD></TR><TR><TD CLASS="l">2636</TD><TD>                        &#34; * Javadoc for all package\n&#34; + </TD></TR><TR><TD CLASS="l">2637</TD><TD>                        &#34; */\n&#34; + </TD></TR><TR><TD CLASS="l">2638</TD><TD>                        &#34;package javadoc.b93880;&#34;</TD></TR><TR><TD CLASS="l">2639</TD><TD>                );</TD></TR><TR CLASS="z"><TD CLASS="l">2640</TD><TD>                JavaScriptUnit compilUnit = verifyComments(workingCopies[0]);</TD></TR><TR CLASS="z"><TD CLASS="l">2641</TD><TD>                if (docCommentSupport.equals(JavaScriptCore.ENABLED)) {</TD></TR><TR><TD CLASS="l">2642</TD><TD>                        // Get package declaration declaration and javadoc</TD></TR><TR CLASS="z"><TD CLASS="l">2643</TD><TD>                        PackageDeclaration packDecl = compilUnit.getPackage();</TD></TR><TR CLASS="z"><TD CLASS="l">2644</TD><TD>                        JSdoc docComment = (JSdoc) compilUnit.getCommentList().get(0); // Do not need to verify following statement as we know it's ok as verifyComments did not fail</TD></TR><TR><TD CLASS="l">2645</TD><TD> </TD></TR><TR><TD CLASS="l">2646</TD><TD>                        // Verify package declaration javadoc</TD></TR><TR CLASS="z"><TD CLASS="l">2647</TD><TD>                        assertTrue(&#34;Javadoc should be set on package declaration&#34;, docComment == packDecl.getJavadoc());</TD></TR><TR><TD CLASS="l">2648</TD><TD> </TD></TR><TR><TD CLASS="l">2649</TD><TD>                        // Verify package declaration declaration source start</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="79">2650</A></TD><TD>                        assertEquals(&#34;Source range of PackageDeclaration should include Javadoc child&#34;, docComment.getStartPosition(), packDecl.getStartPosition());</TD></TR><TR><TD CLASS="l">2651</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">2652</TD><TD>        }</TD></TR><TR><TD CLASS="l">2653</TD><TD>        public void testBug93880_15c() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2654</TD><TD>                workingCopies = new IJavaScriptUnit[1];</TD></TR><TR CLASS="z"><TD CLASS="l">2655</TD><TD>                astLevel = AST.JLS3;</TD></TR><TR CLASS="z"><TD CLASS="l">2656</TD><TD>                workingCopies[0] = getWorkingCopy(&#34;/Converter15/src/javadoc/b93880/package-info.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2657</TD><TD>                        &#34;/**\n&#34; + </TD></TR><TR><TD CLASS="l">2658</TD><TD>                        &#34; * Javadoc for all package\n&#34; + </TD></TR><TR><TD CLASS="l">2659</TD><TD>                        &#34; */\n&#34; + </TD></TR><TR><TD CLASS="l">2660</TD><TD>                        &#34;private package javadoc.b93880;&#34;</TD></TR><TR><TD CLASS="l">2661</TD><TD>                );</TD></TR><TR CLASS="z"><TD CLASS="l">2662</TD><TD>                JavaScriptUnit compilUnit = verifyComments(workingCopies[0]);</TD></TR><TR CLASS="z"><TD CLASS="l">2663</TD><TD>                if (docCommentSupport.equals(JavaScriptCore.ENABLED)) {</TD></TR><TR><TD CLASS="l">2664</TD><TD>                        // Get package declaration declaration and javadoc</TD></TR><TR CLASS="z"><TD CLASS="l">2665</TD><TD>                        PackageDeclaration packDecl = compilUnit.getPackage();</TD></TR><TR CLASS="z"><TD CLASS="l">2666</TD><TD>                        JSdoc docComment = (JSdoc) compilUnit.getCommentList().get(0); // Do not need to verify following statement as we know it's ok as verifyComments did not fail</TD></TR><TR><TD CLASS="l">2667</TD><TD> </TD></TR><TR><TD CLASS="l">2668</TD><TD>                        // Verify package declaration javadoc</TD></TR><TR CLASS="z"><TD CLASS="l">2669</TD><TD>                        assertTrue(&#34;Javadoc should be set on package declaration&#34;, docComment == packDecl.getJavadoc());</TD></TR><TR><TD CLASS="l">2670</TD><TD> </TD></TR><TR><TD CLASS="l">2671</TD><TD>                        // Verify package declaration declaration source start</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="7a">2672</A></TD><TD>                        assertEquals(&#34;Source range of PackageDeclaration should include Javadoc child&#34;, docComment.getStartPosition(), packDecl.getStartPosition());</TD></TR><TR><TD CLASS="l">2673</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">2674</TD><TD>        }</TD></TR><TR><TD CLASS="l">2675</TD><TD>        public void testBug93880_15d() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2676</TD><TD>                workingCopies = new IJavaScriptUnit[1];</TD></TR><TR CLASS="z"><TD CLASS="l">2677</TD><TD>                astLevel = AST.JLS3;</TD></TR><TR CLASS="z"><TD CLASS="l">2678</TD><TD>                workingCopies[0] = getWorkingCopy(&#34;/Converter15/src/javadoc/b93880/package-info.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2679</TD><TD>                        &#34;/**\n&#34; + </TD></TR><TR><TD CLASS="l">2680</TD><TD>                        &#34; * Javadoc for all package\n&#34; + </TD></TR><TR><TD CLASS="l">2681</TD><TD>                        &#34; */\n&#34; + </TD></TR><TR><TD CLASS="l">2682</TD><TD>                        &#34;@Deprecated\n&#34; + </TD></TR><TR><TD CLASS="l">2683</TD><TD>                        &#34;package javadoc.b93880;&#34;</TD></TR><TR><TD CLASS="l">2684</TD><TD>                );</TD></TR><TR CLASS="z"><TD CLASS="l">2685</TD><TD>                JavaScriptUnit compilUnit = verifyComments(workingCopies[0]);</TD></TR><TR CLASS="z"><TD CLASS="l">2686</TD><TD>                if (docCommentSupport.equals(JavaScriptCore.ENABLED)) {</TD></TR><TR><TD CLASS="l">2687</TD><TD>                        // Get package declaration declaration and javadoc</TD></TR><TR CLASS="z"><TD CLASS="l">2688</TD><TD>                        PackageDeclaration packDecl = compilUnit.getPackage();</TD></TR><TR CLASS="z"><TD CLASS="l">2689</TD><TD>                        assertNotNull(&#34;Compilation unit should have a package declaration&#34;, packDecl);</TD></TR><TR CLASS="z"><TD CLASS="l">2690</TD><TD>                        JSdoc docComment = (JSdoc) compilUnit.getCommentList().get(0); // Do not need to verify following statement as we know it's ok as verifyComments did not fail</TD></TR><TR><TD CLASS="l">2691</TD><TD> </TD></TR><TR><TD CLASS="l">2692</TD><TD>                        // Verify package declaration javadoc</TD></TR><TR CLASS="z"><TD CLASS="l">2693</TD><TD>                        assertTrue(&#34;Javadoc should be set on package declaration&#34;, docComment == packDecl.getJavadoc());</TD></TR><TR><TD CLASS="l">2694</TD><TD> </TD></TR><TR><TD CLASS="l">2695</TD><TD>                        // Verify package declaration declaration source start</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="7b">2696</A></TD><TD>                        assertEquals(&#34;Source range of PackageDeclaration should include Javadoc child&#34;, docComment.getStartPosition(), packDecl.getStartPosition());</TD></TR><TR><TD CLASS="l">2697</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">2698</TD><TD>        }</TD></TR><TR><TD CLASS="l">2699</TD><TD>        public void testBug93880_15e() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2700</TD><TD>                workingCopies = new IJavaScriptUnit[1];</TD></TR><TR CLASS="z"><TD CLASS="l">2701</TD><TD>                astLevel = AST.JLS3;</TD></TR><TR CLASS="z"><TD CLASS="l">2702</TD><TD>                workingCopies[0] = getWorkingCopy(&#34;/Converter15/src/javadoc/b93880/package-info.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2703</TD><TD>                        &#34;/* (non-javadoc)\n&#34; + </TD></TR><TR><TD CLASS="l">2704</TD><TD>                        &#34; * No comment\n&#34; + </TD></TR><TR><TD CLASS="l">2705</TD><TD>                        &#34; */\n&#34; + </TD></TR><TR><TD CLASS="l">2706</TD><TD>                        &#34;package javadoc.b93880;&#34;</TD></TR><TR><TD CLASS="l">2707</TD><TD>                );</TD></TR><TR CLASS="z"><TD CLASS="l">2708</TD><TD>                JavaScriptUnit compilUnit = verifyComments(workingCopies[0]);</TD></TR><TR CLASS="z"><TD CLASS="l">2709</TD><TD>                if (docCommentSupport.equals(JavaScriptCore.ENABLED)) {</TD></TR><TR><TD CLASS="l">2710</TD><TD>                        // Get package declaration declaration and javadoc</TD></TR><TR CLASS="z"><TD CLASS="l">2711</TD><TD>                        PackageDeclaration packDecl = compilUnit.getPackage();</TD></TR><TR CLASS="z"><TD CLASS="l">2712</TD><TD>                        List unitComments = compilUnit.getCommentList();</TD></TR><TR CLASS="z"><TD CLASS="l">2713</TD><TD>                        assertEquals(&#34;Wrong number of comments&#34;, 1, unitComments.size());</TD></TR><TR CLASS="z"><TD CLASS="l">2714</TD><TD>                        Comment comment = (Comment) unitComments.get(0);</TD></TR><TR><TD CLASS="l">2715</TD><TD> </TD></TR><TR><TD CLASS="l">2716</TD><TD>                        // Verify package declaration javadoc</TD></TR><TR CLASS="z"><TD CLASS="l">2717</TD><TD>                        assertNull(&#34;Package declaration should not have any javadoc&#34;, packDecl.getJavadoc());</TD></TR><TR><TD CLASS="l">2718</TD><TD> </TD></TR><TR><TD CLASS="l">2719</TD><TD>                        // Verify package declaration declaration source start</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="72">2720</A></TD><TD>                        assertTrue(&#34;Source range of PackageDeclaration should NOT include Javadoc child&#34;, packDecl.getStartPosition() &gt; comment.getStartPosition()+comment.getLength());</TD></TR><TR><TD CLASS="l">2721</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">2722</TD><TD>        }</TD></TR><TR><TD CLASS="l">2723</TD><TD>        public void testBug93880_14a() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2724</TD><TD>                workingCopies = new IJavaScriptUnit[1];</TD></TR><TR CLASS="z"><TD CLASS="l">2725</TD><TD>                astLevel = AST.JLS3;</TD></TR><TR CLASS="z"><TD CLASS="l">2726</TD><TD>                workingCopies[0] = getWorkingCopy(&#34;/Converter15/src/javadoc/b93880/Test.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2727</TD><TD>                        &#34;/**\n&#34; + </TD></TR><TR><TD CLASS="l">2728</TD><TD>                        &#34; * Javadoc\n&#34; + </TD></TR><TR><TD CLASS="l">2729</TD><TD>                        &#34; */\n&#34; + </TD></TR><TR><TD CLASS="l">2730</TD><TD>                        &#34;package javadoc.b93880;\n&#34; + </TD></TR><TR><TD CLASS="l">2731</TD><TD>                        &#34;public class Test {\n&#34; + </TD></TR><TR><TD CLASS="l">2732</TD><TD>                        &#34;}\n&#34;</TD></TR><TR><TD CLASS="l">2733</TD><TD>                );</TD></TR><TR CLASS="z"><TD CLASS="l">2734</TD><TD>                JavaScriptUnit compilUnit = verifyComments(workingCopies[0]);</TD></TR><TR CLASS="z"><TD CLASS="l">2735</TD><TD>                if (docCommentSupport.equals(JavaScriptCore.ENABLED)) {</TD></TR><TR><TD CLASS="l">2736</TD><TD>                        // Get package declaration declaration and javadoc</TD></TR><TR CLASS="z"><TD CLASS="l">2737</TD><TD>                        PackageDeclaration packDecl = compilUnit.getPackage();</TD></TR><TR CLASS="z"><TD CLASS="l">2738</TD><TD>                        JSdoc docComment = (JSdoc) compilUnit.getCommentList().get(0); // Do not need to verify following statement as we know it's ok as verifyComments did not fail</TD></TR><TR><TD CLASS="l">2739</TD><TD> </TD></TR><TR><TD CLASS="l">2740</TD><TD>                        // Verify package declaration declaration source start</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="73">2741</A></TD><TD>                        assertEquals(&#34;Source range of PackageDeclaration should include Javadoc child&#34;, docComment.getStartPosition(), packDecl.getStartPosition());</TD></TR><TR><TD CLASS="l">2742</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">2743</TD><TD>        }</TD></TR><TR><TD CLASS="l">2744</TD><TD>        public void testBug93880_14b() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2745</TD><TD>                workingCopies = new IJavaScriptUnit[1];</TD></TR><TR CLASS="z"><TD CLASS="l">2746</TD><TD>                astLevel = AST.JLS3;</TD></TR><TR CLASS="z"><TD CLASS="l">2747</TD><TD>                workingCopies[0] = getWorkingCopy(&#34;/Converter15/src/javadoc/b93880/package-info.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2748</TD><TD>                        &#34;/**\n&#34; + </TD></TR><TR><TD CLASS="l">2749</TD><TD>                        &#34; * Javadoc for all package\n&#34; + </TD></TR><TR><TD CLASS="l">2750</TD><TD>                        &#34; */\n&#34; + </TD></TR><TR><TD CLASS="l">2751</TD><TD>                        &#34;package javadoc.b93880;&#34;</TD></TR><TR><TD CLASS="l">2752</TD><TD>                );</TD></TR><TR CLASS="z"><TD CLASS="l">2753</TD><TD>                JavaScriptUnit compilUnit = verifyComments(workingCopies[0]);</TD></TR><TR CLASS="z"><TD CLASS="l">2754</TD><TD>                if (docCommentSupport.equals(JavaScriptCore.ENABLED)) {</TD></TR><TR><TD CLASS="l">2755</TD><TD>                        // Get package declaration declaration and javadoc</TD></TR><TR CLASS="z"><TD CLASS="l">2756</TD><TD>                        PackageDeclaration packDecl = compilUnit.getPackage();</TD></TR><TR CLASS="z"><TD CLASS="l">2757</TD><TD>                        JSdoc docComment = (JSdoc) compilUnit.getCommentList().get(0); // Do not need to verify following statement as we know it's ok as verifyComments did not fail</TD></TR><TR><TD CLASS="l">2758</TD><TD> </TD></TR><TR><TD CLASS="l">2759</TD><TD>                        // Verify package declaration declaration source start</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="74">2760</A></TD><TD>                        assertEquals(&#34;Source range of PackageDeclaration should include Javadoc child&#34;, docComment.getStartPosition(), packDecl.getStartPosition());</TD></TR><TR><TD CLASS="l">2761</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">2762</TD><TD>        }</TD></TR><TR><TD CLASS="l">2763</TD><TD>        public void testBug93880_14c() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2764</TD><TD>                workingCopies = new IJavaScriptUnit[1];</TD></TR><TR CLASS="z"><TD CLASS="l">2765</TD><TD>                astLevel = AST.JLS3;</TD></TR><TR CLASS="z"><TD CLASS="l">2766</TD><TD>                workingCopies[0] = getWorkingCopy(&#34;/Converter15/src/javadoc/b93880/package-info.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2767</TD><TD>                        &#34;/**\n&#34; + </TD></TR><TR><TD CLASS="l">2768</TD><TD>                        &#34; * Javadoc for all package\n&#34; + </TD></TR><TR><TD CLASS="l">2769</TD><TD>                        &#34; */\n&#34; + </TD></TR><TR><TD CLASS="l">2770</TD><TD>                        &#34;private package javadoc.b93880;&#34;</TD></TR><TR><TD CLASS="l">2771</TD><TD>                );</TD></TR><TR CLASS="z"><TD CLASS="l">2772</TD><TD>                JavaScriptUnit compilUnit = verifyComments(workingCopies[0]);</TD></TR><TR CLASS="z"><TD CLASS="l">2773</TD><TD>                if (docCommentSupport.equals(JavaScriptCore.ENABLED)) {</TD></TR><TR><TD CLASS="l">2774</TD><TD>                        // Get package declaration declaration and javadoc</TD></TR><TR CLASS="z"><TD CLASS="l">2775</TD><TD>                        PackageDeclaration packDecl = compilUnit.getPackage();</TD></TR><TR CLASS="z"><TD CLASS="l">2776</TD><TD>                        JSdoc docComment = (JSdoc) compilUnit.getCommentList().get(0); // Do not need to verify following statement as we know it's ok as verifyComments did not fail</TD></TR><TR><TD CLASS="l">2777</TD><TD> </TD></TR><TR><TD CLASS="l">2778</TD><TD>                        // Verify package declaration declaration source start</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="75">2779</A></TD><TD>                        assertEquals(&#34;Source range of PackageDeclaration should include Javadoc child&#34;, docComment.getStartPosition(), packDecl.getStartPosition());</TD></TR><TR><TD CLASS="l">2780</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">2781</TD><TD>        }</TD></TR><TR><TD CLASS="l">2782</TD><TD>        public void testBug93880_14d() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2783</TD><TD>                workingCopies = new IJavaScriptUnit[1];</TD></TR><TR CLASS="z"><TD CLASS="l">2784</TD><TD>                astLevel = AST.JLS3;</TD></TR><TR CLASS="z"><TD CLASS="l">2785</TD><TD>                workingCopies[0] = getWorkingCopy(&#34;/Converter15/src/javadoc/b93880/package-info.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2786</TD><TD>                        &#34;/**\n&#34; + </TD></TR><TR><TD CLASS="l">2787</TD><TD>                        &#34; * Javadoc for all package\n&#34; + </TD></TR><TR><TD CLASS="l">2788</TD><TD>                        &#34; */\n&#34; + </TD></TR><TR><TD CLASS="l">2789</TD><TD>                        &#34;@Deprecated\n&#34; + </TD></TR><TR><TD CLASS="l">2790</TD><TD>                        &#34;package javadoc.b93880;&#34;</TD></TR><TR><TD CLASS="l">2791</TD><TD>                );</TD></TR><TR CLASS="z"><TD CLASS="l">2792</TD><TD>                JavaScriptUnit compilUnit = verifyComments(workingCopies[0]);</TD></TR><TR CLASS="z"><TD CLASS="l">2793</TD><TD>                if (docCommentSupport.equals(JavaScriptCore.ENABLED)) {</TD></TR><TR><TD CLASS="l">2794</TD><TD>                        // Get package declaration declaration and javadoc</TD></TR><TR CLASS="z"><TD CLASS="l">2795</TD><TD>                        PackageDeclaration packDecl = compilUnit.getPackage();</TD></TR><TR CLASS="z"><TD CLASS="l">2796</TD><TD>                        assertNotNull(&#34;Compilation unit should have a package declaration&#34;, packDecl);</TD></TR><TR CLASS="z"><TD CLASS="l">2797</TD><TD>                        JSdoc docComment = (JSdoc) compilUnit.getCommentList().get(0); // Do not need to verify following statement as we know it's ok as verifyComments did not fail</TD></TR><TR><TD CLASS="l">2798</TD><TD> </TD></TR><TR><TD CLASS="l">2799</TD><TD>                        // Verify package declaration declaration source start</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="76">2800</A></TD><TD>                        assertEquals(&#34;Source range of PackageDeclaration should include Javadoc child&#34;, docComment.getStartPosition(), packDecl.getStartPosition());</TD></TR><TR><TD CLASS="l">2801</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">2802</TD><TD>        }</TD></TR><TR><TD CLASS="l">2803</TD><TD>        public void testBug93880_14e() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2804</TD><TD>                workingCopies = new IJavaScriptUnit[1];</TD></TR><TR CLASS="z"><TD CLASS="l">2805</TD><TD>                astLevel = AST.JLS3;</TD></TR><TR CLASS="z"><TD CLASS="l">2806</TD><TD>                workingCopies[0] = getWorkingCopy(&#34;/Converter15/src/javadoc/b93880/package-info.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2807</TD><TD>                        &#34;/* (non-javadoc)\n&#34; + </TD></TR><TR><TD CLASS="l">2808</TD><TD>                        &#34; * No comment\n&#34; + </TD></TR><TR><TD CLASS="l">2809</TD><TD>                        &#34; */\n&#34; + </TD></TR><TR><TD CLASS="l">2810</TD><TD>                        &#34;package javadoc.b93880;&#34;</TD></TR><TR><TD CLASS="l">2811</TD><TD>                );</TD></TR><TR CLASS="z"><TD CLASS="l">2812</TD><TD>                JavaScriptUnit compilUnit = verifyComments(workingCopies[0]);</TD></TR><TR CLASS="z"><TD CLASS="l">2813</TD><TD>                if (docCommentSupport.equals(JavaScriptCore.ENABLED)) {</TD></TR><TR><TD CLASS="l">2814</TD><TD>                        // Get package declaration declaration and javadoc</TD></TR><TR CLASS="z"><TD CLASS="l">2815</TD><TD>                        PackageDeclaration packDecl = compilUnit.getPackage();</TD></TR><TR CLASS="z"><TD CLASS="l">2816</TD><TD>                        List unitComments = compilUnit.getCommentList();</TD></TR><TR CLASS="z"><TD CLASS="l">2817</TD><TD>                        assertEquals(&#34;Wrong number of comments&#34;, 1, unitComments.size());</TD></TR><TR CLASS="z"><TD CLASS="l">2818</TD><TD>                        Comment comment = (Comment) unitComments.get(0);</TD></TR><TR><TD CLASS="l">2819</TD><TD> </TD></TR><TR><TD CLASS="l">2820</TD><TD>                        // Verify package declaration declaration source start</TD></TR><TR CLASS="z"><TD CLASS="l">2821</TD><TD>                        assertTrue(&#34;Source range of PackageDeclaration should NOT not include Javadoc child&#34;, packDecl.getStartPosition() &gt; comment.getStartPosition()+comment.getLength());</TD></TR><TR><TD CLASS="l">2822</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">2823</TD><TD>        }</TD></TR><TR><TD CLASS="l">2824</TD><TD> </TD></TR><TR><TD CLASS="l">2825</TD><TD> </TD></TR><TR><TD CLASS="l">2826</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="7c">2827</A></TD><TD>         * Bug 99507: [javadoc] Infinit loop in DocCommentParser</TD></TR><TR><TD CLASS="l">2828</TD><TD>         * @see &#34;http://bugs.eclipse.org/bugs/show_bug.cgi?id=99507&#34;</TD></TR><TR><TD CLASS="l">2829</TD><TD>         */</TD></TR><TR><TD CLASS="l">2830</TD><TD>        public void testBug99507() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2831</TD><TD>                workingCopies = new IJavaScriptUnit[1];</TD></TR><TR CLASS="z"><TD CLASS="l">2832</TD><TD>                workingCopies[0] = getWorkingCopy(&#34;/Converter15/src/javadoc/b99507/X.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2833</TD><TD>                        &#34;package javadoc.b99507;\n&#34; + </TD></TR><TR><TD CLASS="l">2834</TD><TD>                        &#34;public class X {\n&#34; + </TD></TR><TR><TD CLASS="l">2835</TD><TD>                        &#34;}\n&#34; +</TD></TR><TR><TD CLASS="l">2836</TD><TD>                        &#34;/** @param test*/&#34; </TD></TR><TR><TD CLASS="l"><A NAME="7d">2837</A></TD><TD>                );</TD></TR><TR CLASS="z"><TD CLASS="l">2838</TD><TD>                verifyComments(workingCopies[0]);</TD></TR><TR CLASS="z"><TD CLASS="l">2839</TD><TD>        }</TD></TR><TR><TD CLASS="l">2840</TD><TD>        public void testBug99507b() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2841</TD><TD>        String source = &#34;/**\n@param country*/&#34;;</TD></TR><TR CLASS="z"><TD CLASS="l">2842</TD><TD>                ASTParser parser = ASTParser.newParser(AST.JLS3);</TD></TR><TR CLASS="z"><TD CLASS="l">2843</TD><TD>                parser.setKind(ASTParser.K_COMPILATION_UNIT);</TD></TR><TR CLASS="z"><TD CLASS="l">2844</TD><TD>                parser.setSource(source.toCharArray());</TD></TR><TR CLASS="z"><TD CLASS="l">2845</TD><TD>                parser.createAST(null);</TD></TR><TR CLASS="z"><TD CLASS="l">2846</TD><TD>        }</TD></TR><TR><TD CLASS="l">2847</TD><TD> </TD></TR><TR><TD CLASS="l">2848</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="31">2849</A></TD><TD>         * Bug 100041: [javadoc] Infinit loop in DocCommentParser</TD></TR><TR><TD CLASS="l">2850</TD><TD>         * @see &#34;http://bugs.eclipse.org/bugs/show_bug.cgi?id=100041&#34;</TD></TR><TR><TD CLASS="l">2851</TD><TD>         */</TD></TR><TR><TD CLASS="l">2852</TD><TD>        public void testBug100041() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2853</TD><TD>                workingCopies = new IJavaScriptUnit[1];</TD></TR><TR CLASS="z"><TD CLASS="l">2854</TD><TD>                workingCopies[0] = getWorkingCopy(&#34;/Converter15/src/javadoc/b100041/X.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2855</TD><TD>                        &#34;package javadoc.b100041;\n&#34; + </TD></TR><TR><TD CLASS="l">2856</TD><TD>                        &#34;class X {\n&#34; +</TD></TR><TR><TD CLASS="l">2857</TD><TD>                        &#34;        static Object object;\n&#34; +</TD></TR><TR><TD CLASS="l">2858</TD><TD>                        &#34;        static void foo() {\n&#34; +</TD></TR><TR><TD CLASS="l">2859</TD><TD>                        &#34;                /**\n&#34; +</TD></TR><TR><TD CLASS="l">2860</TD><TD>                        &#34;                 * javadoc comment.\n&#34; +</TD></TR><TR><TD CLASS="l">2861</TD><TD>                        &#34;                 */\n&#34; +</TD></TR><TR><TD CLASS="l">2862</TD><TD>                        &#34;                if (object instanceof String) {\n&#34; +</TD></TR><TR><TD CLASS="l">2863</TD><TD>                        &#34;                        final String clr = null;\n&#34; +</TD></TR><TR><TD CLASS="l">2864</TD><TD>                        &#34;                }\n&#34; +</TD></TR><TR><TD CLASS="l">2865</TD><TD>                        &#34;        }\n&#34; +</TD></TR><TR><TD CLASS="l">2866</TD><TD>                        &#34;}&#34;</TD></TR><TR><TD CLASS="l">2867</TD><TD>                );</TD></TR><TR CLASS="z"><TD CLASS="l">2868</TD><TD>                JavaScriptUnit compilUnit = verifyComments(workingCopies[0]);</TD></TR><TR CLASS="z"><TD CLASS="l">2869</TD><TD>                if (docCommentSupport.equals(JavaScriptCore.ENABLED)) {</TD></TR><TR><TD CLASS="l">2870</TD><TD>                        // Get comment</TD></TR><TR CLASS="z"><TD CLASS="l">2871</TD><TD>                        List unitComments = compilUnit.getCommentList();</TD></TR><TR CLASS="z"><TD CLASS="l">2872</TD><TD>                        assertEquals(&#34;Wrong number of comments&#34;, 1, unitComments.size());</TD></TR><TR CLASS="z"><TD CLASS="l">2873</TD><TD>                        Comment comment = (Comment) unitComments.get(0);</TD></TR><TR CLASS="z"><TD CLASS="l">2874</TD><TD>                        int commentStart = comment.getStartPosition();</TD></TR><TR CLASS="z"><TD CLASS="l">2875</TD><TD>                        int commentEnd = commentStart+comment.getLength();</TD></TR><TR><TD CLASS="l">2876</TD><TD> </TD></TR><TR><TD CLASS="l">2877</TD><TD>                        // Get local variable declaration</TD></TR><TR CLASS="z"><TD CLASS="l">2878</TD><TD>                        ASTNode node = getASTNode(compilUnit, 0, 1, 0);</TD></TR><TR CLASS="z"><TD CLASS="l">2879</TD><TD>                        assertEquals(&#34;Expected if statement for node: &#34;+node, ASTNode.IF_STATEMENT, node.getNodeType());</TD></TR><TR CLASS="z"><TD CLASS="l">2880</TD><TD>                        IfStatement ifStatement = (IfStatement) node;</TD></TR><TR CLASS="z"><TD CLASS="l">2881</TD><TD>                        assertTrue(&#34;Invalid start position for IfStatement: &#34;+ifStatement, ifStatement.getStartPosition() &gt; commentEnd);</TD></TR><TR CLASS="z"><TD CLASS="l">2882</TD><TD>                        Statement statement  = ifStatement.getThenStatement();</TD></TR><TR CLASS="z"><TD CLASS="l">2883</TD><TD>                        assertEquals(&#34;Expected block for node: &#34;+statement, ASTNode.BLOCK, statement.getNodeType());</TD></TR><TR CLASS="z"><TD CLASS="l">2884</TD><TD>                        Block block = (Block) statement;</TD></TR><TR CLASS="z"><TD CLASS="l">2885</TD><TD>                        assertTrue(&#34;Invalid start position for Block: &#34;+block, block.getStartPosition() &gt; commentEnd);</TD></TR><TR CLASS="z"><TD CLASS="l">2886</TD><TD>                        List statements = block.statements();</TD></TR><TR CLASS="z"><TD CLASS="l">2887</TD><TD>                        assertEquals(&#34;Invalid number of statements for block: &#34;+block, 1, statements.size());</TD></TR><TR CLASS="z"><TD CLASS="l">2888</TD><TD>                        statement = (Statement) statements.get(0);</TD></TR><TR CLASS="z"><TD CLASS="l">2889</TD><TD>                        assertEquals(&#34;Expected variable declaration statement for node: &#34;+statement, ASTNode.VARIABLE_DECLARATION_STATEMENT, statement.getNodeType());</TD></TR><TR CLASS="z"><TD CLASS="l">2890</TD><TD>                        VariableDeclarationStatement varDecl = (VariableDeclarationStatement) statement;</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="32">2891</A></TD><TD>                        assertTrue(&#34;Invalid start position for : VariableDeclarationStatement&#34;+varDecl, varDecl.getStartPosition() &gt; commentEnd);</TD></TR><TR><TD CLASS="l">2892</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">2893</TD><TD>        }</TD></TR><TR><TD CLASS="l">2894</TD><TD>        public void testBug100041b() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2895</TD><TD>                workingCopies = new IJavaScriptUnit[1];</TD></TR><TR CLASS="z"><TD CLASS="l">2896</TD><TD>                workingCopies[0] = getWorkingCopy(&#34;/Converter15/src/javadoc/b100041/X.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2897</TD><TD>                        &#34;package javadoc.b100041;\n&#34; + </TD></TR><TR><TD CLASS="l">2898</TD><TD>                        &#34;class X {\n&#34; +</TD></TR><TR><TD CLASS="l">2899</TD><TD>                        &#34;        static Object object;\n&#34; +</TD></TR><TR><TD CLASS="l">2900</TD><TD>                        &#34;        static void foo() {\n&#34; +</TD></TR><TR><TD CLASS="l">2901</TD><TD>                        &#34;                /**\n&#34; +</TD></TR><TR><TD CLASS="l">2902</TD><TD>                        &#34;                 * javadoc comment.\n&#34; +</TD></TR><TR><TD CLASS="l">2903</TD><TD>                        &#34;                 */\n&#34; +</TD></TR><TR><TD CLASS="l">2904</TD><TD>                        &#34;                if (object instanceof String)\n&#34; +</TD></TR><TR><TD CLASS="l">2905</TD><TD>                        &#34;                        return;\n&#34; +</TD></TR><TR><TD CLASS="l">2906</TD><TD>                        &#34;        }\n&#34; +</TD></TR><TR><TD CLASS="l">2907</TD><TD>                        &#34;}&#34;</TD></TR><TR><TD CLASS="l">2908</TD><TD>                );</TD></TR><TR CLASS="z"><TD CLASS="l">2909</TD><TD>                JavaScriptUnit compilUnit = verifyComments(workingCopies[0]);</TD></TR><TR CLASS="z"><TD CLASS="l">2910</TD><TD>                if (docCommentSupport.equals(JavaScriptCore.ENABLED)) {</TD></TR><TR><TD CLASS="l">2911</TD><TD>                        // Get comment</TD></TR><TR CLASS="z"><TD CLASS="l">2912</TD><TD>                        List unitComments = compilUnit.getCommentList();</TD></TR><TR CLASS="z"><TD CLASS="l">2913</TD><TD>                        assertEquals(&#34;Wrong number of comments&#34;, 1, unitComments.size());</TD></TR><TR CLASS="z"><TD CLASS="l">2914</TD><TD>                        Comment comment = (Comment) unitComments.get(0);</TD></TR><TR CLASS="z"><TD CLASS="l">2915</TD><TD>                        int commentStart = comment.getStartPosition();</TD></TR><TR CLASS="z"><TD CLASS="l">2916</TD><TD>                        int commentEnd = commentStart+comment.getLength();</TD></TR><TR><TD CLASS="l">2917</TD><TD> </TD></TR><TR><TD CLASS="l">2918</TD><TD>                        // Get local variable declaration</TD></TR><TR CLASS="z"><TD CLASS="l">2919</TD><TD>                        ASTNode node = getASTNode(compilUnit, 0, 1, 0);</TD></TR><TR CLASS="z"><TD CLASS="l">2920</TD><TD>                        assertEquals(&#34;Expected if statement for node: &#34;+node, ASTNode.IF_STATEMENT, node.getNodeType());</TD></TR><TR CLASS="z"><TD CLASS="l">2921</TD><TD>                        IfStatement ifStatement = (IfStatement) node;</TD></TR><TR CLASS="z"><TD CLASS="l">2922</TD><TD>                        assertTrue(&#34;Invalid start position for IfStatement: &#34;+ifStatement, ifStatement.getStartPosition() &gt; commentEnd);</TD></TR><TR CLASS="z"><TD CLASS="l">2923</TD><TD>                        Statement statement  = ifStatement.getThenStatement();</TD></TR><TR CLASS="z"><TD CLASS="l">2924</TD><TD>                        assertEquals(&#34;Expected block for node: &#34;+statement, ASTNode.RETURN_STATEMENT, statement.getNodeType());</TD></TR><TR CLASS="z"><TD CLASS="l">2925</TD><TD>                        ReturnStatement returnStatement = (ReturnStatement) statement;</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="33">2926</A></TD><TD>                        assertTrue(&#34;Invalid start position for Block: &#34;+returnStatement, returnStatement.getStartPosition() &gt; commentEnd);</TD></TR><TR><TD CLASS="l">2927</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">2928</TD><TD>        }</TD></TR><TR><TD CLASS="l">2929</TD><TD>        public void testBug100041c() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">2930</TD><TD>                workingCopies = new IJavaScriptUnit[1];</TD></TR><TR CLASS="z"><TD CLASS="l">2931</TD><TD>                workingCopies[0] = getWorkingCopy(&#34;/Converter15/src/javadoc/b100041/Z.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">2932</TD><TD>                        &#34;package javadoc.b100041;\n&#34; + </TD></TR><TR><TD CLASS="l">2933</TD><TD>                        &#34;public class Z {\n&#34; + </TD></TR><TR><TD CLASS="l">2934</TD><TD>                        &#34;        /** C1 */\n&#34; + </TD></TR><TR><TD CLASS="l">2935</TD><TD>                        &#34;        class Z1 {}\n&#34; + </TD></TR><TR><TD CLASS="l">2936</TD><TD>                        &#34;        /** C2 */\n&#34; + </TD></TR><TR><TD CLASS="l">2937</TD><TD>                        &#34;        Z1 z1;\n&#34; + </TD></TR><TR><TD CLASS="l">2938</TD><TD>                        &#34;        /** C3 */\n&#34; + </TD></TR><TR><TD CLASS="l">2939</TD><TD>                        &#34;        public static void foo(Object object) {\n&#34; + </TD></TR><TR><TD CLASS="l">2940</TD><TD>                        &#34;                /** C4 */\n&#34; + </TD></TR><TR><TD CLASS="l">2941</TD><TD>                        &#34;                class ZZ {\n&#34; + </TD></TR><TR><TD CLASS="l">2942</TD><TD>                        &#34;                        /** C5 */\n&#34; + </TD></TR><TR><TD CLASS="l">2943</TD><TD>                        &#34;                        ZZ zz;\n&#34; + </TD></TR><TR><TD CLASS="l">2944</TD><TD>                        &#34;                        /** C6 */\n&#34; + </TD></TR><TR><TD CLASS="l">2945</TD><TD>                        &#34;                        public void bar() {}\n&#34; + </TD></TR><TR><TD CLASS="l">2946</TD><TD>                        &#34;                }\n&#34; + </TD></TR><TR><TD CLASS="l">2947</TD><TD>                        &#34;        }\n&#34; + </TD></TR><TR><TD CLASS="l">2948</TD><TD>                        &#34;}\n&#34;</TD></TR><TR><TD CLASS="l">2949</TD><TD>                );</TD></TR><TR CLASS="z"><TD CLASS="l">2950</TD><TD>                JavaScriptUnit compilUnit = verifyComments(workingCopies[0]);</TD></TR><TR CLASS="z"><TD CLASS="l">2951</TD><TD>                if (docCommentSupport.equals(JavaScriptCore.ENABLED)) {</TD></TR><TR><TD CLASS="l">2952</TD><TD>                        // Get comments</TD></TR><TR CLASS="z"><TD CLASS="l">2953</TD><TD>                        List unitComments = compilUnit.getCommentList();</TD></TR><TR CLASS="z"><TD CLASS="l">2954</TD><TD>                        int size = unitComments.size();</TD></TR><TR CLASS="z"><TD CLASS="l">2955</TD><TD>                        assertEquals(&#34;Wrong number of comments&#34;, 6, size);</TD></TR><TR CLASS="z"><TD CLASS="l">2956</TD><TD>                        JSdoc[] javadocs = new JSdoc[size];</TD></TR><TR CLASS="z"><TD CLASS="l">2957</TD><TD>                        Iterator iterator = unitComments.iterator();</TD></TR><TR CLASS="z"><TD CLASS="l">2958</TD><TD>                        for (int i=0; i&lt;size; i++) {</TD></TR><TR CLASS="z"><TD CLASS="l">2959</TD><TD>                                Comment comment = (Comment) iterator.next();</TD></TR><TR CLASS="z"><TD CLASS="l">2960</TD><TD>                                assertEquals(&#34;Expect javadoc for comment: &#34;+comment, ASTNode.JSDOC, comment.getNodeType());</TD></TR><TR CLASS="z"><TD CLASS="l">2961</TD><TD>                                javadocs[i] = (JSdoc) comment;</TD></TR><TR><TD CLASS="l">2962</TD><TD>                        }</TD></TR><TR><TD CLASS="l">2963</TD><TD> </TD></TR><TR><TD CLASS="l">2964</TD><TD>                        // Verify member type declaration start</TD></TR><TR CLASS="z"><TD CLASS="l">2965</TD><TD>                        ASTNode node = getASTNode(compilUnit, 0, 0);</TD></TR><TR CLASS="z"><TD CLASS="l">2966</TD><TD>                        assertEquals(&#34;Expected type declaration for node: &#34;+node, ASTNode.TYPE_DECLARATION, node.getNodeType());</TD></TR><TR CLASS="z"><TD CLASS="l">2967</TD><TD>                        TypeDeclaration typeDeclaration = (TypeDeclaration) node;</TD></TR><TR CLASS="z"><TD CLASS="l">2968</TD><TD>                        int javadocStart = javadocs[0].getStartPosition();</TD></TR><TR CLASS="z"><TD CLASS="l">2969</TD><TD>                        assertEquals(&#34;Invalid start position for TypeDeclaration: &#34;+typeDeclaration, typeDeclaration.getStartPosition(), javadocStart);</TD></TR><TR><TD CLASS="l">2970</TD><TD> </TD></TR><TR><TD CLASS="l">2971</TD><TD>                        // Verify field declaration start</TD></TR><TR CLASS="z"><TD CLASS="l">2972</TD><TD>                        node = getASTNode(compilUnit, 0, 1);</TD></TR><TR CLASS="z"><TD CLASS="l">2973</TD><TD>                        assertEquals(&#34;Expected field declaration for node: &#34;+node, ASTNode.FIELD_DECLARATION, node.getNodeType());</TD></TR><TR CLASS="z"><TD CLASS="l">2974</TD><TD>                        FieldDeclaration fieldDeclaration = (FieldDeclaration) node;</TD></TR><TR CLASS="z"><TD CLASS="l">2975</TD><TD>                        javadocStart = javadocs[1].getStartPosition();</TD></TR><TR CLASS="z"><TD CLASS="l">2976</TD><TD>                        assertEquals(&#34;Invalid start position for FieldDeclaration: &#34;+fieldDeclaration, fieldDeclaration.getStartPosition(), javadocStart);</TD></TR><TR><TD CLASS="l">2977</TD><TD> </TD></TR><TR><TD CLASS="l">2978</TD><TD>                        // Verify method declaration start</TD></TR><TR CLASS="z"><TD CLASS="l">2979</TD><TD>                        node = getASTNode(compilUnit, 0, 2);</TD></TR><TR CLASS="z"><TD CLASS="l">2980</TD><TD>                        assertEquals(&#34;Expected method declaration for node: &#34;+node, ASTNode.FUNCTION_DECLARATION, node.getNodeType());</TD></TR><TR CLASS="z"><TD CLASS="l">2981</TD><TD>                        FunctionDeclaration methodDeclaration = (FunctionDeclaration) node;</TD></TR><TR CLASS="z"><TD CLASS="l">2982</TD><TD>                        javadocStart = javadocs[2].getStartPosition();</TD></TR><TR CLASS="z"><TD CLASS="l">2983</TD><TD>                        assertEquals(&#34;Invalid start position for FunctionDeclaration: &#34;+methodDeclaration, methodDeclaration.getStartPosition(), javadocStart);</TD></TR><TR><TD CLASS="l">2984</TD><TD> </TD></TR><TR><TD CLASS="l">2985</TD><TD>                        // Verify local type declaration start</TD></TR><TR CLASS="z"><TD CLASS="l">2986</TD><TD>                        node = getASTNode(compilUnit, 0, 2, 0);</TD></TR><TR CLASS="z"><TD CLASS="l">2987</TD><TD>                        assertEquals(&#34;Expected type declaration for node: &#34;+node, ASTNode.TYPE_DECLARATION_STATEMENT, node.getNodeType());</TD></TR><TR CLASS="z"><TD CLASS="l">2988</TD><TD>                        typeDeclaration = (TypeDeclaration) ((TypeDeclarationStatement) node).getDeclaration();</TD></TR><TR CLASS="z"><TD CLASS="l">2989</TD><TD>                        javadocStart = javadocs[3].getStartPosition();</TD></TR><TR CLASS="z"><TD CLASS="l">2990</TD><TD>                        assertEquals(&#34;Invalid start position for TypeDeclaration: &#34;+typeDeclaration, typeDeclaration.getStartPosition(), javadocStart);</TD></TR><TR><TD CLASS="l">2991</TD><TD> </TD></TR><TR><TD CLASS="l">2992</TD><TD>                        // Verify field declaration start</TD></TR><TR CLASS="z"><TD CLASS="l">2993</TD><TD>                        List bodyDeclarations = typeDeclaration.bodyDeclarations();</TD></TR><TR CLASS="z"><TD CLASS="l">2994</TD><TD>                        node = (ASTNode) bodyDeclarations.get(0);</TD></TR><TR CLASS="z"><TD CLASS="l">2995</TD><TD>                        assertEquals(&#34;Expected field declaration for node: &#34;+node, ASTNode.FIELD_DECLARATION, node.getNodeType());</TD></TR><TR CLASS="z"><TD CLASS="l">2996</TD><TD>                        fieldDeclaration = (FieldDeclaration) node;</TD></TR><TR CLASS="z"><TD CLASS="l">2997</TD><TD>                        javadocStart = javadocs[4].getStartPosition();</TD></TR><TR CLASS="z"><TD CLASS="l">2998</TD><TD>                        assertEquals(&#34;Invalid start position for FieldDeclaration: &#34;+fieldDeclaration, fieldDeclaration.getStartPosition(), javadocStart);</TD></TR><TR><TD CLASS="l">2999</TD><TD> </TD></TR><TR><TD CLASS="l">3000</TD><TD>                        // Verify method declaration start</TD></TR><TR CLASS="z"><TD CLASS="l">3001</TD><TD>                        node = (ASTNode) bodyDeclarations.get(1);</TD></TR><TR CLASS="z"><TD CLASS="l">3002</TD><TD>                        assertEquals(&#34;Expected method declaration for node: &#34;+node, ASTNode.FUNCTION_DECLARATION, node.getNodeType());</TD></TR><TR CLASS="z"><TD CLASS="l">3003</TD><TD>                        methodDeclaration = (FunctionDeclaration) node;</TD></TR><TR CLASS="z"><TD CLASS="l">3004</TD><TD>                        javadocStart = javadocs[5].getStartPosition();</TD></TR><TR CLASS="z"><TD CLASS="l">3005</TD><TD>                        assertEquals(&#34;Invalid start position for FunctionDeclaration: &#34;+methodDeclaration, methodDeclaration.getStartPosition(), javadocStart);</TD></TR><TR><TD CLASS="l">3006</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">3007</TD><TD>        }</TD></TR><TR><TD CLASS="l">3008</TD><TD> </TD></TR><TR><TD CLASS="l">3009</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="34">3010</A></TD><TD>         * @bug 103304: [Javadoc] Wrong reference proposal for inner classes.</TD></TR><TR><TD CLASS="l">3011</TD><TD>         * @see &#34;http://bugs.eclipse.org/bugs/show_bug.cgi?id=103304&#34;</TD></TR><TR><TD CLASS="l">3012</TD><TD>         */</TD></TR><TR><TD CLASS="l">3013</TD><TD>        public void testBug103304() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">3014</TD><TD>                this.packageBinding = false; // do NOT verify that qualification only can be package name</TD></TR><TR CLASS="z"><TD CLASS="l">3015</TD><TD>                workingCopies = new IJavaScriptUnit[1];</TD></TR><TR CLASS="z"><TD CLASS="l">3016</TD><TD>                workingCopies[0] = getWorkingCopy(&#34;/Converter15/src/javadoc/b103304/Test.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">3017</TD><TD>                        &#34;package javadoc.b103304;\n&#34; + </TD></TR><TR><TD CLASS="l">3018</TD><TD>                        &#34;interface IAFAState {\n&#34; + </TD></TR><TR><TD CLASS="l">3019</TD><TD>                        &#34;    public class ValidationException extends Exception {\n&#34; + </TD></TR><TR><TD CLASS="l">3020</TD><TD>                        &#34;        public ValidationException(String variableName, IAFAState subformula) {\n&#34; + </TD></TR><TR><TD CLASS="l">3021</TD><TD>                        &#34;            super(\&#34;Variable \'\&#34;+variableName+\&#34;\' may be unbound in \'\&#34;+subformula+\&#34;\'\&#34;);\n&#34; + </TD></TR><TR><TD CLASS="l">3022</TD><TD>                        &#34;        }\n&#34; + </TD></TR><TR><TD CLASS="l">3023</TD><TD>                        &#34;    }\n&#34; + </TD></TR><TR><TD CLASS="l">3024</TD><TD>                        &#34;}\n&#34; +</TD></TR><TR><TD CLASS="l">3025</TD><TD>                        &#34;public class Test {\n&#34; + </TD></TR><TR><TD CLASS="l">3026</TD><TD>                        &#34;        /**\n&#34; + </TD></TR><TR><TD CLASS="l">3027</TD><TD>                        &#34;         * @see IAFAState.ValidationException#IAFAState.ValidationException(String, IAFAState)\n&#34; + </TD></TR><TR><TD CLASS="l">3028</TD><TD>                        &#34;         */\n&#34; + </TD></TR><TR><TD CLASS="l">3029</TD><TD>                        &#34;        IAFAState.ValidationException valid;\n&#34; + </TD></TR><TR><TD CLASS="l">3030</TD><TD>                        &#34;}\n&#34;</TD></TR><TR><TD CLASS="l">3031</TD><TD>                );</TD></TR><TR CLASS="z"><TD CLASS="l">3032</TD><TD>                JavaScriptUnit compilUnit = (JavaScriptUnit) runConversion(workingCopies[0], true);</TD></TR><TR CLASS="z"><TD CLASS="l">3033</TD><TD>                verifyWorkingCopiesComments();</TD></TR><TR CLASS="z"><TD CLASS="l">3034</TD><TD>                if (docCommentSupport.equals(JavaScriptCore.ENABLED)) {</TD></TR><TR><TD CLASS="l">3035</TD><TD>                        // Verify comment type</TD></TR><TR CLASS="z"><TD CLASS="l">3036</TD><TD>                        Iterator unitComments = compilUnit.getCommentList().iterator();</TD></TR><TR CLASS="z"><TD CLASS="l">3037</TD><TD>                        while (unitComments.hasNext()) {</TD></TR><TR CLASS="z"><TD CLASS="l">3038</TD><TD>                                Comment comment = (Comment) unitComments.next();</TD></TR><TR CLASS="z"><TD CLASS="l">3039</TD><TD>                                assertEquals(&#34;Comment should be javadoc&#34;, comment.getNodeType(), ASTNode.JSDOC);</TD></TR><TR CLASS="z"><TD CLASS="l">3040</TD><TD>                                JSdoc javadoc = (JSdoc) comment;</TD></TR><TR><TD CLASS="l">3041</TD><TD> </TD></TR><TR><TD CLASS="l">3042</TD><TD>                                // Verify that there's always a method reference in tags</TD></TR><TR CLASS="z"><TD CLASS="l">3043</TD><TD>                                List tags = javadoc.tags();</TD></TR><TR CLASS="z"><TD CLASS="l">3044</TD><TD>                                int size = tags.size();</TD></TR><TR CLASS="z"><TD CLASS="l">3045</TD><TD>                                for (int i=0; i&lt;size; i++) {</TD></TR><TR CLASS="z"><TD CLASS="l">3046</TD><TD>                                        TagElement tag = (TagElement) javadoc.tags().get(i);                                </TD></TR><TR CLASS="z"><TD CLASS="l">3047</TD><TD>                                        assertEquals(&#34;Invalid number of fragment for see reference: &#34;+tag, 1, tag.fragments().size());</TD></TR><TR CLASS="z"><TD CLASS="l">3048</TD><TD>                                        ASTNode node = (ASTNode) tag.fragments().get(0);</TD></TR><TR CLASS="z"><TD CLASS="l">3049</TD><TD>                                        assertEquals(&#34;Invalid kind of name reference for tag element: &#34;+tag, ASTNode.FUNCTION_REF, node.getNodeType());</TD></TR><TR><TD CLASS="l">3050</TD><TD>                                }</TD></TR><TR><TD CLASS="l">3051</TD><TD>                        }</TD></TR><TR><TD CLASS="l">3052</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">3053</TD><TD>        }</TD></TR><TR><TD CLASS="l">3054</TD><TD> </TD></TR><TR><TD CLASS="l">3055</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="35">3056</A></TD><TD>         * Bug 106581: [javadoc] null type binding for parameter in javadoc</TD></TR><TR><TD CLASS="l">3057</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=106581&#34;</TD></TR><TR><TD CLASS="l">3058</TD><TD>         */</TD></TR><TR><TD CLASS="l">3059</TD><TD>        public void testBug106581() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">3060</TD><TD>                workingCopies = new IJavaScriptUnit[1];</TD></TR><TR CLASS="z"><TD CLASS="l">3061</TD><TD>                astLevel = AST.JLS3;</TD></TR><TR CLASS="z"><TD CLASS="l">3062</TD><TD>                workingCopies[0] = getWorkingCopy(&#34;/Converter15/src/javadoc/b106581/A.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">3063</TD><TD>                        &#34;package javadoc.b106581;\n&#34; + </TD></TR><TR><TD CLASS="l">3064</TD><TD>                        &#34;public class A {\n&#34; + </TD></TR><TR><TD CLASS="l">3065</TD><TD>                        &#34;    /**\n&#34; + </TD></TR><TR><TD CLASS="l">3066</TD><TD>                        &#34;     * @param x\n&#34; + </TD></TR><TR><TD CLASS="l">3067</TD><TD>                        &#34;     */ \n&#34; + </TD></TR><TR><TD CLASS="l">3068</TD><TD>                        &#34;     public void foo(int x) {},\n&#34; + </TD></TR><TR><TD CLASS="l">3069</TD><TD>                        &#34;}\n&#34;</TD></TR><TR><TD CLASS="l">3070</TD><TD>                );</TD></TR><TR CLASS="z"><TD CLASS="l">3071</TD><TD>                JavaScriptUnit compilUnit = verifyComments(workingCopies[0]);</TD></TR><TR CLASS="z"><TD CLASS="l">3072</TD><TD>                if (docCommentSupport.equals(JavaScriptCore.ENABLED)) {</TD></TR><TR><TD CLASS="l">3073</TD><TD>                        // Get comment</TD></TR><TR CLASS="z"><TD CLASS="l">3074</TD><TD>                        List unitComments = compilUnit.getCommentList();</TD></TR><TR CLASS="z"><TD CLASS="l">3075</TD><TD>                        assertEquals(&#34;Wrong number of comments&#34;, 1, unitComments.size());</TD></TR><TR CLASS="z"><TD CLASS="l">3076</TD><TD>                        Comment comment = (Comment) unitComments.get(0);</TD></TR><TR CLASS="z"><TD CLASS="l">3077</TD><TD>                        assertEquals(&#34;Comment should be javadoc&#34;, comment.getNodeType(), ASTNode.JSDOC);</TD></TR><TR><TD CLASS="l">3078</TD><TD> </TD></TR><TR><TD CLASS="l">3079</TD><TD>                        // Get local variable declaration</TD></TR><TR CLASS="z"><TD CLASS="l">3080</TD><TD>                        JSdoc docComment = (JSdoc) comment;</TD></TR><TR CLASS="z"><TD CLASS="l">3081</TD><TD>                        TagElement tag = (TagElement) docComment.tags().get(0);</TD></TR><TR CLASS="z"><TD CLASS="l">3082</TD><TD>                        assertEquals(&#34;Invalid number of fragment for tag: &#34;+tag, 1, tag.fragments().size());</TD></TR><TR CLASS="z"><TD CLASS="l">3083</TD><TD>                        ASTNode node = (ASTNode) tag.fragments().get(0);</TD></TR><TR CLASS="z"><TD CLASS="l">3084</TD><TD>                        assertEquals(&#34;Invalid kind of name reference for tag element: &#34;+tag, ASTNode.SIMPLE_NAME, node.getNodeType());</TD></TR><TR CLASS="z"><TD CLASS="l">3085</TD><TD>                        SimpleName simpleName = (SimpleName) node;</TD></TR><TR CLASS="z"><TD CLASS="l">3086</TD><TD>                        assertNotNull(&#34;We should have a type binding for simple name: &#34;+simpleName, simpleName.resolveTypeBinding());</TD></TR><TR><TD CLASS="l">3087</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">3088</TD><TD>        }</TD></TR><TR><TD CLASS="l">3089</TD><TD> </TD></TR><TR><TD CLASS="l">3090</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="36">3091</A></TD><TD>         * Bug 108622: [javadoc][dom] ASTNode not including javadoc</TD></TR><TR><TD CLASS="l">3092</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=108622&#34;</TD></TR><TR><TD CLASS="l">3093</TD><TD>         */</TD></TR><TR><TD CLASS="l">3094</TD><TD>        public void testBug108622() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">3095</TD><TD>                workingCopies = new IJavaScriptUnit[1];</TD></TR><TR CLASS="z"><TD CLASS="l">3096</TD><TD>                astLevel = AST.JLS3;</TD></TR><TR CLASS="z"><TD CLASS="l">3097</TD><TD>                workingCopies[0] = getWorkingCopy(&#34;/Converter15/src/javadoc/b108622/Test.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">3098</TD><TD>                        &#34;package javadoc.b108622;\n&#34; + </TD></TR><TR><TD CLASS="l">3099</TD><TD>                        &#34;/**\n&#34; + </TD></TR><TR><TD CLASS="l">3100</TD><TD>                        &#34; * \n&#34; + </TD></TR><TR><TD CLASS="l">3101</TD><TD>                        &#34; */\n&#34; + </TD></TR><TR><TD CLASS="l">3102</TD><TD>                        &#34;public abstract class Test {\n&#34; + </TD></TR><TR><TD CLASS="l">3103</TD><TD>                        &#34;\n&#34; + </TD></TR><TR><TD CLASS="l">3104</TD><TD>                        &#34;        /**\n&#34; + </TD></TR><TR><TD CLASS="l">3105</TD><TD>                        &#34;         * \n&#34; + </TD></TR><TR><TD CLASS="l">3106</TD><TD>                        &#34;         */\n&#34; + </TD></TR><TR><TD CLASS="l">3107</TD><TD>                        &#34;        public abstract Zork getFoo();\n&#34; + </TD></TR><TR><TD CLASS="l">3108</TD><TD>                        &#34;\n&#34; + </TD></TR><TR><TD CLASS="l">3109</TD><TD>                        &#34;        /**\n&#34; + </TD></TR><TR><TD CLASS="l">3110</TD><TD>                        &#34;         * \n&#34; + </TD></TR><TR><TD CLASS="l">3111</TD><TD>                        &#34;         */\n&#34; + </TD></TR><TR><TD CLASS="l">3112</TD><TD>                        &#34;        public abstract void setFoo(Zork dept);\n&#34; + </TD></TR><TR><TD CLASS="l">3113</TD><TD>                        &#34;\n&#34; + </TD></TR><TR><TD CLASS="l">3114</TD><TD>                        &#34;}&#34;</TD></TR><TR><TD CLASS="l">3115</TD><TD>                        );</TD></TR><TR CLASS="z"><TD CLASS="l">3116</TD><TD>                JavaScriptUnit compilUnit = (JavaScriptUnit) runConversion(workingCopies[0], true);</TD></TR><TR CLASS="z"><TD CLASS="l">3117</TD><TD>                if (docCommentSupport.equals(JavaScriptCore.ENABLED)) {</TD></TR><TR><TD CLASS="l">3118</TD><TD>                        // Verify first method</TD></TR><TR CLASS="z"><TD CLASS="l">3119</TD><TD>                        ASTNode node = getASTNode(compilUnit, 0, 0);</TD></TR><TR CLASS="z"><TD CLASS="l">3120</TD><TD>                        assertEquals(&#34;Invalid type for node: &#34;+node, ASTNode.FUNCTION_DECLARATION, node.getNodeType());</TD></TR><TR CLASS="z"><TD CLASS="l">3121</TD><TD>                        FunctionDeclaration methodDeclaration = (FunctionDeclaration) node;</TD></TR><TR CLASS="z"><TD CLASS="l">3122</TD><TD>                        assertEquals(&#34;Invalid method name&#34;, &#34;getFoo&#34;, methodDeclaration.getName().toString());</TD></TR><TR CLASS="z"><TD CLASS="l">3123</TD><TD>                        JSdoc methodJavadoc = methodDeclaration.getJavadoc();</TD></TR><TR CLASS="z"><TD CLASS="l">3124</TD><TD>                        assertNotNull(&#34;FunctionDeclaration have a javadoc comment&#34;, methodJavadoc);</TD></TR><TR CLASS="z"><TD CLASS="l">3125</TD><TD>                        int javadocStart = methodJavadoc.getStartPosition();</TD></TR><TR CLASS="z"><TD CLASS="l">3126</TD><TD>                        assertEquals(&#34;Method declaration should include javadoc comment&#34;, methodDeclaration.getStartPosition(), javadocStart);</TD></TR><TR><TD CLASS="l">3127</TD><TD>                        // Verify second method</TD></TR><TR CLASS="z"><TD CLASS="l">3128</TD><TD>                        node = getASTNode(compilUnit, 0, 1);</TD></TR><TR CLASS="z"><TD CLASS="l">3129</TD><TD>                        assertEquals(&#34;Invalid type for node: &#34;+node, ASTNode.FUNCTION_DECLARATION, node.getNodeType());</TD></TR><TR CLASS="z"><TD CLASS="l">3130</TD><TD>                        methodDeclaration = (FunctionDeclaration) node;</TD></TR><TR CLASS="z"><TD CLASS="l">3131</TD><TD>                        assertEquals(&#34;Invalid method name&#34;, &#34;setFoo&#34;, methodDeclaration.getName().toString());</TD></TR><TR CLASS="z"><TD CLASS="l">3132</TD><TD>                        methodJavadoc = methodDeclaration.getJavadoc();</TD></TR><TR CLASS="z"><TD CLASS="l">3133</TD><TD>                        assertNotNull(&#34;FunctionDeclaration have a javadoc comment&#34;, methodJavadoc);</TD></TR><TR CLASS="z"><TD CLASS="l">3134</TD><TD>                        javadocStart = methodJavadoc.getStartPosition();</TD></TR><TR CLASS="z"><TD CLASS="l">3135</TD><TD>                        assertEquals(&#34;Method declaration should include javadoc comment&#34;, methodDeclaration.getStartPosition(), javadocStart);</TD></TR><TR><TD CLASS="l">3136</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">3137</TD><TD>        }</TD></TR><TR><TD CLASS="l">3138</TD><TD> </TD></TR><TR><TD CLASS="l">3139</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="37">3140</A></TD><TD>         * Bug 113108: [API][comments] JavaScriptUnit.getNodeComments(ASTNode)</TD></TR><TR><TD CLASS="l">3141</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=113108&#34;</TD></TR><TR><TD CLASS="l">3142</TD><TD>         */</TD></TR><TR><TD CLASS="l">3143</TD><TD>        public void testBug113108a() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">3144</TD><TD>                workingCopies = new IJavaScriptUnit[1];</TD></TR><TR CLASS="z"><TD CLASS="l">3145</TD><TD>                astLevel = AST.JLS3;</TD></TR><TR CLASS="z"><TD CLASS="l">3146</TD><TD>                workingCopies[0] = getWorkingCopy(&#34;/Converter15/src/javadoc/b113108/Test.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">3147</TD><TD>                        &#34;package javadoc.b113108;\n&#34; + </TD></TR><TR><TD CLASS="l">3148</TD><TD>                        &#34;/** C0 */\n&#34; +</TD></TR><TR><TD CLASS="l">3149</TD><TD>                        &#34;public class Test {\n&#34; + </TD></TR><TR><TD CLASS="l">3150</TD><TD>                        &#34;        /* C1 */\n&#34; + </TD></TR><TR><TD CLASS="l">3151</TD><TD>                        &#34;        /** C2 */\n&#34; + </TD></TR><TR><TD CLASS="l">3152</TD><TD>                        &#34;        // C3\n&#34; + </TD></TR><TR><TD CLASS="l">3153</TD><TD>                        &#34;        public void foo() {\n&#34; + </TD></TR><TR><TD CLASS="l">3154</TD><TD>                        &#34;                /* C4 */\n&#34; + </TD></TR><TR><TD CLASS="l">3155</TD><TD>                        &#34;        }\n&#34; + </TD></TR><TR><TD CLASS="l">3156</TD><TD>                        &#34;        /* C5 */\n&#34; + </TD></TR><TR><TD CLASS="l">3157</TD><TD>                        &#34;        /** C6 */\n&#34; + </TD></TR><TR><TD CLASS="l">3158</TD><TD>                        &#34;        // C7\n&#34; + </TD></TR><TR><TD CLASS="l">3159</TD><TD>                        &#34;}&#34;</TD></TR><TR><TD CLASS="l">3160</TD><TD>                        );</TD></TR><TR CLASS="z"><TD CLASS="l">3161</TD><TD>                JavaScriptUnit compilUnit = (JavaScriptUnit) runConversion(workingCopies[0], true);</TD></TR><TR CLASS="z"><TD CLASS="l">3162</TD><TD>                verifyWorkingCopiesComments();</TD></TR><TR CLASS="z"><TD CLASS="l">3163</TD><TD>                if (docCommentSupport.equals(JavaScriptCore.ENABLED)) {</TD></TR><TR><TD CLASS="l">3164</TD><TD>                        // Verify  method javadoc</TD></TR><TR CLASS="z"><TD CLASS="l">3165</TD><TD>                        ASTNode node = getASTNode(compilUnit, 0, 0);</TD></TR><TR CLASS="z"><TD CLASS="l">3166</TD><TD>                        assertEquals(&#34;Invalid type for node: &#34;+node, ASTNode.FUNCTION_DECLARATION, node.getNodeType());</TD></TR><TR CLASS="z"><TD CLASS="l">3167</TD><TD>                        FunctionDeclaration methodDeclaration = (FunctionDeclaration) node;</TD></TR><TR CLASS="z"><TD CLASS="l">3168</TD><TD>                        assertEquals(&#34;Invalid method name&#34;, &#34;foo&#34;, methodDeclaration.getName().toString());</TD></TR><TR CLASS="z"><TD CLASS="l">3169</TD><TD>                        JSdoc methodJavadoc = methodDeclaration.getJavadoc();</TD></TR><TR CLASS="z"><TD CLASS="l">3170</TD><TD>                        assertNotNull(&#34;FunctionDeclaration have a javadoc comment&#34;, methodJavadoc);</TD></TR><TR CLASS="z"><TD CLASS="l">3171</TD><TD>                        int javadocStart = methodJavadoc.getStartPosition();</TD></TR><TR CLASS="z"><TD CLASS="l">3172</TD><TD>                        assertEquals(&#34;Method declaration should include javadoc comment&#34;, methodDeclaration.getStartPosition(), javadocStart);</TD></TR><TR><TD CLASS="l">3173</TD><TD>                        // Verify method first leading and last trailing comment</TD></TR><TR CLASS="z"><TD CLASS="l">3174</TD><TD>                        int index = compilUnit.firstLeadingCommentIndex(methodDeclaration);</TD></TR><TR CLASS="z"><TD CLASS="l">3175</TD><TD>                        assertEquals(&#34;Invalid first leading comment for &#34;+methodDeclaration, 1, index);</TD></TR><TR CLASS="z"><TD CLASS="l">3176</TD><TD>                        index = compilUnit.lastTrailingCommentIndex(methodDeclaration);</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="38">3177</A></TD><TD>                        assertEquals(&#34;Invalid last trailing comment for &#34;+methodDeclaration, 7, index);</TD></TR><TR><TD CLASS="l">3178</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">3179</TD><TD>        }</TD></TR><TR><TD CLASS="l">3180</TD><TD>        public void testBug113108b() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">3181</TD><TD>                workingCopies = new IJavaScriptUnit[1];</TD></TR><TR CLASS="z"><TD CLASS="l">3182</TD><TD>                astLevel = AST.JLS3;</TD></TR><TR CLASS="z"><TD CLASS="l">3183</TD><TD>                workingCopies[0] = getWorkingCopy(&#34;/Converter15/src/javadoc/b113108/Test.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">3184</TD><TD>                        &#34;package javadoc.b113108;\n&#34; + </TD></TR><TR><TD CLASS="l">3185</TD><TD>                        &#34;/** C0 */\n&#34; +</TD></TR><TR><TD CLASS="l">3186</TD><TD>                        &#34;public class Test {\n&#34; + </TD></TR><TR><TD CLASS="l">3187</TD><TD>                        &#34;        /** C1 */\n&#34; + </TD></TR><TR><TD CLASS="l">3188</TD><TD>                        &#34;        // C2\n&#34; + </TD></TR><TR><TD CLASS="l">3189</TD><TD>                        &#34;        /* C3 */\n&#34; + </TD></TR><TR><TD CLASS="l">3190</TD><TD>                        &#34;        public void foo() {\n&#34; + </TD></TR><TR><TD CLASS="l">3191</TD><TD>                        &#34;                // C4\n&#34; + </TD></TR><TR><TD CLASS="l">3192</TD><TD>                        &#34;        }\n&#34; + </TD></TR><TR><TD CLASS="l">3193</TD><TD>                        &#34;        /** C5 */\n&#34; + </TD></TR><TR><TD CLASS="l">3194</TD><TD>                        &#34;        /// C6\n&#34; + </TD></TR><TR><TD CLASS="l">3195</TD><TD>                        &#34;        /* C7 */\n&#34; + </TD></TR><TR><TD CLASS="l">3196</TD><TD>                        &#34;}&#34;</TD></TR><TR><TD CLASS="l">3197</TD><TD>                        );</TD></TR><TR CLASS="z"><TD CLASS="l">3198</TD><TD>                JavaScriptUnit compilUnit = (JavaScriptUnit) runConversion(workingCopies[0], true);</TD></TR><TR CLASS="z"><TD CLASS="l">3199</TD><TD>                verifyWorkingCopiesComments();</TD></TR><TR CLASS="z"><TD CLASS="l">3200</TD><TD>                if (docCommentSupport.equals(JavaScriptCore.ENABLED)) {</TD></TR><TR><TD CLASS="l">3201</TD><TD>                        // Verify  method javadoc</TD></TR><TR CLASS="z"><TD CLASS="l">3202</TD><TD>                        ASTNode node = getASTNode(compilUnit, 0, 0);</TD></TR><TR CLASS="z"><TD CLASS="l">3203</TD><TD>                        assertEquals(&#34;Invalid type for node: &#34;+node, ASTNode.FUNCTION_DECLARATION, node.getNodeType());</TD></TR><TR CLASS="z"><TD CLASS="l">3204</TD><TD>                        FunctionDeclaration methodDeclaration = (FunctionDeclaration) node;</TD></TR><TR CLASS="z"><TD CLASS="l">3205</TD><TD>                        assertEquals(&#34;Invalid method name&#34;, &#34;foo&#34;, methodDeclaration.getName().toString());</TD></TR><TR CLASS="z"><TD CLASS="l">3206</TD><TD>                        JSdoc methodJavadoc = methodDeclaration.getJavadoc();</TD></TR><TR CLASS="z"><TD CLASS="l">3207</TD><TD>                        assertNotNull(&#34;FunctionDeclaration have a javadoc comment&#34;, methodJavadoc);</TD></TR><TR CLASS="z"><TD CLASS="l">3208</TD><TD>                        int javadocStart = methodJavadoc.getStartPosition();</TD></TR><TR CLASS="z"><TD CLASS="l">3209</TD><TD>                        assertEquals(&#34;Method declaration should include javadoc comment&#34;, methodDeclaration.getStartPosition(), javadocStart);</TD></TR><TR><TD CLASS="l">3210</TD><TD>                        // Verify method first leading and last trailing comment</TD></TR><TR CLASS="z"><TD CLASS="l">3211</TD><TD>                        int index = compilUnit.firstLeadingCommentIndex(methodDeclaration);</TD></TR><TR CLASS="z"><TD CLASS="l">3212</TD><TD>                        assertEquals(&#34;Invalid first leading comment for &#34;+methodDeclaration, 1, index);</TD></TR><TR CLASS="z"><TD CLASS="l">3213</TD><TD>                        index = compilUnit.lastTrailingCommentIndex(methodDeclaration);</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="39">3214</A></TD><TD>                        assertEquals(&#34;Invalid last trailing comment for &#34;+methodDeclaration, 7, index);</TD></TR><TR><TD CLASS="l">3215</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">3216</TD><TD>        }</TD></TR><TR><TD CLASS="l">3217</TD><TD>        public void testBug113108c() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">3218</TD><TD>                workingCopies = new IJavaScriptUnit[1];</TD></TR><TR CLASS="z"><TD CLASS="l">3219</TD><TD>                astLevel = AST.JLS3;</TD></TR><TR CLASS="z"><TD CLASS="l">3220</TD><TD>                workingCopies[0] = getWorkingCopy(&#34;/Converter15/src/javadoc/b113108/Test.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">3221</TD><TD>                        &#34;package javadoc.b113108;\n&#34; + </TD></TR><TR><TD CLASS="l">3222</TD><TD>                        &#34;/** C0 */\n&#34; +</TD></TR><TR><TD CLASS="l">3223</TD><TD>                        &#34;public class Test {\n&#34; + </TD></TR><TR><TD CLASS="l">3224</TD><TD>                        &#34;        // C1\n&#34; + </TD></TR><TR><TD CLASS="l">3225</TD><TD>                        &#34;        /* C2 */\n&#34; + </TD></TR><TR><TD CLASS="l">3226</TD><TD>                        &#34;        /** C3 */\n&#34; + </TD></TR><TR><TD CLASS="l">3227</TD><TD>                        &#34;        public void foo() {\n&#34; + </TD></TR><TR><TD CLASS="l">3228</TD><TD>                        &#34;                /** C4 */\n&#34; + </TD></TR><TR><TD CLASS="l">3229</TD><TD>                        &#34;        }\n&#34; + </TD></TR><TR><TD CLASS="l">3230</TD><TD>                        &#34;        // C5\n&#34; + </TD></TR><TR><TD CLASS="l">3231</TD><TD>                        &#34;        /* C6 */\n&#34; + </TD></TR><TR><TD CLASS="l">3232</TD><TD>                        &#34;        /** C7 */\n&#34; + </TD></TR><TR><TD CLASS="l">3233</TD><TD>                        &#34;}&#34;</TD></TR><TR><TD CLASS="l">3234</TD><TD>                        );</TD></TR><TR CLASS="z"><TD CLASS="l">3235</TD><TD>                JavaScriptUnit compilUnit = (JavaScriptUnit) runConversion(workingCopies[0], true);</TD></TR><TR CLASS="z"><TD CLASS="l">3236</TD><TD>                verifyWorkingCopiesComments();</TD></TR><TR CLASS="z"><TD CLASS="l">3237</TD><TD>                if (docCommentSupport.equals(JavaScriptCore.ENABLED)) {</TD></TR><TR><TD CLASS="l">3238</TD><TD>                        // Verify  method javadoc</TD></TR><TR CLASS="z"><TD CLASS="l">3239</TD><TD>                        ASTNode node = getASTNode(compilUnit, 0, 0);</TD></TR><TR CLASS="z"><TD CLASS="l">3240</TD><TD>                        assertEquals(&#34;Invalid type for node: &#34;+node, ASTNode.FUNCTION_DECLARATION, node.getNodeType());</TD></TR><TR CLASS="z"><TD CLASS="l">3241</TD><TD>                        FunctionDeclaration methodDeclaration = (FunctionDeclaration) node;</TD></TR><TR CLASS="z"><TD CLASS="l">3242</TD><TD>                        assertEquals(&#34;Invalid method name&#34;, &#34;foo&#34;, methodDeclaration.getName().toString());</TD></TR><TR CLASS="z"><TD CLASS="l">3243</TD><TD>                        JSdoc methodJavadoc = methodDeclaration.getJavadoc();</TD></TR><TR CLASS="z"><TD CLASS="l">3244</TD><TD>                        assertNotNull(&#34;FunctionDeclaration have a javadoc comment&#34;, methodJavadoc);</TD></TR><TR CLASS="z"><TD CLASS="l">3245</TD><TD>                        int javadocStart = methodJavadoc.getStartPosition();</TD></TR><TR CLASS="z"><TD CLASS="l">3246</TD><TD>                        assertEquals(&#34;Method declaration should include javadoc comment&#34;, methodDeclaration.getStartPosition(), javadocStart);</TD></TR><TR><TD CLASS="l">3247</TD><TD>                        // Verify method first leading and last trailing comment</TD></TR><TR CLASS="z"><TD CLASS="l">3248</TD><TD>                        int index = compilUnit.firstLeadingCommentIndex(methodDeclaration);</TD></TR><TR CLASS="z"><TD CLASS="l">3249</TD><TD>                        assertEquals(&#34;Invalid first leading comment for &#34;+methodDeclaration, 1, index);</TD></TR><TR CLASS="z"><TD CLASS="l">3250</TD><TD>                        index = compilUnit.lastTrailingCommentIndex(methodDeclaration);</TD></TR><TR CLASS="z"><TD CLASS="l">3251</TD><TD>                        assertEquals(&#34;Invalid last trailing comment for &#34;+methodDeclaration, 7, index);</TD></TR><TR><TD CLASS="l">3252</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">3253</TD><TD>        }</TD></TR><TR><TD CLASS="l">3254</TD><TD> </TD></TR><TR><TD CLASS="l">3255</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="3a">3256</A></TD><TD>         * @bug 125676: [javadoc] @category should not read beyond end of line</TD></TR><TR><TD CLASS="l">3257</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=125676&#34;</TD></TR><TR><TD CLASS="l">3258</TD><TD>         */</TD></TR><TR><TD CLASS="l">3259</TD><TD>        public void testBug125676() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">3260</TD><TD>                workingCopies = new IJavaScriptUnit[3];</TD></TR><TR CLASS="z"><TD CLASS="l">3261</TD><TD>                astLevel = AST.JLS3;</TD></TR><TR CLASS="z"><TD CLASS="l">3262</TD><TD>                workingCopies[0] = getWorkingCopy(&#34;/Converter15/src/javadoc/b125676/A.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">3263</TD><TD>                        &#34;package javadoc.b125676;\n&#34; + </TD></TR><TR><TD CLASS="l">3264</TD><TD>                        &#34;public class A {\n&#34; + </TD></TR><TR><TD CLASS="l">3265</TD><TD>                        &#34;        /**\n&#34; + </TD></TR><TR><TD CLASS="l">3266</TD><TD>                        &#34;         * @category \n&#34; + </TD></TR><TR><TD CLASS="l">3267</TD><TD>                        &#34;         * When searching for field matches, it will exclusively find read accesses, as\n&#34; + </TD></TR><TR><TD CLASS="l">3268</TD><TD>                        &#34;         * opposed to write accesses. Note that some expressions are considered both\n&#34; + </TD></TR><TR><TD CLASS="l">3269</TD><TD>                        &#34;         * as field read/write accesses: for example, x++; x+= 1;\n&#34; + </TD></TR><TR><TD CLASS="l">3270</TD><TD>                        &#34;         * \n&#34; + </TD></TR><TR><TD CLASS="l">3271</TD><TD>                        &#34;         * @since 2.0\n&#34; + </TD></TR><TR><TD CLASS="l">3272</TD><TD>                        &#34;         */\n&#34; + </TD></TR><TR><TD CLASS="l">3273</TD><TD>                        &#34;        int READ_ACCESSES = 4;\n&#34; + </TD></TR><TR><TD CLASS="l">3274</TD><TD>                        &#34;}\n&#34;</TD></TR><TR><TD CLASS="l">3275</TD><TD>                );</TD></TR><TR CLASS="z"><TD CLASS="l">3276</TD><TD>                workingCopies[1] = getWorkingCopy(&#34;/Converter15/src/javadoc/b125676/B.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">3277</TD><TD>                        &#34;package javadoc.b125676;\n&#34; + </TD></TR><TR><TD CLASS="l">3278</TD><TD>                        &#34;public class B {\n&#34; + </TD></TR><TR><TD CLASS="l">3279</TD><TD>                        &#34;        /**\n&#34; + </TD></TR><TR><TD CLASS="l">3280</TD><TD>                        &#34;         * @category test\n&#34; + </TD></TR><TR><TD CLASS="l">3281</TD><TD>                        &#34;         */\n&#34; + </TD></TR><TR><TD CLASS="l">3282</TD><TD>                        &#34;        int field1;\n&#34; + </TD></TR><TR><TD CLASS="l">3283</TD><TD>                        &#34;        /**\n&#34; + </TD></TR><TR><TD CLASS="l">3284</TD><TD>                        &#34;         * @category     test\n&#34; + </TD></TR><TR><TD CLASS="l">3285</TD><TD>                        &#34;         */\n&#34; + </TD></TR><TR><TD CLASS="l">3286</TD><TD>                        &#34;        int field2;\n&#34; + </TD></TR><TR><TD CLASS="l">3287</TD><TD>                        &#34;        /**\n&#34; + </TD></TR><TR><TD CLASS="l">3288</TD><TD>                        &#34;         * @category test    \n&#34; + </TD></TR><TR><TD CLASS="l">3289</TD><TD>                        &#34;         */\n&#34; + </TD></TR><TR><TD CLASS="l">3290</TD><TD>                        &#34;        int field3;\n&#34; + </TD></TR><TR><TD CLASS="l">3291</TD><TD>                        &#34;        /**\n&#34; + </TD></TR><TR><TD CLASS="l">3292</TD><TD>                        &#34;         * @category    test    \n&#34; + </TD></TR><TR><TD CLASS="l">3293</TD><TD>                        &#34;         */\n&#34; + </TD></TR><TR><TD CLASS="l">3294</TD><TD>                        &#34;        int field4;\n&#34; + </TD></TR><TR><TD CLASS="l">3295</TD><TD>                        &#34;        /** @category test */\n&#34; + </TD></TR><TR><TD CLASS="l">3296</TD><TD>                        &#34;        int field5;\n&#34; + </TD></TR><TR><TD CLASS="l">3297</TD><TD>                        &#34;\n&#34; + </TD></TR><TR><TD CLASS="l">3298</TD><TD>                        &#34;}\n&#34;</TD></TR><TR><TD CLASS="l">3299</TD><TD>                );</TD></TR><TR CLASS="z"><TD CLASS="l">3300</TD><TD>                workingCopies[2] = getWorkingCopy(&#34;/Converter15/src/javadoc/b125676/C.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">3301</TD><TD>                        &#34;package javadoc.b125676;\n&#34; + </TD></TR><TR><TD CLASS="l">3302</TD><TD>                        &#34;public class C { \n&#34; + </TD></TR><TR><TD CLASS="l">3303</TD><TD>                        &#34;        /**\n&#34; + </TD></TR><TR><TD CLASS="l">3304</TD><TD>                        &#34;         * @category test mutli ids\n&#34; + </TD></TR><TR><TD CLASS="l">3305</TD><TD>                        &#34;         */\n&#34; + </TD></TR><TR><TD CLASS="l">3306</TD><TD>                        &#34;        int field1;\n&#34; + </TD></TR><TR><TD CLASS="l">3307</TD><TD>                        &#34;        /**\n&#34; + </TD></TR><TR><TD CLASS="l">3308</TD><TD>                        &#34;         * @category    test    mutli    ids   \n&#34; + </TD></TR><TR><TD CLASS="l">3309</TD><TD>                        &#34;         */\n&#34; + </TD></TR><TR><TD CLASS="l">3310</TD><TD>                        &#34;        int field2;\n&#34; + </TD></TR><TR><TD CLASS="l">3311</TD><TD>                        &#34;        /** @category    test    mutli    ids*/\n&#34; + </TD></TR><TR><TD CLASS="l">3312</TD><TD>                        &#34;        int field3;\n&#34; + </TD></TR><TR><TD CLASS="l">3313</TD><TD>                        &#34;}\n&#34;</TD></TR><TR><TD CLASS="l">3314</TD><TD>                );</TD></TR><TR CLASS="z"><TD CLASS="l">3315</TD><TD>                verifyWorkingCopiesComments();</TD></TR><TR CLASS="z"><TD CLASS="l">3316</TD><TD>        }</TD></TR><TR><TD CLASS="l">3317</TD><TD> </TD></TR><TR><TD CLASS="l">3318</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="3b">3319</A></TD><TD>         * @bug 125903: [javadoc] Treat whitespace in javadoc tags as invalid tags</TD></TR><TR><TD CLASS="l">3320</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=125903&#34;</TD></TR><TR><TD CLASS="l">3321</TD><TD>         */</TD></TR><TR><TD CLASS="l">3322</TD><TD>        public void testBug125903() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">3323</TD><TD>                workingCopies = new IJavaScriptUnit[1];</TD></TR><TR CLASS="z"><TD CLASS="l">3324</TD><TD>                astLevel = AST.JLS3;</TD></TR><TR CLASS="z"><TD CLASS="l">3325</TD><TD>                workingCopies[0] = getWorkingCopy(&#34;/Converter15/src/javadoc/b125903/Test.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">3326</TD><TD>                        &#34;package javadoc.b125903;\n&#34; + </TD></TR><TR><TD CLASS="l">3327</TD><TD>                        &#34;/**\n&#34; + </TD></TR><TR><TD CLASS="l">3328</TD><TD>                        &#34; * {@ link java.lang.String}\n&#34; + </TD></TR><TR><TD CLASS="l">3329</TD><TD>                        &#34; * @ since 2.1\n&#34; + </TD></TR><TR><TD CLASS="l">3330</TD><TD>                        &#34; */\n&#34; + </TD></TR><TR><TD CLASS="l">3331</TD><TD>                        &#34;public class Test {\n&#34; + </TD></TR><TR><TD CLASS="l">3332</TD><TD>                        &#34;\n&#34; + </TD></TR><TR><TD CLASS="l">3333</TD><TD>                        &#34;}\n&#34;</TD></TR><TR><TD CLASS="l">3334</TD><TD>                );</TD></TR><TR CLASS="z"><TD CLASS="l">3335</TD><TD>                JavaScriptUnit compilUnit = (JavaScriptUnit) runConversion(workingCopies[0], true);</TD></TR><TR CLASS="z"><TD CLASS="l">3336</TD><TD>                verifyWorkingCopiesComments();</TD></TR><TR CLASS="z"><TD CLASS="l">3337</TD><TD>                if (docCommentSupport.equals(JavaScriptCore.ENABLED)) {</TD></TR><TR><TD CLASS="l">3338</TD><TD>                        // Verify  method javadoc</TD></TR><TR CLASS="z"><TD CLASS="l">3339</TD><TD>                        ASTNode node = getASTNode(compilUnit, 0);</TD></TR><TR CLASS="z"><TD CLASS="l">3340</TD><TD>                        assertEquals(&#34;Invalid type for node: &#34;+node, ASTNode.TYPE_DECLARATION, node.getNodeType());</TD></TR><TR CLASS="z"><TD CLASS="l">3341</TD><TD>                        TypeDeclaration typeDeclaration = (TypeDeclaration) node;</TD></TR><TR CLASS="z"><TD CLASS="l">3342</TD><TD>                        JSdoc javadoc = typeDeclaration.getJavadoc();</TD></TR><TR CLASS="z"><TD CLASS="l">3343</TD><TD>                        assertNotNull(&#34;TypeDeclaration should have a javadoc comment&#34;, javadoc);</TD></TR><TR CLASS="z"><TD CLASS="l">3344</TD><TD>                        List tags = javadoc.tags();</TD></TR><TR CLASS="z"><TD CLASS="l">3345</TD><TD>                        TagElement tag = (TagElement) tags.get(0);</TD></TR><TR CLASS="z"><TD CLASS="l">3346</TD><TD>                        tag = (TagElement) tag.fragments().get(0);</TD></TR><TR CLASS="z"><TD CLASS="l">3347</TD><TD>                        assertEquals(&#34;Tag name should be empty&#34;, tag.getTagName(), &#34;@&#34;);</TD></TR><TR CLASS="z"><TD CLASS="l">3348</TD><TD>                        tag = (TagElement) tags.get(1);</TD></TR><TR CLASS="z"><TD CLASS="l">3349</TD><TD>                        assertEquals(&#34;Tag name should be empty&#34;, tag.getTagName(), &#34;@&#34;);</TD></TR><TR><TD CLASS="l">3350</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">3351</TD><TD>        }</TD></TR><TR><TD CLASS="l">3352</TD><TD> </TD></TR><TR><TD CLASS="l">3353</TD><TD>        /**</TD></TR><TR><TD CLASS="l"><A NAME="3c">3354</A></TD><TD>         * @bug 130752: [comments] first BlockComment parsed as LineComment</TD></TR><TR><TD CLASS="l">3355</TD><TD>         * @see &#34;https://bugs.eclipse.org/bugs/show_bug.cgi?id=130752&#34;</TD></TR><TR><TD CLASS="l">3356</TD><TD>         */</TD></TR><TR><TD CLASS="l">3357</TD><TD>        public void testBug130752() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">3358</TD><TD>                workingCopies = new IJavaScriptUnit[1];</TD></TR><TR CLASS="z"><TD CLASS="l">3359</TD><TD>                workingCopies[0] = getWorkingCopy(&#34;/Converter15/src/javadoc/b130752/Test.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">3360</TD><TD>                        &#34;/* Ceci n'est pas\n&#34; + </TD></TR><TR><TD CLASS="l">3361</TD><TD>                        &#34; * une ligne. */\n&#34; + </TD></TR><TR><TD CLASS="l">3362</TD><TD>                        &#34;package javadoc.b130752;\n&#34; + </TD></TR><TR><TD CLASS="l">3363</TD><TD>                        &#34;public class Test {\n&#34; + </TD></TR><TR><TD CLASS="l">3364</TD><TD>                        &#34;}\n&#34;</TD></TR><TR><TD CLASS="l">3365</TD><TD>                );</TD></TR><TR CLASS="z"><TD CLASS="l">3366</TD><TD>                JavaScriptUnit compilUnit = (JavaScriptUnit) runConversion(workingCopies[0], true);</TD></TR><TR CLASS="z"><TD CLASS="l">3367</TD><TD>                verifyWorkingCopiesComments();</TD></TR><TR CLASS="z"><TD CLASS="l">3368</TD><TD>                if (docCommentSupport.equals(JavaScriptCore.ENABLED)) {</TD></TR><TR><TD CLASS="l">3369</TD><TD>                        // Verify comment type</TD></TR><TR CLASS="z"><TD CLASS="l">3370</TD><TD>                        List unitComments = compilUnit.getCommentList();</TD></TR><TR CLASS="z"><TD CLASS="l">3371</TD><TD>                        assertEquals(&#34;Wrong number of comments&#34;, 1, unitComments.size());</TD></TR><TR CLASS="z"><TD CLASS="l">3372</TD><TD>                        Comment comment = (Comment) unitComments.get(0);</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="3d">3373</A></TD><TD>                        assertEquals(&#34;Comment should be javadoc&#34;, comment.getNodeType(), ASTNode.BLOCK_COMMENT);</TD></TR><TR><TD CLASS="l">3374</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">3375</TD><TD>        }</TD></TR><TR><TD CLASS="l">3376</TD><TD>        public void testBug130752b() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">3377</TD><TD>                workingCopies = new IJavaScriptUnit[1];</TD></TR><TR CLASS="z"><TD CLASS="l">3378</TD><TD>                workingCopies[0] = getWorkingCopy(&#34;/Converter15/src/javadoc/b130752/Test.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">3379</TD><TD>                        &#34;// Line comment\n&#34; + </TD></TR><TR><TD CLASS="l">3380</TD><TD>                        &#34;package javadoc.b130752;\n&#34; + </TD></TR><TR><TD CLASS="l">3381</TD><TD>                        &#34;public class Test {\n&#34; + </TD></TR><TR><TD CLASS="l">3382</TD><TD>                        &#34;}\n&#34;</TD></TR><TR><TD CLASS="l">3383</TD><TD>                );</TD></TR><TR CLASS="z"><TD CLASS="l">3384</TD><TD>                JavaScriptUnit compilUnit = (JavaScriptUnit) runConversion(workingCopies[0], true);</TD></TR><TR CLASS="z"><TD CLASS="l">3385</TD><TD>                verifyWorkingCopiesComments();</TD></TR><TR CLASS="z"><TD CLASS="l">3386</TD><TD>                if (docCommentSupport.equals(JavaScriptCore.ENABLED)) {</TD></TR><TR><TD CLASS="l">3387</TD><TD>                        // Verify comment type</TD></TR><TR CLASS="z"><TD CLASS="l">3388</TD><TD>                        List unitComments = compilUnit.getCommentList();</TD></TR><TR CLASS="z"><TD CLASS="l">3389</TD><TD>                        assertEquals(&#34;Wrong number of comments&#34;, 1, unitComments.size());</TD></TR><TR CLASS="z"><TD CLASS="l">3390</TD><TD>                        Comment comment = (Comment) unitComments.get(0);</TD></TR><TR CLASS="z"><TD CLASS="l"><A NAME="3e">3391</A></TD><TD>                        assertEquals(&#34;Comment should be javadoc&#34;, comment.getNodeType(), ASTNode.LINE_COMMENT);</TD></TR><TR><TD CLASS="l">3392</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">3393</TD><TD>        }</TD></TR><TR><TD CLASS="l">3394</TD><TD>        public void testBug130752c() throws JavaScriptModelException {</TD></TR><TR CLASS="z"><TD CLASS="l">3395</TD><TD>                workingCopies = new IJavaScriptUnit[1];</TD></TR><TR CLASS="z"><TD CLASS="l">3396</TD><TD>                workingCopies[0] = getWorkingCopy(&#34;/Converter15/src/javadoc/b130752/Test.js&#34;,</TD></TR><TR CLASS="z"><TD CLASS="l">3397</TD><TD>                        &#34;/** Javadoc comment */\n&#34; + </TD></TR><TR><TD CLASS="l">3398</TD><TD>                        &#34;package javadoc.b130752;\n&#34; + </TD></TR><TR><TD CLASS="l">3399</TD><TD>                        &#34;public class Test {\n&#34; + </TD></TR><TR><TD CLASS="l">3400</TD><TD>                        &#34;}\n&#34;</TD></TR><TR><TD CLASS="l">3401</TD><TD>                );</TD></TR><TR CLASS="z"><TD CLASS="l">3402</TD><TD>                JavaScriptUnit compilUnit = (JavaScriptUnit) runConversion(workingCopies[0], true);</TD></TR><TR CLASS="z"><TD CLASS="l">3403</TD><TD>                verifyWorkingCopiesComments();</TD></TR><TR CLASS="z"><TD CLASS="l">3404</TD><TD>                if (docCommentSupport.equals(JavaScriptCore.ENABLED)) {</TD></TR><TR><TD CLASS="l">3405</TD><TD>                        // Verify comment type</TD></TR><TR CLASS="z"><TD CLASS="l">3406</TD><TD>                        List unitComments = compilUnit.getCommentList();</TD></TR><TR CLASS="z"><TD CLASS="l">3407</TD><TD>                        assertEquals(&#34;Wrong number of comments&#34;, 1, unitComments.size());</TD></TR><TR CLASS="z"><TD CLASS="l">3408</TD><TD>                        Comment comment = (Comment) unitComments.get(0);</TD></TR><TR CLASS="z"><TD CLASS="l">3409</TD><TD>                        assertEquals(&#34;Comment should be javadoc&#34;, comment.getNodeType(), ASTNode.JSDOC);</TD></TR><TR><TD CLASS="l">3410</TD><TD>                }</TD></TR><TR CLASS="z"><TD CLASS="l">3411</TD><TD>        }</TD></TR><TR><TD CLASS="l">3412</TD><TD> </TD></TR><TR><TD CLASS="l">3413</TD><TD>}</TD></TR></TABLE><P></P><TABLE CLASS="hdft" CELLSPACING="0" WIDTH="100%"><TR><TD CLASS="nv">[<A HREF="../xslUnitTestCoverage.html">all classes</A>][<A HREF="108.html">org.eclipse.wst.jsdt.core.tests.dom</A>]</TD></TR><TR><TD CLASS="tl"><A HREF="http://www.eclemma.org/support.html">EMMA 2.0.5312 EclEmma Fix 1</A> (C) Vladimir Roubtsov</TD></TR></TABLE></BODY></HTML>