<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>

	<extension-point
		id="adapterFactoryDescription"
		name="%Adapter_Factory_Description_Extension.name" />
	<extension-point
		id="extendedEditorActions"
		name="%Extended_Editor_Actions_Extension.name" />
	<extension-point
		id="dropTargetTransfers"
		name="%Drop_Target_Transfers_Extension.name" />
	<extension-point
		id="editorConfiguration"
		name="%Extended_Editor_Configuration_Extension.name"
		schema="schema/editorconfiguration.exsd" />


	<!-- Make sure default preference values are set at runtime -->
	<extension point="org.eclipse.core.runtime.preferences">
		<initializer
			class="org.eclipse.wst.sse.ui.internal.PreferenceInitializer" />
	</extension>


	<!-- reusable extensions -->
	<extension point="org.eclipse.wst.sse.ui.editorConfiguration">
		<sourceViewerConfiguration
			class="org.eclipse.wst.sse.ui.StructuredTextViewerConfiguration"
			target="org.eclipse.wst.sse.ui.StructuredTextEditor" />
		<provisionalDefinition
			type="preferencepages"
			value="org.eclipse.wst.sse.ui.preferences.editor"
			target="org.eclipse.wst.sse.ui.StructuredTextEditor" />
	</extension>
	<!-- associate the NavigateActionSet with various parts of the XML perspective-->
	<extension point="org.eclipse.ui.actionSetPartAssociations">
		<actionSetPartAssociation
			targetID="org.eclipse.ui.edit.text.actionSet.annotationNavigation">
			<part
				id="org.eclipse.wst.sse.ui.StructuredTextEditor">
			</part>
		</actionSetPartAssociation>
		<actionSetPartAssociation
			targetID="org.eclipse.ui.NavigateActionSet">
			<!--
				<part id="org.eclipse.ui.views.ResourceNavigator"/>
				<part id="org.eclipse.ui.views.ContentOutline"/>
			-->
			<!--
				should probably only "force" association of action sets for workbench parts that we own
				or only if the view is focusse in the XMLPerspective
			-->
			<part
				id="org.eclipse.wst.sse.ui.StructuredTextEditor">
			</part>
		</actionSetPartAssociation>
	</extension>
	<extension point="org.eclipse.ui.preferencePages">
		<!-- ROOT PREFERENCE PAGE FOR WEB AND XML FILES -->
		<!--  Comment out for now since this preference page is not used
			<page
			name="%WEB_AND_XML_Files.name"
			class="org.eclipse.wst.sse.ui.internal.preferences.ui.FilePreferencePage"
			id="org.eclipse.wst.sse.ui.internal.provisional.preferences">
			</page>
		-->
		<page
			name="%WEB_AND_XML_Files.name"
			class="org.eclipse.wst.sse.ui.internal.preferences.ui.EmptyFilePreferencePage"
			id="org.eclipse.wst.sse.ui.internal.provisional.preferences">
		</page>
		<!-- "common" task tags preference page -->
		<page
			name="%Task_Tags_Preferences.name"
			category="org.eclipse.wst.sse.ui.internal.provisional.preferences"
			class="org.eclipse.wst.sse.ui.internal.preferences.ui.TaskTagPreferencePage"
			id="org.eclipse.wst.sse.ui.preferences.tasktags">
		</page>

		<!-- Source Editor Preference page under Workbench->Editors -->
		<page
			name="%Structured_Text_Editor.name"
			category="org.eclipse.ui.preferencePages.Editors"
			class="org.eclipse.wst.sse.ui.internal.preferences.ui.StructuredTextEditorPreferencePage"
			id="org.eclipse.wst.sse.ui.preferences.editor">
		</page>
	</extension>
	<!-- ================================================================================================ -->
	<!-- common task tags property page -->
	<!-- ================================================================================================ -->
	<extension point="org.eclipse.ui.propertyPages">
		<page
			id="org.eclipse.wst.sse.ui.project.properties.tasktags"
			name="%Task_Tags_Preferences.name"
			class="org.eclipse.wst.sse.ui.internal.preferences.ui.TaskTagPreferencePage">
         	<enabledWhen>
               	<and>
					<adapt type="org.eclipse.core.resources.IProject">
					</adapt>
				</and> 
			</enabledWhen>
		</page>
	</extension>

	<!--
		<extension-point id="dragSourceTransfers" name="Drag Source Transfers"/>
	-->
	<extension point="org.eclipse.ui.commands">
		<!-- Edit commands -->
		<command
			name="%ActionDefinition.selectEnclosing.name"
			description="%ActionDefinition.selectEnclosing.description"
			categoryId="org.eclipse.ui.category.edit"
			id="org.eclipse.wst.sse.ui.structure.select.enclosing">
		</command>
		<command
			name="%ActionDefinition.selectNext.name"
			description="%ActionDefinition.selectNext.description"
			categoryId="org.eclipse.ui.category.edit"
			id="org.eclipse.wst.sse.ui.structure.select.next">
		</command>
		<command
			name="%ActionDefinition.selectPrevious.name"
			description="%ActionDefinition.selectPrevious.description"
			categoryId="org.eclipse.ui.category.edit"
			id="org.eclipse.wst.sse.ui.structure.select.previous">
		</command>
		<command
			name="%ActionDefinition.selectLast.name"
			description="%ActionDefinition.selectLast.description"
			categoryId="org.eclipse.ui.category.edit"
			id="org.eclipse.wst.sse.ui.structure.select.last">
		</command>
		<command
			name="%ActionDefinition.showJavadoc.name"
			description="%ActionDefinition.showJavadoc.description"
			categoryId="org.eclipse.ui.category.edit"
			id="org.eclipse.wst.sse.ui.show.javadoc">
		</command>
		<command
			name="%ActionDefinition.quickFix.name"
			description="%ActionDefinition.quickFix.description"
			categoryId="org.eclipse.ui.category.edit"
			id="org.eclipse.wst.sse.ui.edit.text.java.correction.assist.proposals">
		</command>
		<!-- Source commands -->
		<command
			name="%command.toggle.comment.name"
			description="%command.toggle.comment.description"
			categoryId="org.eclipse.ui.category.edit"
			id="org.eclipse.wst.sse.ui.toggle.comment">
		</command>
		<command
			name="%command.add.block.comment.name"
			description="%command.add.block.comment.description"
			categoryId="org.eclipse.ui.category.edit"
			id="org.eclipse.wst.sse.ui.add.block.comment">
		</command>
		<command
			name="%command.remove.block.comment.name"
			description="%command.remove.block.comment.description"
			categoryId="org.eclipse.ui.category.edit"
			id="org.eclipse.wst.sse.ui.remove.block.comment">
		</command>
		<command
			name="%command.cleanup.document.name"
			description="%command.cleanup.document.description"
			categoryId="org.eclipse.ui.category.edit"
			id="org.eclipse.wst.sse.ui.cleanup.document">
		</command>
		<command
			name="%command.format.document.name"
			description="%command.format.document.description"
			categoryId="org.eclipse.ui.category.edit"
			id="org.eclipse.wst.sse.ui.format.document">
		</command>
		<command
			name="%command.format.active.elements.name"
			description="%command.format.active.elements.description"
			categoryId="org.eclipse.ui.category.edit"
			id="org.eclipse.wst.sse.ui.format.active.elements">
		</command>
		<!-- Navigate commands -->
		<command
			name="%command.open.file.from.source.name"
			description="%command.open.file.from.source.description"
			categoryId="org.eclipse.ui.category.edit"
			id="org.eclipse.wst.sse.ui.open.file.from.source">
		</command>
		<!-- Find Occurrences -->
		<command
			name="%command.search.find.occurrences.name"
			description="%command.search.find.occurrences.description"
			categoryId="org.eclipse.ui.category.edit"
			id="org.eclipse.wst.sse.ui.search.find.occurrences">
		</command>
	</extension>
	<!-- Keybinding scope for source editor -->
	<extension point="org.eclipse.ui.contexts">
		<context
			name="%scope.structuredTextEditor.name"
			parentId="org.eclipse.ui.textEditorScope"
			description="%scope.structuredTextEditor.description"
			id="org.eclipse.wst.sse.ui.structuredTextEditorScope">
		</context>
	</extension>
	<!-- Keybindings for source editor -->
	<extension point="org.eclipse.ui.bindings">
	    <!--  win32:  M1=CTRL, M2=SHIFT, M3=ALT -->
		<!-- Edit commands -->
		<key
			sequence="M2+M3+ARROW_UP"
			contextId="org.eclipse.wst.sse.ui.structuredTextEditorScope"
			commandId="org.eclipse.wst.sse.ui.structure.select.enclosing"
			schemeId="org.eclipse.ui.defaultAcceleratorConfiguration">
		</key>
		<key
			sequence="M2+M3+ARROW_RIGHT"
			contextId="org.eclipse.wst.sse.ui.structuredTextEditorScope"
			commandId="org.eclipse.wst.sse.ui.structure.select.next"
			schemeId="org.eclipse.ui.defaultAcceleratorConfiguration">
		</key>
		<key
			sequence="M2+M3+ARROW_LEFT"
			contextId="org.eclipse.wst.sse.ui.structuredTextEditorScope"
			commandId="org.eclipse.wst.sse.ui.structure.select.previous"
			schemeId="org.eclipse.ui.defaultAcceleratorConfiguration">
		</key>
		<key
			sequence="M2+M3+ARROW_DOWN"
			contextId="org.eclipse.wst.sse.ui.structuredTextEditorScope"
			commandId="org.eclipse.wst.sse.ui.structure.select.last"
			schemeId="org.eclipse.ui.defaultAcceleratorConfiguration">
		</key>
		<key
			sequence="F2"
			contextId="org.eclipse.wst.sse.ui.structuredTextEditorScope"
			commandId="org.eclipse.wst.sse.ui.show.javadoc"
			schemeId="org.eclipse.ui.defaultAcceleratorConfiguration">
		</key>
		<key
			sequence="M1+1"
			contextId="org.eclipse.wst.sse.ui.structuredTextEditorScope"
			commandId="org.eclipse.wst.sse.ui.edit.text.java.correction.assist.proposals"
			schemeId="org.eclipse.ui.defaultAcceleratorConfiguration">
		</key>
		<!-- Source commands -->
		<key
			sequence="M1+M2+C"
			contextId="org.eclipse.wst.sse.ui.structuredTextEditorScope"
			commandId="org.eclipse.wst.sse.ui.toggle.comment"
			schemeId="org.eclipse.ui.defaultAcceleratorConfiguration">
		</key>
		<key
			sequence="M1+M2+/"
			contextId="org.eclipse.wst.sse.ui.structuredTextEditorScope"
			commandId="org.eclipse.wst.sse.ui.add.block.comment"
			schemeId="org.eclipse.ui.defaultAcceleratorConfiguration">
		</key>
		<key
			sequence="M1+M2+\"
			contextId="org.eclipse.wst.sse.ui.structuredTextEditorScope"
			commandId="org.eclipse.wst.sse.ui.remove.block.comment"
			schemeId="org.eclipse.ui.defaultAcceleratorConfiguration">
		</key>
		<key
			sequence="M1+M2+F"
			contextId="org.eclipse.wst.sse.ui.structuredTextEditorScope"
			commandId="org.eclipse.wst.sse.ui.format.document"
			schemeId="org.eclipse.ui.defaultAcceleratorConfiguration">
		</key>
		<key
			sequence="M1+I"
			contextId="org.eclipse.wst.sse.ui.structuredTextEditorScope"
			commandId="org.eclipse.wst.sse.ui.format.active.elements"
			schemeId="org.eclipse.ui.defaultAcceleratorConfiguration">
		</key>
		<!-- Navigate commands -->
		<key
			sequence="F3"
			contextId="org.eclipse.wst.sse.ui.structuredTextEditorScope"
			commandId="org.eclipse.wst.sse.ui.open.file.from.source"
			schemeId="org.eclipse.ui.defaultAcceleratorConfiguration">
		</key>
		<!-- Find Occurrences -->
		<key
			sequence="M1+M2+A"
			contextId="org.eclipse.wst.sse.ui.structuredTextEditorScope"
			commandId="org.eclipse.wst.sse.ui.search.find.occurrences"
			schemeId="org.eclipse.ui.defaultAcceleratorConfiguration">
		</key>
	</extension>
	<!-- Font and colors contributions -->
	<extension point="org.eclipse.ui.themes">
		<themeElementCategory
			label="%Structured_Text_Editor.name"
			id="org.eclipse.wst.sse.ui">
		</themeElementCategory>
		<fontDefinition
			label="%sourceEditorFontDefiniton.label"
			categoryId="org.eclipse.wst.sse.ui"
			defaultsTo="org.eclipse.jface.textfont"
			id="org.eclipse.wst.sse.ui.textfont">
			<description>
				%sourceEditorFontDefintion.description
			</description>
		</fontDefinition>
	</extension>
	<extension point="org.eclipse.wst.sse.ui.dropTargetTransfers">
		<dropTargetContribution
			targetID="org.eclipse.wst.sse.ui.StructuredTextEditor"
			id="org.eclipse.wst.sse.ui.extension.ExtendedTransfers">
			<transfer
				priority="mid"
				singleton="true"
				class="org.eclipse.swt.dnd.FileTransfer"
				method="getInstance"
				id="org.eclipse.swt.dnd.FileTransfer">
			</transfer>
			<dropAction
				class="org.eclipse.wst.sse.ui.internal.FileDropAction"
				transferID="org.eclipse.swt.dnd.FileTransfer"
				id="org.eclipse.wst.sse.ui.internal.FileDropAction">
			</dropAction>
			<transfer
				priority="low"
				singleton="true"
				class="org.eclipse.swt.dnd.TextTransfer"
				method="getInstance"
				id="org.eclipse.swt.dnd.TextTransfer">
			</transfer>
			<dropAction
				class="org.eclipse.wst.sse.ui.internal.TextDropAction"
				transferID="org.eclipse.swt.dnd.TextTransfer"
				id="org.eclipse.wst.sse.ui.internal.TextDropAction">
			</dropAction>
		</dropTargetContribution>
	</extension>

	<extension point="org.eclipse.ui.editors.annotationTypes">
		<type
			super="org.eclipse.ui.workbench.texteditor.error"
			markerType="org.eclipse.wst.sse.problem"
			name="org.eclipse.wst.sse.ui.temp.error"
			markerSeverity="2">
		</type>
		<type
			super="org.eclipse.ui.workbench.texteditor.warning"
			markerType="org.eclipse.wst.sse.problem"
			name="org.eclipse.wst.sse.ui.temp.warning"
			markerSeverity="1">
		</type>

		<type
			super="org.eclipse.ui.workbench.texteditor.info"
			markerType="org.eclipse.wst.sse.problem"
			name="org.eclipse.wst.sse.ui.temp.info"
			markerSeverity="0">
		</type>
	</extension>
	<extension
		point="org.eclipse.ui.editors.markerAnnotationSpecification">

		<!--================================================================================================-->
		<!-- same as eclipse text ui (including preference keys), except for vertical ruler & preference page -->
		<!--================================================================================================-->
		<specification
			annotationType="org.eclipse.wst.sse.ui.temp.error"
			annotationImageProvider="org.eclipse.wst.sse.ui.internal.ui.StructuredTextAnnotationImageProvider"
			verticalRulerPreferenceValue="true"
			verticalRulerPreferenceKey="sseErrorIndicationInVerticalRuler"
			includeOnPreferencePage="false">
		</specification>
		<specification
			annotationType="org.eclipse.wst.sse.ui.temp.warning"
			annotationImageProvider="org.eclipse.wst.sse.ui.internal.ui.StructuredTextAnnotationImageProvider"
			verticalRulerPreferenceValue="false"
			verticalRulerPreferenceKey="sseWarningIndicationInVerticalRuler"
			includeOnPreferencePage="false">
		</specification>
		<specification
			annotationImageProvider="org.eclipse.wst.sse.ui.internal.ui.StructuredTextAnnotationImageProvider"
			annotationType="org.eclipse.wst.sse.ui.temp.info">
		</specification>
	</extension>
	<!-- dynamic content type supporting editor, no supported file extensions by default -->
	<extension point="org.eclipse.ui.editors">
		<editor
			name="%Standalone_Structured_Source_Editor.name"
			icon="$nl$/icons/sourceEditor.gif"
			contributorClass="org.eclipse.wst.sse.ui.internal.actions.ActionContributor"
			class="org.eclipse.wst.sse.ui.StructuredTextEditor"
			symbolicFontName="org.eclipse.wst.sse.ui.textfont"
			id="org.eclipse.wst.sse.ui.StructuredTextEditor">
		</editor>
	</extension>
	<extension point="org.eclipse.ui.popupMenus">
		<objectContribution
			objectClass="org.eclipse.core.resources.IContainer"
			id="org.eclipse.wst.sse.ui.actions.ContainerSourceActions">
			<menu
				label="%Source"
				path="additions"
				id="source">
				<groupMarker name="sourceGroup"></groupMarker>
			</menu>
			<action
				label="%FormatDocument"
				class="org.eclipse.wst.sse.ui.internal.actions.FormatActionDelegate"
				menubarPath="source/sourceGroup"
				enablesFor="+"
				id="org.eclipse.wst.sse.ui.actions.ContainerSourceActions.Format">
			</action>
		</objectContribution>
		<objectContribution
			objectClass="org.eclipse.core.resources.IFile"
			id="org.eclipse.wst.sse.ui.actions.FileSourceActions">
			<menu
				label="%Source"
				path="additions"
				id="source">
				<groupMarker name="sourceGroup"></groupMarker>
			</menu>
			<action
				label="%FormatDocument"
				class="org.eclipse.wst.sse.ui.internal.actions.FormatActionDelegate"
				menubarPath="source/sourceGroup"
				enablesFor="+"
				id="org.eclipse.wst.sse.ui.actions.FileSourceActions.Format">
			</action>
		</objectContribution>
   	</extension>
   <extension
         point="org.eclipse.ui.editorActions">
      <editorContribution
            targetID="org.eclipse.wst.sse.ui.StructuredTextEditor"
            id="org.eclipse.wst.sse.ui.StructuredTextEditor.ruler.actions">
         <action
               label="%AddBookmark.label"
               helpContextId="org.eclipse.ui.bookmark_action_context"
               class="org.eclipse.ui.texteditor.BookmarkRulerAction"
               actionID="RulerDoubleClick"
               id="org.eclipse.ui.texteditor.BookmarkRulerAction">
         </action>
         <action
               label="%SelectRuler.label"
               class="org.eclipse.ui.texteditor.SelectRulerAction"
               actionID="RulerClick"
               id="org.eclipse.ui.texteditor.SelectRulerAction">
         </action>
      </editorContribution>
   </extension>

	<!--================================================================================================-->
	<!-- contribute a SearchResultViewPage for Occurrences in file                                      -->
	<!--================================================================================================-->
	<extension
		id="Occurrences search page"
		point="org.eclipse.search.searchResultViewPages">
		<viewPage
			id="org.eclipse.wst.sse.ui.search.OccurrencesSearchResultPage"
			searchResultClass="org.eclipse.wst.sse.ui.internal.search.OccurrencesSearchResult"
			class="org.eclipse.wst.sse.ui.internal.search.OccurrencesSearchViewPage">
		</viewPage>
	</extension>

	<!-- extension point for breakpoint extension -->
	<extension-point
		id="breakpoint"
		name="%Breakpoint_Extension_Point.name" />
	<!-- extension point for source validation -->
	<!-- interfaces for this extension point can be found in org.eclipse.wst.validation -->
	<extension-point
		id="sourcevalidation"
		name="%Source_Validation_Extension_Point.name"
		schema="schema/org.eclipse.wst.sse.ui.sourcevalidation.exsd" />
</plugin>
