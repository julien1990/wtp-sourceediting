<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>
   <extension-point id="javascriptPreProcessor" name="%extension-point.name.0" schema="schema/javascriptPreProcessor.exsd"/>
   
   
   
   
   
   <!-- Full blown JSDT FACET -->
  <!--
   <extension point="org.eclipse.wst.common.project.facet.core.facets">
	    <category id="jsdt.category">
	    <label>JavaScript Development Toolkit</label>
	    <description>Enables advanced JavaScript support.</description>
	  </category>
   
   		<project-facet id="wst.jsdt.web">
			<label>JavaScript Toolkit</label>
	  	 	<description>Adds advanced JavaScript editing support.</description>
	  	  	<default-version version="1.0"/>
		</project-facet>
	
		<project-facet-version facet="wst.jsdt.web" version="1.0">
		
		<constraint>
			  <or>
			    <requires facet="jst.web"/>
			    <requires facet="wst.web"/>
			  </or>
		</constraint>
		
		</project-facet-version>
	
		<action facet="wst.jsdt.web" type="install" id="wst.jsdt.web.install" version="1.0">
	   		<delegate class="org.eclipse.wst.jsdt.web.core.internal.project.JsNatureInstaller"/>
		</action>
	
		<action facet="wst.jsdt.web" type="uninstall" id="wst.jsdt.web.uninstall" version="1.0">
			<delegate class="org.eclipse.wst.jsdt.web.core.internal.project.JsNatureUninstaller"/>
		</action>
	
	</extension>
	
	<extension point="org.eclipse.wst.common.project.facet.core.runtimes">
	  <supported>
	    <facet id="wst.jsdt.web"/>
	    <runtime-component any="true"/>
	  </supported>

	</extension>
   -->
   
   
   
   
   
   <extension point="org.eclipse.wst.jsdt.web.core.javascriptPreProcessor">
   		<javascriptPreProcessor
   			class="org.eclipse.wst.jsdt.web.core.javascript.JsTranslation"
   			priority="1" />
   </extension>
   
   <!-- Install Handler for web JSDT.. Pigybacks on wst.web facet-->
  
   <extension point="org.eclipse.wst.common.project.facet.core.facets">
   
		<event-handler facet="wst.web" type="POST_INSTALL" version="[1.0">
	   		<delegate class="org.eclipse.wst.jsdt.web.core.internal.project.JsNatureInstaller"/>
		</event-handler>
	
		<event-handler facet="wst.web" type="POST_UNINSTALL" version="[1.0">
			<delegate class="org.eclipse.wst.jsdt.web.core.internal.project.JsNatureUninstaller"/>
		</event-handler>

		<event-handler facet="jst.web" type="POST_INSTALL"  version="[2.0">
	   		<delegate class="org.eclipse.wst.jsdt.web.core.internal.project.JsNatureInstaller"/>
		</event-handler>
	
		<event-handler facet="jst.web" type="POST_UNINSTALL" version="[2.0">
			<delegate class="org.eclipse.wst.jsdt.web.core.internal.project.JsNatureUninstaller"/>
		</event-handler>

	
	</extension>
	
	<!-- removed due to JUnit failures during initial WTP build
	   <extension id="embeded.jsNature" name="%extension.name.0" point="org.eclipse.core.resources.natures"> 
		   <runtime>          
		   	<run class="org.eclipse.wst.jsdt.web.core.internal.project.JsWebNature"/>       
		   </runtime>       
	 	   <builder id="org.eclipse.wst.jsdt.web.core.embeded.javascript"/>    
	   </extension> 
	-->   

	   	<!-- 
	   	Not using this at the moment, but everythings in place if we need in the future. 
	    -->  
	   
	   <extension id="embeded.javascript" name="%extension.name.1" point="org.eclipse.core.resources.builders">       
		   	<builder hasNature="true" callOnEmptyDelta="true">
		   	      
		   	<run class="org.eclipse.wst.jsdt.web.core.internal.IncrementalBuilder"/>      
		   </builder>    
	   </extension>
	
	
	
	
	<!--
	<extension point="org.eclipse.wst.sse.core.taskscanner">
		<scanner
			id="org.eclipse.wst.jsdt.web.core.internal.tasks.JsFileTaskScanner"
			class="org.eclipse.wst.jsdt.web.core.internal.tasks.JsFileTaskScanner"
			contentTypeIds="org.eclipse.wst.html.core.htmlsource" />
	</extension>
	-->
	
	<extension point="org.eclipse.wst.sse.core.formatProcessors">
		<processor
			class="org.eclipse.wst.html.core.internal.format.HTMLFormatProcessorImpl"
			contentTypeId="org.eclipse.wst.html.core.htmlsource">
		</processor>
	</extension>
	

	<!--======================================================================================-->
	<!-- JSP batch validation                                       						  -->
	<!--======================================================================================-->
	<extension
		id="JsBatchValidator"
		name="%javascript.validator"
		point="org.eclipse.wst.validation.validator">
		<validator>
			<projectNature id="org.eclipse.wst.jsdt.core.jsNature" />

			<filter
				objectClass="org.eclipse.core.resources.IFile"
				nameFilter="*.html">
			</filter>
			<filter
				objectClass="org.eclipse.core.resources.IFile"
				nameFilter="*.htm">
			</filter>
			
			<filter
				objectClass="org.eclipse.core.resources.IFile"
				nameFilter="*.jsp">
			</filter>
			 

			<helper
				class="org.eclipse.wst.validation.internal.operations.WorkbenchContext">
			</helper>

			<run
				enabled="false"
				class="org.eclipse.wst.jsdt.web.core.internal.validation.JsBatchValidator">
			</run>
		</validator>
	</extension>
	
	<extension  point="org.eclipse.wst.jsdt.core.JsGlobalScopeContainerInitializer">
	      <JsGlobalScopeContainerInitializer
	            class="org.eclipse.wst.jsdt.web.core.internal.project.WebProjectJsGlobalScopeContainerInitializer"
	            id="org.eclipse.wst.jsdt.launching.WebProject">
	      </JsGlobalScopeContainerInitializer>
  	 </extension>
	
</plugin>
