<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>

	<extension point="org.eclipse.ui.editors">
		<editor
			name="%_UI_EDITOR_NAME"
			default="true"
			icon="icons/XSDFile.gif"
			contributorClass="org.eclipse.wst.xsd.ui.internal.XSDActionBarContributor"
			class="org.eclipse.wst.xsd.ui.internal.XSDEditor"
			id="org.eclipse.wst.xsd.ui.XSDEditor">
            <contentTypeBinding
                contentTypeId="org.eclipse.wst.xsd.core.xsdsource" />
                
		</editor>
	</extension>
	<!-- drop targets for XSDTextEditor-->
	<extension point="org.eclipse.wst.sse.ui.dropTargetTransfers">
		<dropTargetContribution
			targetID="org.eclipse.wst.xsd.ui.internal.XSDTextEditor"
			id="org.eclipse.wst.xsd.ui.ExtendedTransfers">
			<transfer
				priority="mid"
				singleton="true"
				class="org.eclipse.swt.dnd.FileTransfer"
				method="getInstance"
				id="org.eclipse.swt.dnd.FileTransfer">
			</transfer>
			<dropAction
				class="org.eclipse.wst.sse.ui.internal.FileDropAction"
				transferID="org.eclipse.swt.dnd.FileTransfer"
				id="org.eclipse.wst.sse.ui.internal.FileDropAction">
			</dropAction>
			<transfer
				priority="low"
				singleton="true"
				class="org.eclipse.swt.dnd.TextTransfer"
				method="getInstance"
				id="org.eclipse.swt.dnd.TextTransfer">
			</transfer>
			<dropAction
				class="org.eclipse.wst.sse.ui.internal.TextDropAction"
				transferID="org.eclipse.swt.dnd.TextTransfer"
				id="org.eclipse.wst.sse.ui.internal.TextDropAction">
			</dropAction>
		</dropTargetContribution>
	</extension>

	<extension point="org.eclipse.ui.editorActions">
        <editorContribution
            targetID="org.eclipse.wst.xsd.core.xsdsource.source"
            id="org.eclipse.wst.xsd.core.xsdsource.ruler.actions">
         <action
               label="%Dummy.label"
               helpContextId="org.eclipse.ui.bookmark_action_context"
               class="org.eclipse.ui.texteditor.BookmarkRulerAction"
               actionID="RulerDoubleClick"
               id="org.eclipse.ui.texteditor.BookmarkRulerAction"/>
         <action
               label="%Dummy.label"
               class="org.eclipse.ui.texteditor.SelectRulerAction"
               actionID="RulerClick"
               id="org.eclipse.ui.texteditor.SelectRulerAction"/>
        </editorContribution>
	</extension>

	<extension point="org.eclipse.ui.newWizards">
		<wizard
			id="org.eclipse.wst.xsd.ui.internal.wizards.NewXSDWizard"
			name="%_UI_WIZARD_NEW_XSD"
			class="org.eclipse.wst.xsd.ui.internal.wizards.NewXSDWizard"
			category="org.eclipse.wst.XMLCategory"
			icon="icons/XSDFile.gif">
			<description>%_UI_CREATE_A_NEW_SCHEMA</description>
			<selection class="org.eclipse.core.resources.IResource" />
		</wizard>
	</extension>

	<extension point="org.eclipse.ui.preferencePages">
		<page
			name="%_UI_XML_SCHEMA_PREFERENCE"
			category="org.eclipse.wst.sse.ui.internal.provisional.preferences"
			class="org.eclipse.wst.xsd.ui.internal.preferences.XSDPreferencePage"
			id="org.eclipse.wst.xsd.ui.internal.preferences.XSDPreferencePage">
		</page>
	</extension>
	<extension point="org.eclipse.wst.sse.ui.editorConfiguration">
		<provisionalDefinition
			type="preferencepages"
			value="org.eclipse.wst.xsd.ui.internal.preferences.XSDPreferencePage"
			target="org.eclipse.wst.xsd.ui.internal.XSDEditor.source" />
		<sourceViewerConfiguration
			class="org.eclipse.wst.xsd.ui.internal.StructuredTextViewerConfigurationXSD"
			target="org.eclipse.wst.xsd.core.xsdsource" />
		<contentOutlineConfiguration
			class="org.eclipse.wst.xsd.ui.internal.XSDContentOutlineConfiguration"
			target="org.eclipse.wst.xsd.core.xsdsource" />
	</extension>

	<!-- ==================================================== -->
	<!-- Support help on the tags                             -->
	<!-- ==================================================== -->
	<!--   <extension
		point="org.eclipse.wst.xml.core.internal.contentmodel.annotationFiles">
		<annotationFile
		location="/w3c/schemaForCodeAssist-annotations.xml"
		publicId="http://www.w3.org/2001/XMLSchema">
		</annotationFile>
		</extension>
	-->
	<extension
		point="org.eclipse.wst.common.ui.properties.propertyContributor">
		<propertyContributor
			contributorId="org.eclipse.wst.xsd.ui.internal.XSDEditor"
			sectionDescriptorProvider="org.eclipse.wst.xsd.ui.internal.properties.section.XSDSectionDescriptorProvider"
			labelProvider="org.eclipse.wst.xsd.ui.internal.properties.section.XSDSectionLabelProvider">
			<propertyCategory category="general"></propertyCategory>
			<propertyCategory category="namespace"></propertyCategory>
			<propertyCategory category="other"></propertyCategory>
			<propertyCategory category="attributes"></propertyCategory>
			<propertyCategory category="enumerations">
			</propertyCategory>
			<propertyCategory category="documentation">
			</propertyCategory>
			<propertyCategory category="facets"></propertyCategory>
		</propertyContributor>
	</extension>
	<extension
		point="org.eclipse.wst.common.ui.properties.propertyTabs">
		<propertyTabs
			contributorId="org.eclipse.wst.xsd.ui.internal.XSDEditor">
			<propertyTab
				label="%_UI_LABEL_GENERAL"
				category="general"
				id="org.eclipse.wst.xmlwebservices.general">
			</propertyTab>
			<propertyTab
				label="%_UI_LABEL_NAMESPACE"
				category="namespace"
				afterTab="org.eclipse.wst.xmlwebservices.general"
				id="org.eclipse.wst.xmlwebservices.namespace">
			</propertyTab>
			<propertyTab
				label="%_UI_LABEL_OTHER"
				category="other"
				id="org.eclipse.wst.xmlwebservices.other">
			</propertyTab>
			<propertyTab
				label="%_UI_LABEL_ATTRIBUTES"
				category="attributes"
				id="org.eclipse.wst.xmlwebservices.attributes">
			</propertyTab>
			<propertyTab
				label="%_UI_LABEL_ENUMERATIONS"
				category="enumerations"
				id="org.eclipse.wst.xmlwebservices.enumerations">
			</propertyTab>
			<propertyTab
				label="%_UI_LABEL_DOCUMENTATION"
				category="documentation"
				id="org.eclipse.wst.xmlwebservices.documentation">
			</propertyTab>
			<propertyTab
				label="%_UI_SECTION_ADVANCED_ATTRIBUTES"
				category="facets"
				id="org.eclipse.wst.xmlwebservices.facets">
			</propertyTab>
		</propertyTabs>
	</extension>


	<extension
		point="org.eclipse.wst.xml.core.catalogContributions">
		<catalogContribution id="default">
		
			<uri
				name="http://www.w3.org/2001/XMLSchema"
				uri="platform:/plugin/org.eclipse.xsd/cache/www.w3.org/2001/XMLSchema.xsd" />
			<system
				systemId="http://www.w3.org/2001/xml.xsd"
				uri="platform:/plugin/org.eclipse.xsd/cache/www.w3.org/2001/xml.xsd"/>				
		</catalogContribution>
	</extension>


	<!-- intialize xsd reconcile validator -->
	<extension point="org.eclipse.wst.sse.ui.sourcevalidation">
		<validator
			scope="total"
			class="org.eclipse.wst.xsd.ui.internal.validation.DelegatingSourceValidatorForXSD"
			id="org.eclipse.wst.xsd.ui.internal.validation.DelegatingSourceValidatorForXSD">
			<contentTypeIdentifier
				id="org.eclipse.wst.xsd.core.xsdsource">
				<partitionType id="org.eclipse.wst.xml.XML_DEFAULT">
				</partitionType>
			</contentTypeIdentifier>
		</validator>
	</extension>

	<extension point="org.eclipse.ui.contexts">
		<context
			id="org.eclipse.wst.xsd.ui.text.editor.context"
			name="%context.text.editor.xsd.name"
			parentId="org.eclipse.ui.textEditorScope" />
	</extension>

	<extension point="org.eclipse.ui.commands">
		<command
			name="%command.xsd.refactor.rename.element.name"
			description="%command.xsd.refactor.rename.element.description"
			categoryId="org.eclipse.ui.category.edit"
			id="org.eclipse.wst.xsd.ui.refactor.rename.element">
		</command>
		<keyBinding
			keySequence="Alt+Shift+R"
			contextId="org.eclipse.wst.xsd.ui.text.editor.context"
			commandId="org.eclipse.wst.xsd.ui.refactor.rename.element"
			keyConfigurationId="org.eclipse.ui.defaultAcceleratorConfiguration">
		</keyBinding>
	</extension>

	<extension point="org.eclipse.ui.commands">
		<command
			name="%command.xsd.refactor.makeElementGlobal.element.name"
			description="%command.xsd.refactor.makeElementGlobal.element.description"
			categoryId="org.eclipse.ui.category.edit"
			id="org.eclipse.wst.xsd.ui.refactor.makeElementGlobal">
		</command>
	</extension>

	<extension point="org.eclipse.ui.commands">
		<command
			name="%command.xsd.refactor.makeTypeGlobal.element.name"
			description="%command.xsd.refactor.makeTypeGlobal.element.description"
			categoryId="org.eclipse.ui.category.edit"
			id="org.eclipse.wst.xsd.ui.refactor.makeTypeGlobal">
		</command>
	</extension>

	<!-- this extension point is used to augment the ModelQuery to provide schema specific guided editing -->
	<extension point="org.eclipse.wst.xml.core.modelQueryExtensions">
		<modelQueryExtension
			class="org.eclipse.wst.xsd.ui.internal.text.XSDModelQueryExtension"
			contentType="org.eclipse.wst.xsd.core.xsdsource">
		</modelQueryExtension>
	</extension>

	<!--extension
		point="org.eclipse.ltk.core.refactoring.renameParticipants">
		<renameParticipant
		name="%xsd.resource.rename.participant.name"
		class="org.eclipse.wst.xsd.ui.internal.refactor.rename.XSDResourceRenameParticipant"
		id="org.eclipse.wst.xsd.ui.refactoring.XSDResourceRenameParticipant">
		<enablement>
		<with
		variable="element">
		<instanceof
		value="org.eclipse.core.resources.IResource">
		</instanceof>
		</with>
		</enablement>
		</renameParticipant>
		</extension-->

	<!-- 
		The following extension to the file context menu is temporary until resource 
		navigator will provide allow to extend refactor menu        
	-->
	<!--
		<extension point="org.eclipse.ui.popupMenus">
		<objectContribution
		objectClass="org.eclipse.core.resources.IFile"
		nameFilter="*.xsd"
		id="org.wst.xsd.ui.rename">
		<menu id="refactorXSDResource" path="additions" label="%refactoring.menu.label">
		<separator name="refactor"/>
		</menu>
		<action
		label="%refactoring.renameAction.label"
		menubarPath="refactorXSDResource/refactor"
		class="org.eclipse.wst.xsd.ui.internal.refactor.actions.RenameResourceActionDelegate"
		enablesFor="1"
		id="org.eclipse.wst.xsd.ui.refactoring.actions.RenameResource">
		</action>
		</objectContribution>
		</extension>
	-->
	
	<!-- ====================================================== -->
	<!-- Define Assign Validate action on .xsd file             -->
	<!-- ====================================================== -->
	<extension point="org.eclipse.ui.popupMenus">
		<objectContribution
			objectClass="org.eclipse.core.resources.IFile"
			nameFilter="*.xsd"
			id="org.eclipse.wst.xsd.validation.xsdvalidationaction">
			<action
				label="%_UI_MENU_VALIDATE_XML"
				class="org.eclipse.wst.xsd.ui.internal.validation.ValidateSchemaActionDelegate"
				enablesFor="1"
				id="org.eclipse.wst.xsd.ui.internal.validation.ValidateSchemaActionDelegate">
			</action>
		</objectContribution>
	</extension>

	<!-- ====================================================== -->
	<!-- Register the XSD validator with the validation 		-->
	<!-- framework. 										    -->
	<!-- ====================================================== -->
	<extension
		id="xsdValidator"
		name="%_UI_XML_SCHEMA_VALIDATOR"
		point="org.eclipse.wst.validation.validator">
		<validator>
			<filter
				objectClass="org.eclipse.core.resources.IFile"
				caseSensitive="false"
				nameFilter="*.xsd">
			</filter>
			<helper
				class="org.eclipse.wst.xml.core.internal.validation.core.Helper">
			</helper>
			<run
				class="org.eclipse.wst.xsd.ui.internal.validation.Validator">
			</run>
		</validator>
	</extension>

</plugin>
