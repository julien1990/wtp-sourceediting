<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>
   <extension-point id="elTranslator" name="%extension-point.name.0" schema="schema/eltranslator.exsd"/>

	<extension point="org.eclipse.wst.sse.core.modelHandler">
		<modelHandler
			class="org.eclipse.jst.jsp.core.internal.modelhandler.ModelHandlerForJSP"
			associatedContentTypeId="org.eclipse.jst.jsp.core.jspsource"
			id="org.eclipse.jst.jsp.core.internal.modelhandler">
		</modelHandler>
	</extension>

	<extension point="org.eclipse.wst.xml.core.documentFactories">
		<factory
			type="tld"
			class="org.eclipse.jst.jsp.core.internal.contentmodel.tld.CMDocumentFactoryTLD">
		</factory>
	</extension>

	<extension point="org.eclipse.wst.sse.core.taskscanner">
		<scanner
			id="org.eclipse.jst.jsp.core.internal.tasks.JSPFileTaskScanner"
			class="org.eclipse.jst.jsp.core.internal.tasks.JSPFileTaskScanner"
			contentTypeIds="org.eclipse.jst.jsp.core.jspsource" />
	</extension>

	<extension
		point="org.eclipse.core.filebuffers.documentCreation"
		id="org.eclipse.jst.jsp.core.documentfactories"
		name="%Structured_JSP_Document_Factory_Extension.name">
		<factory
			contentTypeId="org.eclipse.jst.jsp.core.jspsource"
			class="org.eclipse.wst.sse.core.internal.filebuffers.BasicStructuredDocumentFactory" />
	</extension>
	<extension
		point="org.eclipse.core.filebuffers.documentSetup"
		id="org.eclipse.jst.jsp.core.documentsetup"
		name="%Structured_JSP_Document_Setup_participant.name">
		<participant
			contentTypeId="org.eclipse.jst.jsp.core.jspsource"
			class="org.eclipse.jst.jsp.core.internal.contentmodel.TaglibController" />
	</extension>
	<extension point="org.eclipse.team.core.fileTypes">
		<fileTypes
			type="text"
			extension="jsp">
		</fileTypes>
		<fileTypes
			type="text"
			extension="jspf" />
		<fileTypes
			type="text"
			extension="jspx" />
		<fileTypes
			type="text"
			extension="jsf">
		</fileTypes>
		<fileTypes
			type="text"
			extension="jsv">
		</fileTypes>
		<fileTypes
			type="text"
			extension="jtpl">
		</fileTypes>
		<fileTypes
			type="text"
			extension="tld" />
		<fileTypes
			type="text"
			extension="tag" />
		<fileTypes
			type="text"
			extension="tagx" />
		<fileTypes
			type="text"
			extension="tagf" />
	</extension>
	<extension point="org.eclipse.wst.sse.core.formatProcessors">
		<processor
			class="org.eclipse.wst.html.core.internal.format.HTMLFormatProcessorImpl"
			contentTypeId="org.eclipse.jst.jsp.core.jspsource">
		</processor>
	</extension>

	<extension point="org.eclipse.core.runtime.contentTypes">
		<!-- create content type for JSP files -->
		<content-type
			file-extensions="jsp,jsv,jtpl,jspx"
			priority="high"
			name="%JSP_Content_Type_Extension_Element.name"
			id="jspsource"
			base-type="org.eclipse.core.runtime.text"
			default-charset="ISO-8859-1">
			<describer
				class="org.eclipse.jst.jsp.core.internal.contenttype.ContentDescriberForJSP" />
		</content-type>
		<!-- create content type for JSP fragment files -->
		<content-type
			file-extensions="jspf,jsf"
			priority="high"
			name="%JSP_Fragment_Content_Type_Extension_Element.name"
			id="jspfragmentsource"
			base-type="org.eclipse.jst.jsp.core.jspsource"
			default-charset="ISO-8859-1">
			<describer
				class="org.eclipse.jst.jsp.core.internal.contenttype.ContentDescriberForJSP" />
		</content-type>
		<!-- create content type for JSP 2.0 Tag file types -->
		<content-type
			file-extensions="tag,tagx,tagf"
			priority="high"
			name="%JSP_Tag_Content_Type_Extension_Element.name"
			id="tagsource"
			base-type="org.eclipse.jst.jsp.core.jspsource"
			default-charset="UTF-8"/>
		<!-- create content type for .tld files -->
		<content-type
			file-extensions="tld"
			priority="high"
			name="%JSP_TLD_Content_Type_Extension_Element.name"
			id="tldsource"
			base-type="org.eclipse.core.runtime.xml"
			default-charset="UTF-8"/>
	</extension>

	<!-- initialize jsp core preferences -->
	<extension point="org.eclipse.core.runtime.preferences">
		<initializer
			class="org.eclipse.jst.jsp.core.internal.preferences.JSPCorePreferenceInitializer" />
	</extension>

	<!--======================================================================================-->
	<!-- JSP EL batch validator				                                                  -->
	<!--======================================================================================-->
	<extension
		id="JSPELValidator"
		name="%EL_Syntax_Validator.name"
		point="org.eclipse.wst.validation.validator">
		<validator>
			<projectNature id="org.eclipse.wst.common.modulecore.ModuleCoreNature" />
			<projectNature id="org.eclipse.jdt.core.javanature" />
			<filter
				objectClass="org.eclipse.core.resources.IFile"
				nameFilter="*.jsp">
			</filter>
			<filter
				objectClass="org.eclipse.core.resources.IFile"
				nameFilter="*.jspf">
			</filter>
			<filter
				objectClass="org.eclipse.core.resources.IFile"
				nameFilter="*.jsf">
			</filter>
			<filter
				objectClass="org.eclipse.core.resources.IFile"
				nameFilter="*.jsv">
			</filter>
			<filter
				objectClass="org.eclipse.core.resources.IFile"
				nameFilter="*.jtpl">
			</filter>
			<helper
				class="org.eclipse.wst.validation.internal.operations.WorkbenchContext">
			</helper>
			<run
				enabled="true"
				class="org.eclipse.jst.jsp.core.internal.validation.JSPELValidator">
			</run>
		</validator>
	</extension>

	<!--======================================================================================-->
	<!-- JSP batch validation                                       						  -->
	<!--======================================================================================-->
	<extension
		id="JSPJavaValidator"
		name="%JSP_Syntax_Validator.name"
		point="org.eclipse.wst.validation.validator">
		<validator>
			<projectNature id="org.eclipse.wst.common.modulecore.ModuleCoreNature" />
			<projectNature id="org.eclipse.jdt.core.javanature" />

			<filter
				objectClass="org.eclipse.core.resources.IFile"
				nameFilter="*.jsp">
			</filter>
			<filter
				objectClass="org.eclipse.core.resources.IFile"
				nameFilter="*.jspf">
			</filter>
			<filter
				objectClass="org.eclipse.core.resources.IFile"
				nameFilter="*.jsf">
			</filter>
			<filter
				objectClass="org.eclipse.core.resources.IFile"
				nameFilter="*.jsv">
			</filter>
			<filter
				objectClass="org.eclipse.core.resources.IFile"
				nameFilter="*.jtpl">
			</filter>
			<helper
				class="org.eclipse.wst.validation.internal.operations.WorkbenchContext">
			</helper>
			<run
				enabled="true"
				class="org.eclipse.jst.jsp.core.internal.validation.JSPJavaValidator">
			</run>
		</validator>
	</extension>
	
	<!--======================================================================================-->
	<!-- JSP directive batch validation                                						  -->
	<!--======================================================================================-->
	<extension
		id="JSPDirectiveValidator"
		name="%JSP_Directive_Validator.name"
		point="org.eclipse.wst.validation.validator">
		<validator>
			<projectNature id="org.eclipse.wst.common.modulecore.ModuleCoreNature" />
			<projectNature id="org.eclipse.jdt.core.javanature" />

			<filter
				objectClass="org.eclipse.core.resources.IFile"
				nameFilter="*.jsp">
			</filter>
			<filter
				objectClass="org.eclipse.core.resources.IFile"
				nameFilter="*.jspf">
			</filter>
			<filter
				objectClass="org.eclipse.core.resources.IFile"
				nameFilter="*.jsf">
			</filter>
			<filter
				objectClass="org.eclipse.core.resources.IFile"
				nameFilter="*.jsv">
			</filter>
			<filter
				objectClass="org.eclipse.core.resources.IFile"
				nameFilter="*.jtpl">
			</filter>
			<helper
				class="org.eclipse.wst.validation.internal.operations.WorkbenchContext">
			</helper>
			<run
				enabled="true"
				class="org.eclipse.jst.jsp.core.internal.validation.JSPDirectiveValidator">
			</run>
		</validator>
	</extension>
	
	<!--======================================================================================-->
	<!-- source (as you type) validation for JSP Java				   						  -->
	<!--======================================================================================-->
	<extension point="org.eclipse.wst.sse.ui.sourcevalidation">
		<validator
			scope="total"
			class="org.eclipse.jst.jsp.core.internal.validation.JSPJavaValidator"
			id="org.eclipse.jst.jsp.jspsourcevalidator">
			<contentTypeIdentifier
				id="org.eclipse.jst.jsp.core.jspsource">
				<partitionType id="org.eclipse.jst.jsp.DEFAULT_JSP">
				</partitionType>
				<partitionType id="org.eclipse.jst.jsp.SCRIPT.JAVA">
				</partitionType>
				<partitionType id="org.eclipse.jst.jsp.SCRIPT.DELIMITER">
				</partitionType>
				<partitionType id="org.eclipse.jst.jsp.JSP_DIRECTIVE">
				</partitionType>
			</contentTypeIdentifier>
		</validator>
	</extension>
	<!--======================================================================================-->
	<!-- source validation for JSP EL				   										  -->
	<!--======================================================================================-->
	<extension point="org.eclipse.wst.sse.ui.sourcevalidation">
		<validator
			scope="total"
			class="org.eclipse.jst.jsp.core.internal.validation.JSPELValidator"
			id="org.eclipse.jst.jsp.jspelsourcevalidator">
			<contentTypeIdentifier
				id="org.eclipse.jst.jsp.core.jspsource">
				<partitionType id="org.eclipse.jst.jsp.SCRIPT.JSP_EL">
				</partitionType>
			</contentTypeIdentifier>
		</validator>
	</extension>
	<!--======================================================================================-->
	<!-- source (as you type) validation for JSP directive			   						  -->
	<!--======================================================================================-->
	<extension point="org.eclipse.wst.sse.ui.sourcevalidation">
		<validator
			scope="partial"
			class="org.eclipse.jst.jsp.core.internal.validation.JSPDirectiveValidator"
			id="org.eclipse.jst.jsp.tldsourcevalidator">
			<contentTypeIdentifier
				id="org.eclipse.jst.jsp.core.jspsource">
				<partitionType id="org.eclipse.jst.jsp.DEFAULT_JSP">
				</partitionType>
				<partitionType id="org.eclipse.jst.jsp.JSP_DIRECTIVE">
				</partitionType>
			</contentTypeIdentifier>
		</validator>
	</extension>
	
    <extension
       point="org.eclipse.jst.jsp.core.elTranslator">
       <elTranslator
          class="org.eclipse.jst.jsp.core.internal.java.jspel.JSPELTranslator"
          name="Default JSP 2.0 EL Translator"
          id="org.eclipse.jst.jsp.defaultJSP20"/>
    </extension>
</plugin>
